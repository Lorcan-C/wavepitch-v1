var Su=Object.defineProperty;var xu=(t,e,r)=>e in t?Su(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var eo=(t,e,r)=>xu(t,typeof e!="symbol"?e+"":e,r);import{j as C,S as Eu,u as hn,c as Ts,L as to}from"./ui-BPEaaZ_l.js";import{a as Wa,r as w,R as _,b as Ba}from"./vendor-BStAX1aO.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var qa,ro=Wa;qa=ro.createRoot,ro.hydrateRoot;var Cu=Object.freeze({InvalidProxyUrlErrorMessage:"The proxyUrl passed to Clerk is invalid. The expected value for proxyUrl is an absolute URL or a relative path with a leading '/'. (key={{url}})",InvalidPublishableKeyErrorMessage:"The publishableKey passed to Clerk is invalid. You can get your Publishable key at https://dashboard.clerk.com/last-active?path=api-keys. (key={{key}})",MissingPublishableKeyErrorMessage:"Missing publishableKey. You can get your key at https://dashboard.clerk.com/last-active?path=api-keys.",MissingSecretKeyErrorMessage:"Missing secretKey. You can get your key at https://dashboard.clerk.com/last-active?path=api-keys.",MissingClerkProvider:"{{source}} can only be used within the <ClerkProvider /> component. Learn more: https://clerk.com/docs/components/clerk-provider"});function Ha({packageName:t,customMessages:e}){let r=t;function n(i,o){if(!o)return`${r}: ${i}`;let a=i;const l=i.matchAll(/{{([a-zA-Z0-9-_]+)}}/g);for(const c of l){const u=(o[c[1]]||"").toString();a=a.replace(`{{${c[1]}}}`,u)}return`${r}: ${a}`}const s={...Cu,...e};return{setPackageName({packageName:i}){return typeof i=="string"&&(r=i),this},setMessages({customMessages:i}){return Object.assign(s,i||{}),this},throwInvalidPublishableKeyError(i){throw new Error(n(s.InvalidPublishableKeyErrorMessage,i))},throwInvalidProxyUrl(i){throw new Error(n(s.InvalidProxyUrlErrorMessage,i))},throwMissingPublishableKeyError(){throw new Error(n(s.MissingPublishableKeyErrorMessage))},throwMissingSecretKeyError(){throw new Error(n(s.MissingSecretKeyErrorMessage))},throwMissingClerkProviderError(i){throw new Error(n(s.MissingClerkProvider,i))},throw(i){throw new Error(n(i))}}}var Va=Object.defineProperty,Pu=Object.getOwnPropertyDescriptor,Iu=Object.getOwnPropertyNames,Ru=Object.prototype.hasOwnProperty,Ou=(t,e)=>{for(var r in e)Va(t,r,{get:e[r],enumerable:!0})},Tu=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of Iu(e))!Ru.call(t,s)&&s!==r&&Va(t,s,{get:()=>e[s],enumerable:!(n=Pu(e,s))||n.enumerable});return t},Mu=(t,e,r)=>(Tu(t,e,"default"),r),Ga=t=>typeof atob<"u"&&typeof atob=="function"?atob(t):typeof global<"u"&&global.Buffer?new global.Buffer(t,"base64").toString():t,Au=[".lcl.dev",".stg.dev",".lclstage.dev",".stgstage.dev",".dev.lclclerk.com",".stg.lclclerk.com",".accounts.lclclerk.com","accountsstage.dev","accounts.dev"],Ka="pk_live_",ju="pk_test_";function Ja(t){if(!t.endsWith("$"))return!1;const e=t.slice(0,-1);return e.includes("$")?!1:e.includes(".")}function no(t,e={}){if(t=t||"",!t||!Ms(t)){if(e.fatal&&!t)throw new Error("Publishable key is missing. Ensure that your publishable key is correctly configured. Double-check your environment configuration for your keys, or access them here: https://dashboard.clerk.com/last-active?path=api-keys");if(e.fatal&&!Ms(t))throw new Error("Publishable key not valid.");return null}const r=t.startsWith(Ka)?"production":"development";let n;try{n=Ga(t.split("_")[2])}catch{if(e.fatal)throw new Error("Publishable key not valid: Failed to decode key.");return null}if(!Ja(n)){if(e.fatal)throw new Error("Publishable key not valid: Decoded key has invalid format.");return null}let s=n.slice(0,-1);return e.proxyUrl?s=e.proxyUrl:r!=="development"&&e.domain&&e.isSatellite&&(s=`clerk.${e.domain}`),{instanceType:r,frontendApi:s}}function Ms(t=""){try{if(!(t.startsWith(Ka)||t.startsWith(ju)))return!1;const r=t.split("_");if(r.length!==3)return!1;const n=r[2];if(!n)return!1;const s=Ga(n);return Ja(s)}catch{return!1}}function Fu(){const t=new Map;return{isDevOrStagingUrl:e=>{if(!e)return!1;const r=typeof e=="string"?e:e.hostname;let n=t.get(r);return n===void 0&&(n=Au.some(s=>r.endsWith(s)),t.set(r,n)),n}}}var Ya={exports:{}},Xa={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xt=w;function Nu(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var $u=typeof Object.is=="function"?Object.is:Nu,Lu=Xt.useState,Uu=Xt.useEffect,Du=Xt.useLayoutEffect,zu=Xt.useDebugValue;function Wu(t,e){var r=e(),n=Lu({inst:{value:r,getSnapshot:e}}),s=n[0].inst,i=n[1];return Du(function(){s.value=r,s.getSnapshot=e,Yn(s)&&i({inst:s})},[t,r,e]),Uu(function(){return Yn(s)&&i({inst:s}),t(function(){Yn(s)&&i({inst:s})})},[t]),zu(r),r}function Yn(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!$u(t,r)}catch{return!0}}function Bu(t,e){return e()}var qu=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Bu:Wu;Xa.useSyncExternalStore=Xt.useSyncExternalStore!==void 0?Xt.useSyncExternalStore:qu;Ya.exports=Xa;var Za=Ya.exports;const Qa=0,el=1,tl=2,so=3;var io=Object.prototype.hasOwnProperty;function As(t,e){var r,n;if(t===e)return!0;if(t&&e&&(r=t.constructor)===e.constructor){if(r===Date)return t.getTime()===e.getTime();if(r===RegExp)return t.toString()===e.toString();if(r===Array){if((n=t.length)===e.length)for(;n--&&As(t[n],e[n]););return n===-1}if(!r||typeof t=="object"){n=0;for(r in t)if(io.call(t,r)&&++n&&!io.call(e,r)||!(r in e)||!As(t[r],e[r]))return!1;return Object.keys(e).length===n}}return t!==t&&e!==e}const Ge=new WeakMap,wt=()=>{},ge=wt(),pn=Object,D=t=>t===ge,We=t=>typeof t=="function",ht=(t,e)=>({...t,...e}),rl=t=>We(t.then),Xn={},Wr={},Ii="undefined",jr=typeof window!=Ii,js=typeof document!=Ii,Hu=jr&&"Deno"in window,Vu=()=>jr&&typeof window.requestAnimationFrame!=Ii,bt=(t,e)=>{const r=Ge.get(t);return[()=>!D(e)&&t.get(e)||Xn,n=>{if(!D(e)){const s=t.get(e);e in Wr||(Wr[e]=s),r[5](e,ht(s,n),s||Xn)}},r[6],()=>!D(e)&&e in Wr?Wr[e]:!D(e)&&t.get(e)||Xn]};let Fs=!0;const Gu=()=>Fs,[Ns,$s]=jr&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[wt,wt],Ku=()=>{const t=js&&document.visibilityState;return D(t)||t!=="hidden"},Ju=t=>(js&&document.addEventListener("visibilitychange",t),Ns("focus",t),()=>{js&&document.removeEventListener("visibilitychange",t),$s("focus",t)}),Yu=t=>{const e=()=>{Fs=!0,t()},r=()=>{Fs=!1};return Ns("online",e),Ns("offline",r),()=>{$s("online",e),$s("offline",r)}},Xu={isOnline:Gu,isVisible:Ku},Zu={initFocus:Ju,initReconnect:Yu},oo=!_.useId,Rr=!jr||Hu,Qu=t=>Vu()?window.requestAnimationFrame(t):setTimeout(t,1),Sr=Rr?w.useEffect:w.useLayoutEffect,Zn=typeof navigator<"u"&&navigator.connection,ao=!Rr&&Zn&&(["slow-2g","2g"].includes(Zn.effectiveType)||Zn.saveData),Br=new WeakMap,ed=t=>pn.prototype.toString.call(t),Qn=(t,e)=>t===`[object ${e}]`;let td=0;const Ls=t=>{const e=typeof t,r=ed(t),n=Qn(r,"Date"),s=Qn(r,"RegExp"),i=Qn(r,"Object");let o,a;if(pn(t)===t&&!n&&!s){if(o=Br.get(t),o)return o;if(o=++td+"~",Br.set(t,o),Array.isArray(t)){for(o="@",a=0;a<t.length;a++)o+=Ls(t[a])+",";Br.set(t,o)}if(i){o="#";const l=pn.keys(t).sort();for(;!D(a=l.pop());)D(t[a])||(o+=a+":"+Ls(t[a])+",");Br.set(t,o)}}else o=n?t.toJSON():e=="symbol"?t.toString():e=="string"?JSON.stringify(t):""+t;return o},Zt=t=>{if(We(t))try{t=t()}catch{t=""}const e=t;return t=typeof t=="string"?t:(Array.isArray(t)?t.length:t)?Ls(t):"",[t,e]};let rd=0;const Us=()=>++rd;async function nl(...t){const[e,r,n,s]=t,i=ht({populateCache:!0,throwOnError:!0},typeof s=="boolean"?{revalidate:s}:s||{});let o=i.populateCache;const a=i.rollbackOnError;let l=i.optimisticData;const c=d=>typeof a=="function"?a(d):a!==!1,u=i.throwOnError;if(We(r)){const d=r,p=[],g=e.keys();for(const f of g)!/^\$(inf|sub)\$/.test(f)&&d(e.get(f)._k)&&p.push(f);return Promise.all(p.map(h))}return h(r);async function h(d){const[p]=Zt(d);if(!p)return;const[g,f]=bt(e,p),[v,m,y,k]=Ge.get(e),x=()=>{const L=v[p];return(We(i.revalidate)?i.revalidate(g().data,d):i.revalidate!==!1)&&(delete y[p],delete k[p],L&&L[0])?L[0](tl).then(()=>g().data):g().data};if(t.length<3)return x();let E=n,T,M=!1;const S=Us();m[p]=[S,0];const F=!D(l),j=g(),N=j.data,A=j._c,q=D(A)?N:A;if(F&&(l=We(l)?l(q,N):l,f({data:l,_c:q})),We(E))try{E=E(q)}catch(L){T=L,M=!0}if(E&&rl(E))if(E=await E.catch(L=>{T=L,M=!0}),S!==m[p][0]){if(M)throw T;return E}else M&&F&&c(T)&&(o=!0,f({data:q,_c:ge}));if(o&&!M)if(We(o)){const L=o(E,q);f({data:L,error:ge,_c:ge})}else f({data:E,error:ge,_c:ge});if(m[p][1]=Us(),Promise.resolve(x()).then(()=>{f({_c:ge})}),M){if(u)throw T;return}return E}}const lo=(t,e)=>{for(const r in t)t[r][0]&&t[r][0](e)},sl=(t,e)=>{if(!Ge.has(t)){const r=ht(Zu,e),n=Object.create(null),s=nl.bind(ge,t);let i=wt;const o=Object.create(null),a=(u,h)=>{const d=o[u]||[];return o[u]=d,d.push(h),()=>d.splice(d.indexOf(h),1)},l=(u,h,d)=>{t.set(u,h);const p=o[u];if(p)for(const g of p)g(h,d)},c=()=>{if(!Ge.has(t)&&(Ge.set(t,[n,Object.create(null),Object.create(null),Object.create(null),s,l,a]),!Rr)){const u=r.initFocus(setTimeout.bind(ge,lo.bind(ge,n,Qa))),h=r.initReconnect(setTimeout.bind(ge,lo.bind(ge,n,el)));i=()=>{u&&u(),h&&h(),Ge.delete(t)}}};return c(),[t,s,c,i]}return[t,Ge.get(t)[4]]},nd=(t,e,r,n,s)=>{const i=r.errorRetryCount,o=s.retryCount,a=~~((Math.random()+.5)*(1<<(o<8?o:8)))*r.errorRetryInterval;!D(i)&&o>i||setTimeout(n,a,s)},sd=As,[Fr,il]=sl(new Map),ol=ht({onLoadingSlow:wt,onSuccess:wt,onError:wt,onErrorRetry:nd,onDiscarded:wt,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:ao?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:ao?5e3:3e3,compare:sd,isPaused:()=>!1,cache:Fr,mutate:il,fallback:{}},Xu),al=(t,e)=>{const r=ht(t,e);if(e){const{use:n,fallback:s}=t,{use:i,fallback:o}=e;n&&i&&(r.use=n.concat(i)),s&&o&&(r.fallback=ht(s,o))}return r},Ds=w.createContext({}),id=t=>{const{value:e}=t,r=w.useContext(Ds),n=We(e),s=w.useMemo(()=>n?e(r):e,[n,r,e]),i=w.useMemo(()=>n?s:al(r,s),[n,r,s]),o=s&&s.provider,a=w.useRef(ge);o&&!a.current&&(a.current=sl(o(i.cache||Fr),s));const l=a.current;return l&&(i.cache=l[0],i.mutate=l[1]),Sr(()=>{if(l)return l[2]&&l[2](),l[3]},[]),w.createElement(Ds.Provider,ht(t,{value:i}))},ll="$inf$",cl=jr&&window.__SWR_DEVTOOLS_USE__,od=cl?window.__SWR_DEVTOOLS_USE__:[],ad=()=>{cl&&(window.__SWR_DEVTOOLS_REACT__=_)},ul=t=>We(t[1])?[t[0],t[1],t[2]||{}]:[t[0],null,(t[1]===null?t[2]:t[1])||{}],dl=()=>ht(ol,w.useContext(Ds)),ld=(t,e)=>{const[r,n]=Zt(t),[,,,s]=Ge.get(Fr);if(s[r])return s[r];const i=e(n);return s[r]=i,i},cd=t=>(e,r,n)=>t(e,r&&((...i)=>{const[o]=Zt(e),[,,,a]=Ge.get(Fr);if(o.startsWith(ll))return r(...i);const l=a[o];return D(l)?r(...i):(delete a[o],l)}),n),ud=od.concat(cd),dd=t=>function(...r){const n=dl(),[s,i,o]=ul(r),a=al(n,o);let l=t;const{use:c}=a,u=(c||[]).concat(ud);for(let h=u.length;h--;)l=u[h](l);return l(s,i||a.fetcher||null,a)},hd=(t,e,r)=>{const n=e[t]||(e[t]=[]);return n.push(r),()=>{const s=n.indexOf(r);s>=0&&(n[s]=n[n.length-1],n.pop())}},pd=(t,e)=>(...r)=>{const[n,s,i]=ul(r),o=(i.use||[]).concat(e);return t(n,s,{...i,use:o})};ad();const fd=()=>{},gd=fd(),zs=Object,co=t=>t===gd,vd=t=>typeof t=="function",qr=new WeakMap,md=t=>zs.prototype.toString.call(t),es=(t,e)=>t===`[object ${e}]`;let _d=0;const Ws=t=>{const e=typeof t,r=md(t),n=es(r,"Date"),s=es(r,"RegExp"),i=es(r,"Object");let o,a;if(zs(t)===t&&!n&&!s){if(o=qr.get(t),o)return o;if(o=++_d+"~",qr.set(t,o),Array.isArray(t)){for(o="@",a=0;a<t.length;a++)o+=Ws(t[a])+",";qr.set(t,o)}if(i){o="#";const l=zs.keys(t).sort();for(;!co(a=l.pop());)co(t[a])||(o+=a+":"+Ws(t[a])+",");qr.set(t,o)}}else o=n?t.toJSON():e=="symbol"?t.toString():e=="string"?JSON.stringify(t):""+t;return o},bd=t=>{if(vd(t))try{t=t()}catch{t=""}const e=t;return t=typeof t=="string"?t:(Array.isArray(t)?t.length:t)?Ws(t):"",[t,e]},yd=t=>bd(t)[0],ts=_.use||(t=>{switch(t.status){case"pending":throw t;case"fulfilled":return t.value;case"rejected":throw t.reason;default:throw t.status="pending",t.then(e=>{t.status="fulfilled",t.value=e},e=>{t.status="rejected",t.reason=e}),t}}),rs={dedupe:!0},wd=(t,e,r)=>{const{cache:n,compare:s,suspense:i,fallbackData:o,revalidateOnMount:a,revalidateIfStale:l,refreshInterval:c,refreshWhenHidden:u,refreshWhenOffline:h,keepPreviousData:d}=r,[p,g,f,v]=Ge.get(n),[m,y]=Zt(t),k=w.useRef(!1),x=w.useRef(!1),E=w.useRef(m),T=w.useRef(e),M=w.useRef(r),S=()=>M.current,F=()=>S().isVisible()&&S().isOnline(),[j,N,A,q]=bt(n,m),L=w.useRef({}).current,V=D(o)?D(r.fallback)?ge:r.fallback[m]:o,G=(K,J)=>{for(const pe in L){const re=pe;if(re==="data"){if(!s(K[re],J[re])&&(!D(K[re])||!s(De,J[re])))return!1}else if(J[re]!==K[re])return!1}return!0},z=w.useMemo(()=>{const K=!m||!e?!1:D(a)?S().isPaused()||i?!1:l!==!1:a,J=Ee=>{const tt=ht(Ee);return delete tt._k,K?{isValidating:!0,isLoading:!0,...tt}:tt},pe=j(),re=q(),xe=J(pe),Lt=pe===re?xe:J(re);let me=xe;return[()=>{const Ee=J(j());return G(Ee,me)?(me.data=Ee.data,me.isLoading=Ee.isLoading,me.isValidating=Ee.isValidating,me.error=Ee.error,me):(me=Ee,Ee)},()=>Lt]},[n,m]),te=Za.useSyncExternalStore(w.useCallback(K=>A(m,(J,pe)=>{G(pe,J)||K()}),[n,m]),z[0],z[1]),se=!k.current,Se=p[m]&&p[m].length>0,X=te.data,B=D(X)?V&&rl(V)?ts(V):V:X,he=te.error,ue=w.useRef(B),De=d?D(X)?D(ue.current)?B:ue.current:X:B,Fe=Se&&!D(he)?!1:se&&!D(a)?a:S().isPaused()?!1:i?D(B)?!1:l:D(B)||l,Dr=!!(m&&e&&se&&Fe),Hn=D(te.isValidating)?Dr:te.isValidating,Vn=D(te.isLoading)?Dr:te.isLoading,Oe=w.useCallback(async K=>{const J=T.current;if(!m||!J||x.current||S().isPaused())return!1;let pe,re,xe=!0;const Lt=K||{},me=!f[m]||!Lt.dedupe,Ee=()=>oo?!x.current&&m===E.current&&k.current:m===E.current,tt={isValidating:!1,isLoading:!1},Xi=()=>{N(tt)},Zi=()=>{const ze=f[m];ze&&ze[1]===re&&delete f[m]},Qi={isValidating:!0};D(j().data)&&(Qi.isLoading=!0);try{if(me&&(N(Qi),r.loadingTimeout&&D(j().data)&&setTimeout(()=>{xe&&Ee()&&S().onLoadingSlow(m,r)},r.loadingTimeout),f[m]=[J(y),Us()]),[pe,re]=f[m],pe=await pe,me&&setTimeout(Zi,r.dedupingInterval),!f[m]||f[m][1]!==re)return me&&Ee()&&S().onDiscarded(m),!1;tt.error=ge;const ze=g[m];if(!D(ze)&&(re<=ze[0]||re<=ze[1]||ze[1]===0))return Xi(),me&&Ee()&&S().onDiscarded(m),!1;const rt=j().data;tt.data=s(rt,pe)?rt:pe,me&&Ee()&&S().onSuccess(pe,m,r)}catch(ze){Zi();const rt=S(),{shouldRetryOnError:Kn}=rt;rt.isPaused()||(tt.error=ze,me&&Ee()&&(rt.onError(ze,m,rt),(Kn===!0||We(Kn)&&Kn(ze))&&(!S().revalidateOnFocus||!S().revalidateOnReconnect||F())&&rt.onErrorRetry(ze,m,rt,ku=>{const Jn=p[m];Jn&&Jn[0]&&Jn[0](so,ku)},{retryCount:(Lt.retryCount||0)+1,dedupe:!0})))}return xe=!1,Xi(),!0},[m,n]),zr=w.useCallback((...K)=>nl(n,E.current,...K),[]);if(Sr(()=>{T.current=e,M.current=r,D(X)||(ue.current=X)}),Sr(()=>{if(!m)return;const K=Oe.bind(ge,rs);let J=0;S().revalidateOnFocus&&(J=Date.now()+S().focusThrottleInterval);const re=hd(m,p,(xe,Lt={})=>{if(xe==Qa){const me=Date.now();S().revalidateOnFocus&&me>J&&F()&&(J=me+S().focusThrottleInterval,K())}else if(xe==el)S().revalidateOnReconnect&&F()&&K();else{if(xe==tl)return Oe();if(xe==so)return Oe(Lt)}});return x.current=!1,E.current=m,k.current=!0,N({_k:y}),Fe&&(f[m]||(D(B)||Rr?K():Qu(K))),()=>{x.current=!0,re()}},[m]),Sr(()=>{let K;function J(){const re=We(c)?c(j().data):c;re&&K!==-1&&(K=setTimeout(pe,re))}function pe(){!j().error&&(u||S().isVisible())&&(h||S().isOnline())?Oe(rs).then(J):J()}return J(),()=>{K&&(clearTimeout(K),K=-1)}},[c,u,h,m]),w.useDebugValue(De),i&&D(B)&&m){if(!oo&&Rr)throw new Error("Fallback data is required when using Suspense in SSR.");T.current=e,M.current=r,x.current=!1;const K=v[m];if(!D(K)){const J=zr(K);ts(J)}if(D(he)){const J=Oe(rs);D(De)||(J.status="fulfilled",J.value=!0),ts(J)}else throw he}return{mutate:zr,get data(){return L.data=!0,De},get error(){return L.error=!0,he},get isValidating(){return L.isValidating=!0,Hn},get isLoading(){return L.isLoading=!0,Vn}}},kd=pn.defineProperty(id,"defaultValue",{value:ol}),Ri=dd(wd),Sd=Object.freeze(Object.defineProperty({__proto__:null,SWRConfig:kd,default:Ri,mutate:il,preload:ld,unstable_serialize:yd,useSWRConfig:dl},Symbol.toStringTag,{value:"Module"})),xd=()=>{},Ed=xd(),Bs=Object,uo=t=>t===Ed,Cd=t=>typeof t=="function",Hr=new WeakMap,Pd=t=>Bs.prototype.toString.call(t),ns=(t,e)=>t===`[object ${e}]`;let Id=0;const qs=t=>{const e=typeof t,r=Pd(t),n=ns(r,"Date"),s=ns(r,"RegExp"),i=ns(r,"Object");let o,a;if(Bs(t)===t&&!n&&!s){if(o=Hr.get(t),o)return o;if(o=++Id+"~",Hr.set(t,o),Array.isArray(t)){for(o="@",a=0;a<t.length;a++)o+=qs(t[a])+",";Hr.set(t,o)}if(i){o="#";const l=Bs.keys(t).sort();for(;!uo(a=l.pop());)uo(t[a])||(o+=a+":"+qs(t[a])+",");Hr.set(t,o)}}else o=n?t.toJSON():e=="symbol"?t.toString():e=="string"?JSON.stringify(t):""+t;return o},Rd=t=>{if(Cd(t))try{t=t()}catch{t=""}const e=t;return t=typeof t=="string"?t:(Array.isArray(t)?t.length:t)?qs(t):"",[t,e]},Od=t=>Rd(t?t(0,null):null)[0],ss=Promise.resolve(),Td=t=>(e,r,n)=>{const s=w.useRef(!1),{cache:i,initialSize:o=1,revalidateAll:a=!1,persistSize:l=!1,revalidateFirstPage:c=!0,revalidateOnMount:u=!1,parallel:h=!1}=n,[,,,d]=Ge.get(Fr);let p;try{p=Od(e),p&&(p=ll+p)}catch{}const[g,f,v]=bt(i,p),m=w.useCallback(()=>D(g()._l)?o:g()._l,[i,p,o]);Za.useSyncExternalStore(w.useCallback(S=>p?v(p,()=>{S()}):()=>{},[i,p]),m,m);const y=w.useCallback(()=>{const S=g()._l;return D(S)?o:S},[p,o]),k=w.useRef(y());Sr(()=>{if(!s.current){s.current=!0;return}p&&f({_l:l?k.current:y()})},[p,i]);const x=u&&!s.current,E=t(p,async S=>{const F=g()._i,j=g()._r;f({_r:ge});const N=[],A=y(),[q]=bt(i,S),L=q().data,V=[];let G=null;for(let z=0;z<A;++z){const[te,se]=Zt(e(z,h?null:G));if(!te)break;const[Se,X]=bt(i,te);let B=Se().data;const he=a||F||D(B)||c&&!z&&!D(L)||x||L&&!D(L[z])&&!n.compare(L[z],B);if(r&&(typeof j=="function"?j(B,se):he)){const ue=async()=>{if(!(te in d))B=await r(se);else{const Fe=d[te];delete d[te],B=await Fe}X({data:B,_k:se}),N[z]=B};h?V.push(ue):await ue()}else N[z]=B;h||(G=B)}return h&&await Promise.all(V.map(z=>z())),f({_i:ge}),N},n),T=w.useCallback(function(S,F){const j=typeof F=="boolean"?{revalidate:F}:F||{},N=j.revalidate!==!1;return p?(N&&(D(S)?f({_i:!0,_r:j.revalidate}):f({_i:!1,_r:j.revalidate})),arguments.length?E.mutate(S,{...j,revalidate:N}):E.mutate()):ss},[p,i]),M=w.useCallback(S=>{if(!p)return ss;const[,F]=bt(i,p);let j;if(We(S)?j=S(y()):typeof S=="number"&&(j=S),typeof j!="number")return ss;F({_l:j}),k.current=j;const N=[],[A]=bt(i,p);let q=null;for(let L=0;L<j;++L){const[V]=Zt(e(L,q)),[G]=bt(i,V),z=V?G().data:ge;if(D(z))return T(A().data);N.push(z),q=z}return T(N)},[p,i,T,y]);return{size:y(),setSize:M,mutate:T,get data(){return E.data},get error(){return E.error},get isValidating(){return E.isValidating},get isLoading(){return E.isLoading}}},Md=pd(Ri,Td);var ho=Object.prototype.hasOwnProperty;function po(t,e,r){for(r of t.keys())if(xr(r,e))return r}function xr(t,e){var r,n,s;if(t===e)return!0;if(t&&e&&(r=t.constructor)===e.constructor){if(r===Date)return t.getTime()===e.getTime();if(r===RegExp)return t.toString()===e.toString();if(r===Array){if((n=t.length)===e.length)for(;n--&&xr(t[n],e[n]););return n===-1}if(r===Set){if(t.size!==e.size)return!1;for(n of t)if(s=n,s&&typeof s=="object"&&(s=po(e,s),!s)||!e.has(s))return!1;return!0}if(r===Map){if(t.size!==e.size)return!1;for(n of t)if(s=n[0],s&&typeof s=="object"&&(s=po(e,s),!s)||!xr(n[1],e.get(s)))return!1;return!0}if(r===ArrayBuffer)t=new Uint8Array(t),e=new Uint8Array(e);else if(r===DataView){if((n=t.byteLength)===e.byteLength)for(;n--&&t.getInt8(n)===e.getInt8(n););return n===-1}if(ArrayBuffer.isView(t)){if((n=t.byteLength)===e.byteLength)for(;n--&&t[n]===e[n];);return n===-1}if(!r||typeof t=="object"){n=0;for(r in t)if(ho.call(t,r)&&++n&&!ho.call(e,r)||!(r in e)||!xr(t[r],e[r]))return!1;return Object.keys(e).length===n}}return t!==t&&e!==e}function Ad(t,e){if(!t)throw typeof e=="string"?new Error(e):new Error(`${e.displayName} not found`)}var et=(t,e)=>{const{assertCtxFn:r=Ad}={},n=_.createContext(void 0);return n.displayName=t,[n,()=>{const o=_.useContext(n);return r(o,`${t} not found`),o.value},()=>{const o=_.useContext(n);return o?o.value:{}}]},Oi={};Ou(Oi,{useSWR:()=>Ri,useSWRInfinite:()=>Md});Mu(Oi,Sd);var[hl,pl]=et("ClerkInstanceContext"),[jd,Gv]=et("UserContext"),[Fd,Kv]=et("ClientContext"),[Nd,Jv]=et("SessionContext");_.createContext({});var[$d,Yv]=et("CheckoutContext"),Ld=({children:t,...e})=>_.createElement($d.Provider,{value:{value:e}},t),[Ud,Xv]=et("OrganizationContext"),Dd=({children:t,organization:e,swrConfig:r})=>_.createElement(Oi.SWRConfig,{value:r},_.createElement(Ud.Provider,{value:{value:{organization:e}}},t));function fl(t){if(!_.useContext(hl)){if(typeof t=="function"){t();return}throw new Error(`${t} can only be used within the <ClerkProvider /> component.

Possible fixes:
1. Ensure that the <ClerkProvider /> is correctly wrapping your application where this component is used.
2. Check for multiple versions of the \`@clerk/shared\` package in your project. Use a tool like \`npm ls @clerk/shared\` to identify multiple versions, and update your dependencies to only rely on one.

Learn more: https://clerk.com/docs/components/clerk-provider`.trim())}}typeof window<"u"?_.useLayoutEffect:_.useEffect;var zd=()=>(fl("useClerk"),pl()),fo=xr,Wd=t=>{const e=w.useRef(t);return w.useEffect(()=>{e.current=t},[t]),e.current},Ne=(t,e,r)=>{const n=!!r,s=w.useRef(r);w.useEffect(()=>{s.current=r},[r]),w.useEffect(()=>{if(!n||!t)return()=>{};const i=(...o)=>{s.current&&s.current(...o)};return t.on(e,i),()=>{t.off(e,i)}},[n,e,t,s])},gl=_.createContext(null);gl.displayName="ElementsContext";var Bd=(t,e)=>{if(!t)throw new Error(`Could not find Elements context; You need to wrap the part of your app that ${e} in an <Elements> provider.`);return t},fn=t=>t!==null&&typeof t=="object",qd=(t,e,r)=>fn(t)?Object.keys(t).reduce((n,s)=>{const i=!fn(e)||!vl(t[s],e[s]);return r.includes(s)?(i&&console.warn(`Unsupported prop change: options.${s} is not a mutable property.`),n):i?{...n||{},[s]:t[s]}:n},null):null,go="[object Object]",vl=(t,e)=>{if(!fn(t)||!fn(e))return t===e;const r=Array.isArray(t),n=Array.isArray(e);if(r!==n)return!1;const s=Object.prototype.toString.call(t)===go,i=Object.prototype.toString.call(e)===go;if(s!==i)return!1;if(!s&&!r)return t===e;const o=Object.keys(t),a=Object.keys(e);if(o.length!==a.length)return!1;const l={};for(let p=0;p<o.length;p+=1)l[o[p]]=!0;for(let p=0;p<a.length;p+=1)l[a[p]]=!0;const c=Object.keys(l);if(c.length!==o.length)return!1;const u=t,h=e,d=p=>vl(u[p],h[p]);return c.every(d)},vo=t=>{const e=_.useContext(gl);return Bd(e,t)},Hd=t=>t.charAt(0).toUpperCase()+t.slice(1),Vd=(t,e)=>{const r=`${Hd(t)}Element`,i=e?o=>{vo(`mounts <${r}>`);const{id:a,className:l}=o;return _.createElement("div",{id:a,className:l})}:({id:o,className:a,fallback:l,options:c={},onBlur:u,onFocus:h,onReady:d,onChange:p,onEscape:g,onClick:f,onLoadError:v,onLoaderStart:m,onNetworksChange:y,onConfirm:k,onCancel:x,onShippingAddressChange:E,onShippingRateChange:T})=>{const M=vo(`mounts <${r}>`),S="elements"in M?M.elements:null,[F,j]=_.useState(null),N=_.useRef(null),A=_.useRef(null),[q,L]=w.useState(!1);Ne(F,"blur",u),Ne(F,"focus",h),Ne(F,"escape",g),Ne(F,"click",f),Ne(F,"loaderror",v),Ne(F,"loaderstart",m),Ne(F,"networkschange",y),Ne(F,"confirm",k),Ne(F,"cancel",x),Ne(F,"shippingaddresschange",E),Ne(F,"shippingratechange",T),Ne(F,"change",p);let V;d&&(V=()=>{L(!0),d(F)}),Ne(F,"ready",V),_.useLayoutEffect(()=>{if(N.current===null&&A.current!==null&&S){let z=null;S&&(z=S.create(t,c)),N.current=z,j(z),z&&z.mount(A.current)}},[S,c]);const G=Wd(c);return _.useEffect(()=>{if(!N.current)return;const z=qd(c,G,["paymentRequest"]);z&&"update"in N.current&&N.current.update(z)},[c,G]),_.useLayoutEffect(()=>()=>{if(N.current&&typeof N.current.destroy=="function")try{N.current.destroy(),N.current=null}catch{}},[]),_.createElement(_.Fragment,null,!q&&l,_.createElement("div",{id:o,style:{height:q?"unset":"0px",visibility:q?"visible":"hidden"},className:a,ref:A}))};return i.displayName=r,i.__elementType=t,i},Gd=typeof window>"u";Vd("payment",Gd);et("StripeLibsContext");et("PaymentElementContext");et("StripeUtilsContext");var ut=Ha({packageName:"@clerk/clerk-react"});function Kd(t){ut.setMessages(t).setPackageName(t)}var[Jd,Zv]=et("AuthContext"),Yd=hl,Xd=pl,Zd="You've added multiple <ClerkProvider> components in your React component tree. Wrap your components in a single <ClerkProvider>.",Qd=t=>`You've passed multiple children components to <${t}/>. You can only pass a single child component or text.`,is="Unsupported usage of isSatellite, domain or proxyUrl. The usage of isSatellite, domain or proxyUrl as function is not supported in non-browser environments.",eh="<UserProfile.Page /> component needs to be a direct child of `<UserProfile />` or `<UserButton />`.",th="<UserProfile.Link /> component needs to be a direct child of `<UserProfile />` or `<UserButton />`.",rh="<OrganizationProfile.Page /> component needs to be a direct child of `<OrganizationProfile />` or `<OrganizationSwitcher />`.",nh="<OrganizationProfile.Link /> component needs to be a direct child of `<OrganizationProfile />` or `<OrganizationSwitcher />`.",sh=t=>`<${t} /> can only accept <${t}.Page /> and <${t}.Link /> as its children. Any other provided component will be ignored. Additionally, please ensure that the component is rendered in a client component.`,ih=t=>`Missing props. <${t}.Page /> component requires the following props: url, label, labelIcon, alongside with children to be rendered inside the page.`,oh=t=>`Missing props. <${t}.Link /> component requires the following props: url, label and labelIcon.`,ah="<UserButton /> can only accept <UserButton.UserProfilePage />, <UserButton.UserProfileLink /> and <UserButton.MenuItems /> as its children. Any other provided component will be ignored. Additionally, please ensure that the component is rendered in a client component.",lh="<UserButton.MenuItems /> component can only accept <UserButton.Action /> and <UserButton.Link /> as its children. Any other provided component will be ignored. Additionally, please ensure that the component is rendered in a client component.",ch="<UserButton.MenuItems /> component needs to be a direct child of `<UserButton />`.",uh="<UserButton.Action /> component needs to be a direct child of `<UserButton.MenuItems />`.",dh="<UserButton.Link /> component needs to be a direct child of `<UserButton.MenuItems />`.",hh="Missing props. <UserButton.Link /> component requires the following props: href, label and labelIcon.",ph="Missing props. <UserButton.Action /> component requires the following props: label.",fh=t=>{fl(()=>{ut.throwMissingClerkProviderError({source:t})})},ne=(t,e)=>{const n=(typeof e=="string"?e:e==null?void 0:e.component)||t.displayName||t.name||"Component";t.displayName=n;const s=typeof e=="string"?void 0:e,i=o=>{fh(n||"withClerk");const a=Xd();return!a.loaded&&!(s!=null&&s.renderWhileLoading)?null:_.createElement(t,{...o,component:n,clerk:a})};return i.displayName=`withClerk(${n})`,i},gh=()=>{try{return!1}catch{}return!1},vh=()=>{try{return!1}catch{}return!1},mh=()=>{try{return!0}catch{}return!1},mo=new Set,Ti=(t,e,r)=>{const n=vh()||mh(),s=t;mo.has(s)||n||(mo.add(s),console.warn(`Clerk - DEPRECATION WARNING: "${t}" is deprecated and will be removed in the next major release.
${e}`))};ne(({clerk:t,...e})=>{const{client:r,session:n}=t,s=r.signedInSessions?r.signedInSessions.length>0:r.activeSessions&&r.activeSessions.length>0;return _.useEffect(()=>{n===null&&s?t.redirectToAfterSignOut():t.redirectToSignIn(e)},[]),null},"RedirectToSignIn");ne(({clerk:t,...e})=>(_.useEffect(()=>{t.redirectToSignUp(e)},[]),null),"RedirectToSignUp");ne(({clerk:t,...e})=>(_.useEffect(()=>{t.redirectToTasks(e)},[]),null),"RedirectToTasks");ne(({clerk:t})=>(_.useEffect(()=>{Ti("RedirectToUserProfile","Use the `redirectToUserProfile()` method instead."),t.redirectToUserProfile()},[]),null),"RedirectToUserProfile");ne(({clerk:t})=>(_.useEffect(()=>{Ti("RedirectToOrganizationProfile","Use the `redirectToOrganizationProfile()` method instead."),t.redirectToOrganizationProfile()},[]),null),"RedirectToOrganizationProfile");ne(({clerk:t})=>(_.useEffect(()=>{Ti("RedirectToCreateOrganization","Use the `redirectToCreateOrganization()` method instead."),t.redirectToCreateOrganization()},[]),null),"RedirectToCreateOrganization");ne(({clerk:t,...e})=>(_.useEffect(()=>{t.handleRedirectCallback(e)},[]),null),"AuthenticateWithRedirectCallback");var Ie=t=>{gh()&&console.error(`Clerk: ${t}`)};function os(t,e,r){if(typeof t=="function")return t(e);if(typeof t<"u")return t;if(typeof r<"u")return r}var _o=(t,...e)=>{const r={...t};for(const n of e)delete r[n];return r},On=t=>e=>{try{return _.Children.only(t)}catch{return ut.throw(Qd(e))}},Tn=(t,e)=>(t||(t=e),typeof t=="string"&&(t=_.createElement("button",null,t)),t),Mn=t=>(...e)=>{if(t&&typeof t=="function")return t(...e)};function _h(t){return typeof t=="function"}var Vr=new Map;function bh(t,e,r=1){_.useEffect(()=>{const n=Vr.get(t)||0;return n==r?ut.throw(e):(Vr.set(t,n+1),()=>{Vr.set(t,(Vr.get(t)||1)-1)})},[])}function yh(t,e,r){const n=t.displayName||t.name||e||"Component",s=i=>(bh(e,r),_.createElement(t,{...i}));return s.displayName=`withMaxAllowedInstancesGuard(${n})`,s}var Er=t=>{const[e,r]=w.useState(new Map);return t.map(n=>({id:n.id,mount:s=>r(i=>new Map(i).set(String(n.id),s)),unmount:()=>r(s=>{const i=new Map(s);return i.set(String(n.id),null),i}),portal:()=>{const s=e.get(String(n.id));return s?Wa.createPortal(n.component,s):null}}))},Pe=(t,e)=>!!t&&_.isValidElement(t)&&(t==null?void 0:t.type)===e,ml=(t,e)=>yl({children:t,reorderItemsLabels:["account","security"],LinkComponent:$r,PageComponent:Nr,MenuItemsComponent:jn,componentName:"UserProfile"},e),_l=(t,e)=>yl({children:t,reorderItemsLabels:["general","members"],LinkComponent:Nn,PageComponent:Fn,componentName:"OrganizationProfile"},e),bl=t=>{const e=[],r=[Nn,Fn,jn,Nr,$r];return _.Children.forEach(t,n=>{r.some(s=>Pe(n,s))||e.push(n)}),e},yl=(t,e)=>{const{children:r,LinkComponent:n,PageComponent:s,MenuItemsComponent:i,reorderItemsLabels:o,componentName:a}=t,{allowForAnyChildren:l=!1}=e||{},c=[];_.Children.forEach(r,y=>{if(!Pe(y,s)&&!Pe(y,n)&&!Pe(y,i)){y&&!l&&Ie(sh(a));return}const{props:k}=y,{children:x,label:E,url:T,labelIcon:M}=k;if(Pe(y,s))if(bo(k,o))c.push({label:E});else if(as(k))c.push({label:E,labelIcon:M,children:x,url:T});else{Ie(ih(a));return}if(Pe(y,n))if(ls(k))c.push({label:E,labelIcon:M,url:T});else{Ie(oh(a));return}});const u=[],h=[],d=[];c.forEach((y,k)=>{if(as(y)){u.push({component:y.children,id:k}),h.push({component:y.labelIcon,id:k});return}ls(y)&&d.push({component:y.labelIcon,id:k})});const p=Er(u),g=Er(h),f=Er(d),v=[],m=[];return c.forEach((y,k)=>{if(bo(y,o)){v.push({label:y.label});return}if(as(y)){const{portal:x,mount:E,unmount:T}=p.find(j=>j.id===k),{portal:M,mount:S,unmount:F}=g.find(j=>j.id===k);v.push({label:y.label,url:y.url,mount:E,unmount:T,mountIcon:S,unmountIcon:F}),m.push(x),m.push(M);return}if(ls(y)){const{portal:x,mount:E,unmount:T}=f.find(M=>M.id===k);v.push({label:y.label,url:y.url,mountIcon:E,unmountIcon:T}),m.push(x);return}}),{customPages:v,customPagesPortals:m}},bo=(t,e)=>{const{children:r,label:n,url:s,labelIcon:i}=t;return!r&&!s&&!i&&e.some(o=>o===n)},as=t=>{const{children:e,label:r,url:n,labelIcon:s}=t;return!!e&&!!n&&!!s&&!!r},ls=t=>{const{children:e,label:r,url:n,labelIcon:s}=t;return!e&&!!n&&!!s&&!!r},wh=t=>kh({children:t,reorderItemsLabels:["manageAccount","signOut"],MenuItemsComponent:jn,MenuActionComponent:kl,MenuLinkComponent:Sl,UserProfileLinkComponent:$r,UserProfilePageComponent:Nr}),kh=({children:t,MenuItemsComponent:e,MenuActionComponent:r,MenuLinkComponent:n,UserProfileLinkComponent:s,UserProfilePageComponent:i,reorderItemsLabels:o})=>{const a=[],l=[],c=[];_.Children.forEach(t,g=>{if(!Pe(g,e)&&!Pe(g,s)&&!Pe(g,i)){g&&Ie(ah);return}if(Pe(g,s)||Pe(g,i))return;const{props:f}=g;_.Children.forEach(f.children,v=>{if(!Pe(v,r)&&!Pe(v,n)){v&&Ie(lh);return}const{props:m}=v,{label:y,labelIcon:k,href:x,onClick:E,open:T}=m;if(Pe(v,r))if(yo(m,o))a.push({label:y});else if(cs(m)){const M={label:y,labelIcon:k};if(E!==void 0)a.push({...M,onClick:E});else if(T!==void 0)a.push({...M,open:T.startsWith("/")?T:`/${T}`});else{Ie("Custom menu item must have either onClick or open property");return}}else{Ie(ph);return}if(Pe(v,n))if(us(m))a.push({label:y,labelIcon:k,href:x});else{Ie(hh);return}})});const u=[],h=[];a.forEach((g,f)=>{cs(g)&&u.push({component:g.labelIcon,id:f}),us(g)&&h.push({component:g.labelIcon,id:f})});const d=Er(u),p=Er(h);return a.forEach((g,f)=>{if(yo(g,o)&&l.push({label:g.label}),cs(g)){const{portal:v,mount:m,unmount:y}=d.find(x=>x.id===f),k={label:g.label,mountIcon:m,unmountIcon:y};"onClick"in g?k.onClick=g.onClick:"open"in g&&(k.open=g.open),l.push(k),c.push(v)}if(us(g)){const{portal:v,mount:m,unmount:y}=p.find(k=>k.id===f);l.push({label:g.label,href:g.href,mountIcon:m,unmountIcon:y}),c.push(v)}}),{customMenuItems:l,customMenuItemsPortals:c}},yo=(t,e)=>{const{children:r,label:n,onClick:s,labelIcon:i}=t;return!r&&!s&&!i&&e.some(o=>o===n)},cs=t=>{const{label:e,labelIcon:r,onClick:n,open:s}=t;return!!r&&!!e&&(typeof n=="function"||typeof s=="string")},us=t=>{const{label:e,href:r,labelIcon:n}=t;return!!r&&!!n&&!!e};function Sh(t){const{root:e=document==null?void 0:document.body,selector:r,timeout:n=0}=t;return new Promise((s,i)=>{if(!e){i(new Error("No root element provided"));return}let o=e;if(r&&(o=e==null?void 0:e.querySelector(r)),(o==null?void 0:o.childElementCount)&&o.childElementCount>0){s();return}const l=new MutationObserver(c=>{for(const u of c)if(u.type==="childList"&&(!o&&r&&(o=e==null?void 0:e.querySelector(r)),o!=null&&o.childElementCount&&o.childElementCount>0)){l.disconnect(),s();return}});l.observe(e,{childList:!0,subtree:!0}),n>0&&setTimeout(()=>{l.disconnect(),i(new Error("Timeout waiting for element children"))},n)})}function Ue(t){const e=w.useRef(),[r,n]=w.useState("rendering");return w.useEffect(()=>{if(!t)throw new Error("Clerk: no component name provided, unable to detect mount.");typeof window<"u"&&!e.current&&(e.current=Sh({selector:`[data-clerk-component="${t}"]`}).then(()=>{n("rendered")}).catch(()=>{n("error")}))},[t]),r}var Gr=t=>"mount"in t,wo=t=>"open"in t,ko=t=>t==null?void 0:t.map(({mountIcon:e,unmountIcon:r,...n})=>n),Re=class extends _.PureComponent{constructor(){super(...arguments),this.rootRef=_.createRef()}componentDidUpdate(t){var e,r,n,s;if(!Gr(t)||!Gr(this.props))return;const i=_o(t.props,"customPages","customMenuItems","children"),o=_o(this.props.props,"customPages","customMenuItems","children"),a=((e=i.customPages)==null?void 0:e.length)!==((r=o.customPages)==null?void 0:r.length),l=((n=i.customMenuItems)==null?void 0:n.length)!==((s=o.customMenuItems)==null?void 0:s.length),c=ko(t.props.customMenuItems),u=ko(this.props.props.customMenuItems);(!fo(i,o)||!fo(c,u)||a||l)&&this.rootRef.current&&this.props.updateProps({node:this.rootRef.current,props:this.props.props})}componentDidMount(){this.rootRef.current&&(Gr(this.props)&&this.props.mount(this.rootRef.current,this.props.props),wo(this.props)&&this.props.open(this.props.props))}componentWillUnmount(){this.rootRef.current&&(Gr(this.props)&&this.props.unmount(this.rootRef.current),wo(this.props)&&this.props.close())}render(){const{hideRootHtmlElement:t=!1}=this.props,e={ref:this.rootRef,...this.props.rootProps,...this.props.component&&{"data-clerk-component":this.props.component}};return _.createElement(_.Fragment,null,!t&&_.createElement("div",{...e}),this.props.children)}},An=t=>{var e,r;return _.createElement(_.Fragment,null,(e=t==null?void 0:t.customPagesPortals)==null?void 0:e.map((n,s)=>w.createElement(n,{key:s})),(r=t==null?void 0:t.customMenuItemsPortals)==null?void 0:r.map((n,s)=>w.createElement(n,{key:s})))};ne(({clerk:t,component:e,fallback:r,...n})=>{const i=Ue(e)==="rendering"||!t.loaded,o={...i&&r&&{style:{display:"none"}}};return _.createElement(_.Fragment,null,i&&r,t.loaded&&_.createElement(Re,{component:e,mount:t.mountSignIn,unmount:t.unmountSignIn,updateProps:t.__unstable__updateProps,props:n,rootProps:o}))},{component:"SignIn",renderWhileLoading:!0});ne(({clerk:t,component:e,fallback:r,...n})=>{const i=Ue(e)==="rendering"||!t.loaded,o={...i&&r&&{style:{display:"none"}}};return _.createElement(_.Fragment,null,i&&r,t.loaded&&_.createElement(Re,{component:e,mount:t.mountSignUp,unmount:t.unmountSignUp,updateProps:t.__unstable__updateProps,props:n,rootProps:o}))},{component:"SignUp",renderWhileLoading:!0});function Nr({children:t}){return Ie(eh),_.createElement(_.Fragment,null,t)}function $r({children:t}){return Ie(th),_.createElement(_.Fragment,null,t)}var xh=ne(({clerk:t,component:e,fallback:r,...n})=>{const i=Ue(e)==="rendering"||!t.loaded,o={...i&&r&&{style:{display:"none"}}},{customPages:a,customPagesPortals:l}=ml(n.children);return _.createElement(_.Fragment,null,i&&r,_.createElement(Re,{component:e,mount:t.mountUserProfile,unmount:t.unmountUserProfile,updateProps:t.__unstable__updateProps,props:{...n,customPages:a},rootProps:o},_.createElement(An,{customPagesPortals:l})))},{component:"UserProfile",renderWhileLoading:!0});Object.assign(xh,{Page:Nr,Link:$r});var wl=w.createContext({mount:()=>{},unmount:()=>{},updateProps:()=>{}}),Eh=ne(({clerk:t,component:e,fallback:r,...n})=>{const i=Ue(e)==="rendering"||!t.loaded,o={...i&&r&&{style:{display:"none"}}},{customPages:a,customPagesPortals:l}=ml(n.children,{allowForAnyChildren:!!n.__experimental_asProvider}),c=Object.assign(n.userProfileProps||{},{customPages:a}),{customMenuItems:u,customMenuItemsPortals:h}=wh(n.children),d=bl(n.children),p={mount:t.mountUserButton,unmount:t.unmountUserButton,updateProps:t.__unstable__updateProps,props:{...n,userProfileProps:c,customMenuItems:u}},g={customPagesPortals:l,customMenuItemsPortals:h};return _.createElement(wl.Provider,{value:p},i&&r,t.loaded&&_.createElement(Re,{component:e,...p,hideRootHtmlElement:!!n.__experimental_asProvider,rootProps:o},n.__experimental_asProvider?d:null,_.createElement(An,{...g})))},{component:"UserButton",renderWhileLoading:!0});function jn({children:t}){return Ie(ch),_.createElement(_.Fragment,null,t)}function kl({children:t}){return Ie(uh),_.createElement(_.Fragment,null,t)}function Sl({children:t}){return Ie(dh),_.createElement(_.Fragment,null,t)}function Ch(t){const e=w.useContext(wl),r={...e,props:{...e.props,...t}};return _.createElement(Re,{...r})}Object.assign(Eh,{UserProfilePage:Nr,UserProfileLink:$r,MenuItems:jn,Action:kl,Link:Sl,__experimental_Outlet:Ch});function Fn({children:t}){return Ie(rh),_.createElement(_.Fragment,null,t)}function Nn({children:t}){return Ie(nh),_.createElement(_.Fragment,null,t)}var Ph=ne(({clerk:t,component:e,fallback:r,...n})=>{const i=Ue(e)==="rendering"||!t.loaded,o={...i&&r&&{style:{display:"none"}}},{customPages:a,customPagesPortals:l}=_l(n.children);return _.createElement(_.Fragment,null,i&&r,t.loaded&&_.createElement(Re,{component:e,mount:t.mountOrganizationProfile,unmount:t.unmountOrganizationProfile,updateProps:t.__unstable__updateProps,props:{...n,customPages:a},rootProps:o},_.createElement(An,{customPagesPortals:l})))},{component:"OrganizationProfile",renderWhileLoading:!0});Object.assign(Ph,{Page:Fn,Link:Nn});ne(({clerk:t,component:e,fallback:r,...n})=>{const i=Ue(e)==="rendering"||!t.loaded,o={...i&&r&&{style:{display:"none"}}};return _.createElement(_.Fragment,null,i&&r,t.loaded&&_.createElement(Re,{component:e,mount:t.mountCreateOrganization,unmount:t.unmountCreateOrganization,updateProps:t.__unstable__updateProps,props:n,rootProps:o}))},{component:"CreateOrganization",renderWhileLoading:!0});var xl=w.createContext({mount:()=>{},unmount:()=>{},updateProps:()=>{}}),Ih=ne(({clerk:t,component:e,fallback:r,...n})=>{const i=Ue(e)==="rendering"||!t.loaded,o={...i&&r&&{style:{display:"none"}}},{customPages:a,customPagesPortals:l}=_l(n.children,{allowForAnyChildren:!!n.__experimental_asProvider}),c=Object.assign(n.organizationProfileProps||{},{customPages:a}),u=bl(n.children),h={mount:t.mountOrganizationSwitcher,unmount:t.unmountOrganizationSwitcher,updateProps:t.__unstable__updateProps,props:{...n,organizationProfileProps:c},rootProps:o,component:e};return t.__experimental_prefetchOrganizationSwitcher(),_.createElement(xl.Provider,{value:h},_.createElement(_.Fragment,null,i&&r,t.loaded&&_.createElement(Re,{...h,hideRootHtmlElement:!!n.__experimental_asProvider},n.__experimental_asProvider?u:null,_.createElement(An,{customPagesPortals:l}))))},{component:"OrganizationSwitcher",renderWhileLoading:!0});function Rh(t){const e=w.useContext(xl),r={...e,props:{...e.props,...t}};return _.createElement(Re,{...r})}Object.assign(Ih,{OrganizationProfilePage:Fn,OrganizationProfileLink:Nn,__experimental_Outlet:Rh});ne(({clerk:t,component:e,fallback:r,...n})=>{const i=Ue(e)==="rendering"||!t.loaded,o={...i&&r&&{style:{display:"none"}}};return _.createElement(_.Fragment,null,i&&r,t.loaded&&_.createElement(Re,{component:e,mount:t.mountOrganizationList,unmount:t.unmountOrganizationList,updateProps:t.__unstable__updateProps,props:n,rootProps:o}))},{component:"OrganizationList",renderWhileLoading:!0});ne(({clerk:t,component:e,fallback:r,...n})=>{const i=Ue(e)==="rendering"||!t.loaded,o={...i&&r&&{style:{display:"none"}}};return _.createElement(_.Fragment,null,i&&r,t.loaded&&_.createElement(Re,{component:e,open:t.openGoogleOneTap,close:t.closeGoogleOneTap,updateProps:t.__unstable__updateProps,props:n,rootProps:o}))},{component:"GoogleOneTap",renderWhileLoading:!0});ne(({clerk:t,component:e,fallback:r,...n})=>{const i=Ue(e)==="rendering"||!t.loaded,o={...i&&r&&{style:{display:"none"}}};return _.createElement(_.Fragment,null,i&&r,t.loaded&&_.createElement(Re,{component:e,mount:t.mountWaitlist,unmount:t.unmountWaitlist,updateProps:t.__unstable__updateProps,props:n,rootProps:o}))},{component:"Waitlist",renderWhileLoading:!0});ne(({clerk:t,component:e,fallback:r,...n})=>{const i=Ue(e)==="rendering"||!t.loaded,o={...i&&r&&{style:{display:"none"}}};return _.createElement(_.Fragment,null,i&&r,t.loaded&&_.createElement(Re,{component:e,mount:t.mountPricingTable,unmount:t.unmountPricingTable,updateProps:t.__unstable__updateProps,props:n,rootProps:o}))},{component:"PricingTable",renderWhileLoading:!0});ne(({clerk:t,component:e,fallback:r,...n})=>{const i=Ue(e)==="rendering"||!t.loaded,o={...i&&r&&{style:{display:"none"}}};return _.createElement(_.Fragment,null,i&&r,t.loaded&&_.createElement(Re,{component:e,mount:t.mountApiKeys,unmount:t.unmountApiKeys,updateProps:t.__unstable__updateProps,props:n,rootProps:o}))},{component:"ApiKeys",renderWhileLoading:!0});ne(({clerk:t,component:e,fallback:r,...n})=>{const i=Ue(e)==="rendering"||!t.loaded,o={...i&&r&&{style:{display:"none"}}};return _.createElement(_.Fragment,null,i&&r,t.loaded&&_.createElement(Re,{component:e,mount:t.mountTaskChooseOrganization,unmount:t.unmountTaskChooseOrganization,updateProps:t.__unstable__updateProps,props:n,rootProps:o}))},{component:"TaskChooseOrganization",renderWhileLoading:!0});var El=t=>{throw TypeError(t)},Mi=(t,e,r)=>e.has(t)||El("Cannot "+r),ie=(t,e,r)=>(Mi(t,e,"read from private field"),r?r.call(t):e.get(t)),Mt=(t,e,r)=>e.has(t)?El("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),Ut=(t,e,r,n)=>(Mi(t,e,"write to private field"),e.set(t,r),r),ds=(t,e,r)=>(Mi(t,e,"access private method"),r),Oh=(t,e="5.88.0")=>{if(t)return t;const r=Th(e);return r?r==="snapshot"?"5.88.0":r:Mh(e)},Th=t=>{var e;return(e=t.trim().replace(/^v/,"").match(/-(.+?)(\.|$)/))==null?void 0:e[1]},Mh=t=>t.trim().replace(/^v/,"").split(".")[0];function Ah(t){return t?jh(t)||Cl(t):!0}function jh(t){return/^http(s)?:\/\//.test(t||"")}function Cl(t){return t.startsWith("/")}function Fh(t){return t?Cl(t)?new URL(t,window.location.origin).toString():t:""}function Nh(t){if(!t)return"";let e;if(t.match(/^(clerk\.)+\w*$/))e=/(clerk\.)*(?=clerk\.)/;else{if(t.match(/\.clerk.accounts/))return t;e=/^(clerk\.)*/gi}return`clerk.${t.replace(e,"")}`}var $h={initialDelay:125,maxDelayBetweenRetries:0,factor:2,shouldRetry:(t,e)=>e<5,retryImmediately:!1,jitter:!0},Lh=100,Pl=async t=>new Promise(e=>setTimeout(e,t)),Il=(t,e)=>e?t*(1+Math.random()):t,Uh=t=>{let e=0;const r=()=>{const n=t.initialDelay,s=t.factor;let i=n*Math.pow(s,e);return i=Il(i,t.jitter),Math.min(t.maxDelayBetweenRetries||i,i)};return async()=>{await Pl(r()),e++}},Dh=async(t,e={})=>{let r=0;const{shouldRetry:n,initialDelay:s,maxDelayBetweenRetries:i,factor:o,retryImmediately:a,jitter:l}={...$h,...e},c=Uh({initialDelay:s,maxDelayBetweenRetries:i,factor:o,jitter:l});for(;;)try{return await t()}catch(u){if(r++,!n(u,r))throw u;a&&r===1?await Pl(Il(Lh,l)):await c()}},zh="loadScript cannot be called when document does not exist",Wh="loadScript cannot be called without a src";async function Bh(t="",e){const{async:r,defer:n,beforeLoad:s,crossOrigin:i,nonce:o}=e||{};return Dh(()=>new Promise((l,c)=>{t||c(new Error(Wh)),(!document||!document.body)&&c(zh);const u=document.createElement("script");i&&u.setAttribute("crossorigin",i),u.async=r||!1,u.defer=n||!1,u.addEventListener("load",()=>{u.remove(),l(u)}),u.addEventListener("error",()=>{u.remove(),c()}),u.src=t,u.nonce=o,s==null||s(u),document.body.appendChild(u)}),{shouldRetry:(l,c)=>c<=5})}var Rl="Clerk: Failed to load Clerk",{isDevOrStagingUrl:qh}=Fu(),Ol=Ha({packageName:"@clerk/shared"});function Hh(t){Ol.setPackageName({packageName:t})}function Hs(){if(typeof window>"u"||!window.Clerk)return!1;const t=window.Clerk;return typeof t=="object"&&typeof t.load=="function"}function So(t){return new Promise((e,r)=>{let n=!1;const s=(c,u)=>{clearTimeout(c),clearInterval(u)},i=()=>{n||Hs()&&(n=!0,s(a,l),e(null))},a=setTimeout(()=>{n||(n=!0,s(a,l),Hs()?e(null):r(new Error(Rl)))},t);i();const l=setInterval(()=>{if(n){clearInterval(l);return}i()},100)})}var Vh=async t=>{const e=(t==null?void 0:t.scriptLoadTimeout)??15e3;if(Hs())return null;if(document.querySelector("script[data-clerk-js-script]"))return So(e);if(!(t!=null&&t.publishableKey))return Ol.throwMissingPublishableKeyError(),null;const n=So(e);return Bh(Gh(t),{async:!0,crossOrigin:"anonymous",nonce:t.nonce,beforeLoad:Jh(t)}).catch(()=>{throw new Error(Rl)}),n},Gh=t=>{var u,h;const{clerkJSUrl:e,clerkJSVariant:r,clerkJSVersion:n,proxyUrl:s,domain:i,publishableKey:o}=t;if(e)return e;let a="";s&&Ah(s)?a=Fh(s).replace(/http(s)?:\/\//,""):i&&!qh(((u=no(o))==null?void 0:u.frontendApi)||"")?a=Nh(i):a=((h=no(o))==null?void 0:h.frontendApi)||"";const l=r?`${r.replace(/\.+$/,"")}.`:"",c=Oh(n);return`https://${a}/npm/@clerk/clerk-js@${c}/dist/clerk.${l}browser.js`},Kh=t=>{const e={};return t.publishableKey&&(e["data-clerk-publishable-key"]=t.publishableKey),t.proxyUrl&&(e["data-clerk-proxy-url"]=t.proxyUrl),t.domain&&(e["data-clerk-domain"]=t.domain),t.nonce&&(e.nonce=t.nonce),e},Jh=t=>e=>{const r=Kh(t);for(const n in r)e.setAttribute(n,r[n])},Yh=(t,e,r)=>!t&&r?Xh(r):Zh(e),Xh=t=>{const e=t.userId,r=t.user,n=t.sessionId,s=t.sessionStatus,i=t.sessionClaims,o=t.session,a=t.organization,l=t.orgId,c=t.orgRole,u=t.orgPermissions,h=t.orgSlug,d=t.actor,p=t.factorVerificationAge;return{userId:e,user:r,sessionId:n,session:o,sessionStatus:s,sessionClaims:i,organization:a,orgId:l,orgRole:c,orgPermissions:u,orgSlug:h,actor:d,factorVerificationAge:p}},Zh=t=>{var f,v,m,y;const e=t.user?t.user.id:t.user,r=t.user,n=t.session?t.session.id:t.session,s=t.session,i=(f=t.session)==null?void 0:f.status,o=t.session?(m=(v=t.session.lastActiveToken)==null?void 0:v.jwt)==null?void 0:m.claims:null,a=t.session?t.session.factorVerificationAge:null,l=s==null?void 0:s.actor,c=t.organization,u=t.organization?t.organization.id:t.organization,h=c==null?void 0:c.slug,d=c&&((y=r==null?void 0:r.organizationMemberships)==null?void 0:y.find(k=>k.organization.id===u)),p=d&&d.permissions,g=d&&d.role;return{userId:e,user:r,sessionId:n,session:s,sessionStatus:i,sessionClaims:o,organization:c,orgId:u,orgRole:g,orgSlug:h,orgPermissions:p,actor:l,factorVerificationAge:a}};function xo(){return typeof window<"u"}var Eo=(t,e,r,n,s)=>{const{notify:i}=s||{};let o=t.get(r);o||(o=[],t.set(r,o)),o.push(n),i&&e.has(r)&&n(e.get(r))},Co=(t,e,r)=>(t.get(e)||[]).map(n=>n(r)),Po=(t,e,r)=>{const n=t.get(e);n&&(r?n.splice(n.indexOf(r)>>>0,1):t.set(e,[]))},Qh=()=>{const t=new Map,e=new Map,r=new Map;return{on:(...s)=>Eo(t,e,...s),prioritizedOn:(...s)=>Eo(r,e,...s),emit:(s,i)=>{e.set(s,i),Co(r,s,i),Co(t,s,i)},off:(...s)=>Po(t,...s),prioritizedOff:(...s)=>Po(r,...s),internal:{retrieveListeners:s=>t.get(s)||[]}}},Kr={Status:"status"},ep=()=>Qh();typeof window<"u"&&!window.global&&(window.global=typeof global>"u"?window:global);ne(({clerk:t,children:e,...r})=>{const{signUpFallbackRedirectUrl:n,forceRedirectUrl:s,fallbackRedirectUrl:i,signUpForceRedirectUrl:o,mode:a,initialValues:l,withSignUp:c,oauthFlow:u,...h}=r;e=Tn(e,"Sign in");const d=On(e)("SignInButton"),p=()=>{const v={forceRedirectUrl:s,fallbackRedirectUrl:i,signUpFallbackRedirectUrl:n,signUpForceRedirectUrl:o,initialValues:l,withSignUp:c,oauthFlow:u};return a==="modal"?t.openSignIn({...v,appearance:r.appearance}):t.redirectToSignIn({...v,signInFallbackRedirectUrl:i,signInForceRedirectUrl:s})},f={...h,onClick:async v=>(d&&typeof d=="object"&&"props"in d&&await Mn(d.props.onClick)(v),p())};return _.cloneElement(d,f)},{component:"SignInButton",renderWhileLoading:!0});ne(({clerk:t,children:e,...r})=>{const{redirectUrl:n,...s}=r;e=Tn(e,"Sign in with Metamask");const i=On(e)("SignInWithMetamaskButton"),o=async()=>{async function c(){await t.authenticateWithMetamask({redirectUrl:n||void 0})}c()},l={...s,onClick:async c=>(await Mn(i.props.onClick)(c),o())};return _.cloneElement(i,l)},{component:"SignInWithMetamask",renderWhileLoading:!0});ne(({clerk:t,children:e,...r})=>{const{redirectUrl:n="/",signOutOptions:s,...i}=r;e=Tn(e,"Sign out");const o=On(e)("SignOutButton"),a=()=>t.signOut({redirectUrl:n,...s}),c={...i,onClick:async u=>(await Mn(o.props.onClick)(u),a())};return _.cloneElement(o,c)},{component:"SignOutButton",renderWhileLoading:!0});ne(({clerk:t,children:e,...r})=>{const{fallbackRedirectUrl:n,forceRedirectUrl:s,signInFallbackRedirectUrl:i,signInForceRedirectUrl:o,mode:a,initialValues:l,oauthFlow:c,...u}=r;e=Tn(e,"Sign up");const h=On(e)("SignUpButton"),d=()=>{const f={fallbackRedirectUrl:n,forceRedirectUrl:s,signInFallbackRedirectUrl:i,signInForceRedirectUrl:o,initialValues:l,oauthFlow:c};return a==="modal"?t.openSignUp({...f,appearance:r.appearance,unsafeMetadata:r.unsafeMetadata}):t.redirectToSignUp({...f,signUpFallbackRedirectUrl:n,signUpForceRedirectUrl:s})},g={...u,onClick:async f=>(h&&typeof h=="object"&&"props"in h&&await Mn(h.props.onClick)(f),d())};return _.cloneElement(h,g)},{component:"SignUpButton",renderWhileLoading:!0});typeof globalThis.__BUILD_DISABLE_RHC__>"u"&&(globalThis.__BUILD_DISABLE_RHC__=!1);var tp={name:"@clerk/clerk-react",version:"5.43.1",environment:"production"},an,zt,Wt,mt,it,yt,pr,ln,Tl=class Ml{constructor(e){Mt(this,pr),this.clerkjs=null,this.preopenOneTap=null,this.preopenUserVerification=null,this.preopenSignIn=null,this.preopenCheckout=null,this.preopenPlanDetails=null,this.preopenSubscriptionDetails=null,this.preopenSignUp=null,this.preopenUserProfile=null,this.preopenOrganizationProfile=null,this.preopenCreateOrganization=null,this.preOpenWaitlist=null,this.premountSignInNodes=new Map,this.premountSignUpNodes=new Map,this.premountUserProfileNodes=new Map,this.premountUserButtonNodes=new Map,this.premountOrganizationProfileNodes=new Map,this.premountCreateOrganizationNodes=new Map,this.premountOrganizationSwitcherNodes=new Map,this.premountOrganizationListNodes=new Map,this.premountMethodCalls=new Map,this.premountWaitlistNodes=new Map,this.premountPricingTableNodes=new Map,this.premountApiKeysNodes=new Map,this.premountOAuthConsentNodes=new Map,this.premountTaskChooseOrganizationNodes=new Map,this.premountAddListenerCalls=new Map,this.loadedListeners=[],Mt(this,an,"loading"),Mt(this,zt),Mt(this,Wt),Mt(this,mt),Mt(this,it,ep()),this.buildSignInUrl=s=>{const i=()=>{var o;return((o=this.clerkjs)==null?void 0:o.buildSignInUrl(s))||""};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("buildSignInUrl",i)},this.buildSignUpUrl=s=>{const i=()=>{var o;return((o=this.clerkjs)==null?void 0:o.buildSignUpUrl(s))||""};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("buildSignUpUrl",i)},this.buildAfterSignInUrl=(...s)=>{const i=()=>{var o;return((o=this.clerkjs)==null?void 0:o.buildAfterSignInUrl(...s))||""};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("buildAfterSignInUrl",i)},this.buildAfterSignUpUrl=(...s)=>{const i=()=>{var o;return((o=this.clerkjs)==null?void 0:o.buildAfterSignUpUrl(...s))||""};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("buildAfterSignUpUrl",i)},this.buildAfterSignOutUrl=()=>{const s=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildAfterSignOutUrl())||""};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("buildAfterSignOutUrl",s)},this.buildNewSubscriptionRedirectUrl=()=>{const s=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildNewSubscriptionRedirectUrl())||""};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("buildNewSubscriptionRedirectUrl",s)},this.buildAfterMultiSessionSingleSignOutUrl=()=>{const s=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildAfterMultiSessionSingleSignOutUrl())||""};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("buildAfterMultiSessionSingleSignOutUrl",s)},this.buildUserProfileUrl=()=>{const s=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildUserProfileUrl())||""};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("buildUserProfileUrl",s)},this.buildCreateOrganizationUrl=()=>{const s=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildCreateOrganizationUrl())||""};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("buildCreateOrganizationUrl",s)},this.buildOrganizationProfileUrl=()=>{const s=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildOrganizationProfileUrl())||""};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("buildOrganizationProfileUrl",s)},this.buildWaitlistUrl=()=>{const s=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildWaitlistUrl())||""};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("buildWaitlistUrl",s)},this.buildTasksUrl=()=>{const s=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildTasksUrl())||""};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("buildTasksUrl",s)},this.buildUrlWithAuth=s=>{const i=()=>{var o;return((o=this.clerkjs)==null?void 0:o.buildUrlWithAuth(s))||""};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("buildUrlWithAuth",i)},this.handleUnauthenticated=async()=>{const s=()=>{var i;return(i=this.clerkjs)==null?void 0:i.handleUnauthenticated()};this.clerkjs&&this.loaded?s():this.premountMethodCalls.set("handleUnauthenticated",s)},this.on=(...s)=>{var i;if((i=this.clerkjs)!=null&&i.on)return this.clerkjs.on(...s);ie(this,it).on(...s)},this.off=(...s)=>{var i;if((i=this.clerkjs)!=null&&i.off)return this.clerkjs.off(...s);ie(this,it).off(...s)},this.addOnLoaded=s=>{this.loadedListeners.push(s),this.loaded&&this.emitLoaded()},this.emitLoaded=()=>{this.loadedListeners.forEach(s=>s()),this.loadedListeners=[]},this.beforeLoad=s=>{if(!s)throw new Error("Failed to hydrate latest Clerk JS")},this.hydrateClerkJS=s=>{var i;if(!s)throw new Error("Failed to hydrate latest Clerk JS");return this.clerkjs=s,this.premountMethodCalls.forEach(o=>o()),this.premountAddListenerCalls.forEach((o,a)=>{o.nativeUnsubscribe=s.addListener(a)}),(i=ie(this,it).internal.retrieveListeners("status"))==null||i.forEach(o=>{this.on("status",o,{notify:!0})}),this.preopenSignIn!==null&&s.openSignIn(this.preopenSignIn),this.preopenCheckout!==null&&s.__internal_openCheckout(this.preopenCheckout),this.preopenPlanDetails!==null&&s.__internal_openPlanDetails(this.preopenPlanDetails),this.preopenSubscriptionDetails!==null&&s.__internal_openSubscriptionDetails(this.preopenSubscriptionDetails),this.preopenSignUp!==null&&s.openSignUp(this.preopenSignUp),this.preopenUserProfile!==null&&s.openUserProfile(this.preopenUserProfile),this.preopenUserVerification!==null&&s.__internal_openReverification(this.preopenUserVerification),this.preopenOneTap!==null&&s.openGoogleOneTap(this.preopenOneTap),this.preopenOrganizationProfile!==null&&s.openOrganizationProfile(this.preopenOrganizationProfile),this.preopenCreateOrganization!==null&&s.openCreateOrganization(this.preopenCreateOrganization),this.preOpenWaitlist!==null&&s.openWaitlist(this.preOpenWaitlist),this.premountSignInNodes.forEach((o,a)=>{s.mountSignIn(a,o)}),this.premountSignUpNodes.forEach((o,a)=>{s.mountSignUp(a,o)}),this.premountUserProfileNodes.forEach((o,a)=>{s.mountUserProfile(a,o)}),this.premountUserButtonNodes.forEach((o,a)=>{s.mountUserButton(a,o)}),this.premountOrganizationListNodes.forEach((o,a)=>{s.mountOrganizationList(a,o)}),this.premountWaitlistNodes.forEach((o,a)=>{s.mountWaitlist(a,o)}),this.premountPricingTableNodes.forEach((o,a)=>{s.mountPricingTable(a,o)}),this.premountApiKeysNodes.forEach((o,a)=>{s.mountApiKeys(a,o)}),this.premountOAuthConsentNodes.forEach((o,a)=>{s.__internal_mountOAuthConsent(a,o)}),this.premountTaskChooseOrganizationNodes.forEach((o,a)=>{s.mountTaskChooseOrganization(a,o)}),typeof this.clerkjs.status>"u"&&ie(this,it).emit(Kr.Status,"ready"),this.emitLoaded(),this.clerkjs},this.__experimental_checkout=(...s)=>{var i;return(i=this.clerkjs)==null?void 0:i.__experimental_checkout(...s)},this.__unstable__updateProps=async s=>{const i=await ds(this,pr,ln).call(this);if(i&&"__unstable__updateProps"in i)return i.__unstable__updateProps(s)},this.setActive=s=>this.clerkjs?this.clerkjs.setActive(s):Promise.reject(),this.openSignIn=s=>{this.clerkjs&&this.loaded?this.clerkjs.openSignIn(s):this.preopenSignIn=s},this.closeSignIn=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeSignIn():this.preopenSignIn=null},this.__internal_openCheckout=s=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_openCheckout(s):this.preopenCheckout=s},this.__internal_closeCheckout=()=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_closeCheckout():this.preopenCheckout=null},this.__internal_openPlanDetails=s=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_openPlanDetails(s):this.preopenPlanDetails=s},this.__internal_closePlanDetails=()=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_closePlanDetails():this.preopenPlanDetails=null},this.__internal_openSubscriptionDetails=s=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_openSubscriptionDetails(s):this.preopenSubscriptionDetails=s??null},this.__internal_closeSubscriptionDetails=()=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_closeSubscriptionDetails():this.preopenSubscriptionDetails=null},this.__internal_openReverification=s=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_openReverification(s):this.preopenUserVerification=s},this.__internal_closeReverification=()=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_closeReverification():this.preopenUserVerification=null},this.openGoogleOneTap=s=>{this.clerkjs&&this.loaded?this.clerkjs.openGoogleOneTap(s):this.preopenOneTap=s},this.closeGoogleOneTap=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeGoogleOneTap():this.preopenOneTap=null},this.openUserProfile=s=>{this.clerkjs&&this.loaded?this.clerkjs.openUserProfile(s):this.preopenUserProfile=s},this.closeUserProfile=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeUserProfile():this.preopenUserProfile=null},this.openOrganizationProfile=s=>{this.clerkjs&&this.loaded?this.clerkjs.openOrganizationProfile(s):this.preopenOrganizationProfile=s},this.closeOrganizationProfile=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeOrganizationProfile():this.preopenOrganizationProfile=null},this.openCreateOrganization=s=>{this.clerkjs&&this.loaded?this.clerkjs.openCreateOrganization(s):this.preopenCreateOrganization=s},this.closeCreateOrganization=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeCreateOrganization():this.preopenCreateOrganization=null},this.openWaitlist=s=>{this.clerkjs&&this.loaded?this.clerkjs.openWaitlist(s):this.preOpenWaitlist=s},this.closeWaitlist=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeWaitlist():this.preOpenWaitlist=null},this.openSignUp=s=>{this.clerkjs&&this.loaded?this.clerkjs.openSignUp(s):this.preopenSignUp=s},this.closeSignUp=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeSignUp():this.preopenSignUp=null},this.mountSignIn=(s,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountSignIn(s,i):this.premountSignInNodes.set(s,i)},this.unmountSignIn=s=>{this.clerkjs&&this.loaded?this.clerkjs.unmountSignIn(s):this.premountSignInNodes.delete(s)},this.mountSignUp=(s,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountSignUp(s,i):this.premountSignUpNodes.set(s,i)},this.unmountSignUp=s=>{this.clerkjs&&this.loaded?this.clerkjs.unmountSignUp(s):this.premountSignUpNodes.delete(s)},this.mountUserProfile=(s,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountUserProfile(s,i):this.premountUserProfileNodes.set(s,i)},this.unmountUserProfile=s=>{this.clerkjs&&this.loaded?this.clerkjs.unmountUserProfile(s):this.premountUserProfileNodes.delete(s)},this.mountOrganizationProfile=(s,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountOrganizationProfile(s,i):this.premountOrganizationProfileNodes.set(s,i)},this.unmountOrganizationProfile=s=>{this.clerkjs&&this.loaded?this.clerkjs.unmountOrganizationProfile(s):this.premountOrganizationProfileNodes.delete(s)},this.mountCreateOrganization=(s,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountCreateOrganization(s,i):this.premountCreateOrganizationNodes.set(s,i)},this.unmountCreateOrganization=s=>{this.clerkjs&&this.loaded?this.clerkjs.unmountCreateOrganization(s):this.premountCreateOrganizationNodes.delete(s)},this.mountOrganizationSwitcher=(s,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountOrganizationSwitcher(s,i):this.premountOrganizationSwitcherNodes.set(s,i)},this.unmountOrganizationSwitcher=s=>{this.clerkjs&&this.loaded?this.clerkjs.unmountOrganizationSwitcher(s):this.premountOrganizationSwitcherNodes.delete(s)},this.__experimental_prefetchOrganizationSwitcher=()=>{const s=()=>{var i;return(i=this.clerkjs)==null?void 0:i.__experimental_prefetchOrganizationSwitcher()};this.clerkjs&&this.loaded?s():this.premountMethodCalls.set("__experimental_prefetchOrganizationSwitcher",s)},this.mountOrganizationList=(s,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountOrganizationList(s,i):this.premountOrganizationListNodes.set(s,i)},this.unmountOrganizationList=s=>{this.clerkjs&&this.loaded?this.clerkjs.unmountOrganizationList(s):this.premountOrganizationListNodes.delete(s)},this.mountUserButton=(s,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountUserButton(s,i):this.premountUserButtonNodes.set(s,i)},this.unmountUserButton=s=>{this.clerkjs&&this.loaded?this.clerkjs.unmountUserButton(s):this.premountUserButtonNodes.delete(s)},this.mountWaitlist=(s,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountWaitlist(s,i):this.premountWaitlistNodes.set(s,i)},this.unmountWaitlist=s=>{this.clerkjs&&this.loaded?this.clerkjs.unmountWaitlist(s):this.premountWaitlistNodes.delete(s)},this.mountPricingTable=(s,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountPricingTable(s,i):this.premountPricingTableNodes.set(s,i)},this.unmountPricingTable=s=>{this.clerkjs&&this.loaded?this.clerkjs.unmountPricingTable(s):this.premountPricingTableNodes.delete(s)},this.mountApiKeys=(s,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountApiKeys(s,i):this.premountApiKeysNodes.set(s,i)},this.unmountApiKeys=s=>{this.clerkjs&&this.loaded?this.clerkjs.unmountApiKeys(s):this.premountApiKeysNodes.delete(s)},this.__internal_mountOAuthConsent=(s,i)=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_mountOAuthConsent(s,i):this.premountOAuthConsentNodes.set(s,i)},this.__internal_unmountOAuthConsent=s=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_unmountOAuthConsent(s):this.premountOAuthConsentNodes.delete(s)},this.mountTaskChooseOrganization=(s,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountTaskChooseOrganization(s,i):this.premountTaskChooseOrganizationNodes.set(s,i)},this.unmountTaskChooseOrganization=s=>{this.clerkjs&&this.loaded?this.clerkjs.unmountTaskChooseOrganization(s):this.premountTaskChooseOrganizationNodes.delete(s)},this.addListener=s=>{if(this.clerkjs)return this.clerkjs.addListener(s);{const i=()=>{var o;const a=this.premountAddListenerCalls.get(s);a&&((o=a.nativeUnsubscribe)==null||o.call(a),this.premountAddListenerCalls.delete(s))};return this.premountAddListenerCalls.set(s,{unsubscribe:i,nativeUnsubscribe:void 0}),i}},this.navigate=s=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.navigate(s)};this.clerkjs&&this.loaded?i():this.premountMethodCalls.set("navigate",i)},this.redirectWithAuth=async(...s)=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.redirectWithAuth(...s)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("redirectWithAuth",i)},this.redirectToSignIn=async s=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.redirectToSignIn(s)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("redirectToSignIn",i)},this.redirectToSignUp=async s=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.redirectToSignUp(s)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("redirectToSignUp",i)},this.redirectToUserProfile=async()=>{const s=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToUserProfile()};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("redirectToUserProfile",s)},this.redirectToAfterSignUp=()=>{const s=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToAfterSignUp()};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("redirectToAfterSignUp",s)},this.redirectToAfterSignIn=()=>{const s=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToAfterSignIn()};this.clerkjs&&this.loaded?s():this.premountMethodCalls.set("redirectToAfterSignIn",s)},this.redirectToAfterSignOut=()=>{const s=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToAfterSignOut()};this.clerkjs&&this.loaded?s():this.premountMethodCalls.set("redirectToAfterSignOut",s)},this.redirectToOrganizationProfile=async()=>{const s=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToOrganizationProfile()};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("redirectToOrganizationProfile",s)},this.redirectToCreateOrganization=async()=>{const s=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToCreateOrganization()};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("redirectToCreateOrganization",s)},this.redirectToWaitlist=async()=>{const s=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToWaitlist()};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("redirectToWaitlist",s)},this.redirectToTasks=async s=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.redirectToTasks(s)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("redirectToTasks",i)},this.handleRedirectCallback=async s=>{var i;const o=()=>{var a;return(a=this.clerkjs)==null?void 0:a.handleRedirectCallback(s)};this.clerkjs&&this.loaded?(i=o())==null||i.catch(()=>{}):this.premountMethodCalls.set("handleRedirectCallback",o)},this.handleGoogleOneTapCallback=async(s,i)=>{var o;const a=()=>{var l;return(l=this.clerkjs)==null?void 0:l.handleGoogleOneTapCallback(s,i)};this.clerkjs&&this.loaded?(o=a())==null||o.catch(()=>{}):this.premountMethodCalls.set("handleGoogleOneTapCallback",a)},this.handleEmailLinkVerification=async s=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.handleEmailLinkVerification(s)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("handleEmailLinkVerification",i)},this.authenticateWithMetamask=async s=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.authenticateWithMetamask(s)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("authenticateWithMetamask",i)},this.authenticateWithCoinbaseWallet=async s=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.authenticateWithCoinbaseWallet(s)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("authenticateWithCoinbaseWallet",i)},this.authenticateWithOKXWallet=async s=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.authenticateWithOKXWallet(s)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("authenticateWithOKXWallet",i)},this.authenticateWithWeb3=async s=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.authenticateWithWeb3(s)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("authenticateWithWeb3",i)},this.authenticateWithGoogleOneTap=async s=>(await ds(this,pr,ln).call(this)).authenticateWithGoogleOneTap(s),this.__internal_loadStripeJs=async()=>(await ds(this,pr,ln).call(this)).__internal_loadStripeJs(),this.createOrganization=async s=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.createOrganization(s)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("createOrganization",i)},this.getOrganization=async s=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.getOrganization(s)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("getOrganization",i)},this.joinWaitlist=async s=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.joinWaitlist(s)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("joinWaitlist",i)},this.signOut=async(...s)=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.signOut(...s)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("signOut",i)};const{Clerk:r=null,publishableKey:n}=e||{};Ut(this,mt,n),Ut(this,Wt,e==null?void 0:e.proxyUrl),Ut(this,zt,e==null?void 0:e.domain),this.options=e,this.Clerk=r,this.mode=xo()?"browser":"server",this.options.sdkMetadata||(this.options.sdkMetadata=tp),ie(this,it).emit(Kr.Status,"loading"),ie(this,it).prioritizedOn(Kr.Status,s=>Ut(this,an,s)),ie(this,mt)&&this.loadClerkJS()}get publishableKey(){return ie(this,mt)}get loaded(){var e;return((e=this.clerkjs)==null?void 0:e.loaded)||!1}get status(){var e;return this.clerkjs?((e=this.clerkjs)==null?void 0:e.status)||(this.clerkjs.loaded?"ready":"loading"):ie(this,an)}static getOrCreateInstance(e){return(!xo()||!ie(this,yt)||e.Clerk&&ie(this,yt).Clerk!==e.Clerk||ie(this,yt).publishableKey!==e.publishableKey)&&Ut(this,yt,new Ml(e)),ie(this,yt)}static clearInstance(){Ut(this,yt,null)}get domain(){return typeof window<"u"&&window.location?os(ie(this,zt),new URL(window.location.href),""):typeof ie(this,zt)=="function"?ut.throw(is):ie(this,zt)||""}get proxyUrl(){return typeof window<"u"&&window.location?os(ie(this,Wt),new URL(window.location.href),""):typeof ie(this,Wt)=="function"?ut.throw(is):ie(this,Wt)||""}__internal_getOption(e){var r,n;return(r=this.clerkjs)!=null&&r.__internal_getOption?(n=this.clerkjs)==null?void 0:n.__internal_getOption(e):this.options[e]}get sdkMetadata(){var e;return((e=this.clerkjs)==null?void 0:e.sdkMetadata)||this.options.sdkMetadata||void 0}get instanceType(){var e;return(e=this.clerkjs)==null?void 0:e.instanceType}get frontendApi(){var e;return((e=this.clerkjs)==null?void 0:e.frontendApi)||""}get isStandardBrowser(){var e;return((e=this.clerkjs)==null?void 0:e.isStandardBrowser)||this.options.standardBrowser||!1}get isSatellite(){return typeof window<"u"&&window.location?os(this.options.isSatellite,new URL(window.location.href),!1):typeof this.options.isSatellite=="function"?ut.throw(is):!1}async loadClerkJS(){var e;if(!(this.mode!=="browser"||this.loaded)){typeof window<"u"&&(window.__clerk_publishable_key=ie(this,mt),window.__clerk_proxy_url=this.proxyUrl,window.__clerk_domain=this.domain);try{if(this.Clerk){let r;_h(this.Clerk)?(r=new this.Clerk(ie(this,mt),{proxyUrl:this.proxyUrl,domain:this.domain}),this.beforeLoad(r),await r.load(this.options)):(r=this.Clerk,r.loaded||(this.beforeLoad(r),await r.load(this.options))),global.Clerk=r}else if(!__BUILD_DISABLE_RHC__){if(global.Clerk||await Vh({...this.options,publishableKey:ie(this,mt),proxyUrl:this.proxyUrl,domain:this.domain,nonce:this.options.nonce}),!global.Clerk)throw new Error("Failed to download latest ClerkJS. Contact support@clerk.com.");this.beforeLoad(global.Clerk),await global.Clerk.load(this.options)}return(e=global.Clerk)!=null&&e.loaded?this.hydrateClerkJS(global.Clerk):void 0}catch(r){const n=r;ie(this,it).emit(Kr.Status,"error"),console.error(n.stack||n.message||n);return}}}get version(){var e;return(e=this.clerkjs)==null?void 0:e.version}get client(){if(this.clerkjs)return this.clerkjs.client}get session(){if(this.clerkjs)return this.clerkjs.session}get user(){if(this.clerkjs)return this.clerkjs.user}get organization(){if(this.clerkjs)return this.clerkjs.organization}get telemetry(){if(this.clerkjs)return this.clerkjs.telemetry}get __unstable__environment(){if(this.clerkjs)return this.clerkjs.__unstable__environment}get isSignedIn(){return this.clerkjs?this.clerkjs.isSignedIn:!1}get billing(){var e;return(e=this.clerkjs)==null?void 0:e.billing}get __internal_state(){var e;return(e=this.clerkjs)==null?void 0:e.__internal_state}get apiKeys(){var e;return(e=this.clerkjs)==null?void 0:e.apiKeys}__unstable__setEnvironment(...e){if(this.clerkjs&&"__unstable__setEnvironment"in this.clerkjs)this.clerkjs.__unstable__setEnvironment(e);else return}};an=new WeakMap;zt=new WeakMap;Wt=new WeakMap;mt=new WeakMap;it=new WeakMap;yt=new WeakMap;pr=new WeakSet;ln=function(){return new Promise(t=>{this.addOnLoaded(()=>t(this.clerkjs))})};Mt(Tl,yt);var Io=Tl;function rp(t){const{isomorphicClerkOptions:e,initialState:r,children:n}=t,{isomorphicClerk:s,clerkStatus:i}=np(e),[o,a]=_.useState({client:s.client,session:s.session,user:s.user,organization:s.organization});_.useEffect(()=>s.addListener(A=>a({...A})),[]);const l=Yh(s.loaded,o,r),c=_.useMemo(()=>({value:s}),[i]),u=_.useMemo(()=>({value:o.client}),[o.client]),{sessionId:h,sessionStatus:d,sessionClaims:p,session:g,userId:f,user:v,orgId:m,actor:y,organization:k,orgRole:x,orgSlug:E,orgPermissions:T,factorVerificationAge:M}=l,S=_.useMemo(()=>({value:{sessionId:h,sessionStatus:d,sessionClaims:p,userId:f,actor:y,orgId:m,orgRole:x,orgSlug:E,orgPermissions:T,factorVerificationAge:M}}),[h,d,f,y,m,x,E,M,p==null?void 0:p.__raw]),F=_.useMemo(()=>({value:g}),[h,g]),j=_.useMemo(()=>({value:v}),[f,v]),N=_.useMemo(()=>({value:{organization:k}}),[m,k]);return _.createElement(Yd.Provider,{value:c},_.createElement(Fd.Provider,{value:u},_.createElement(Nd.Provider,{value:F},_.createElement(Dd,{...N.value},_.createElement(Jd.Provider,{value:S},_.createElement(jd.Provider,{value:j},_.createElement(Ld,{value:void 0},n)))))))}var np=t=>{const e=_.useRef(Io.getOrCreateInstance(t)),[r,n]=_.useState(e.current.status);return _.useEffect(()=>{e.current.__unstable__updateProps({appearance:t.appearance})},[t.appearance]),_.useEffect(()=>{e.current.__unstable__updateProps({options:t})},[t.localization]),_.useEffect(()=>(e.current.on("status",n),()=>{e.current&&e.current.off("status",n),Io.clearInstance()}),[]),{isomorphicClerk:e.current,clerkStatus:r}};function sp(t){const{initialState:e,children:r,__internal_bypassMissingPublishableKey:n,...s}=t,{publishableKey:i="",Clerk:o}=s;return!o&&!n&&(i?i&&!Ms(i)&&ut.throwInvalidPublishableKeyError({key:i}):ut.throwMissingPublishableKeyError()),_.createElement(rp,{initialState:e,isomorphicClerkOptions:s},r)}var Al=yh(sp,"ClerkProvider",Zd);Al.displayName="ClerkProvider";Kd({packageName:"@clerk/clerk-react"});Hh("@clerk/clerk-react");var b=typeof window<"u"?window:void 0,Ae=typeof globalThis<"u"?globalThis:b,jl=Array.prototype,Ro=jl.forEach,Oo=jl.indexOf,$e=Ae==null?void 0:Ae.navigator,R=Ae==null?void 0:Ae.document,Me=Ae==null?void 0:Ae.location,Vs=Ae==null?void 0:Ae.fetch,Gs=Ae!=null&&Ae.XMLHttpRequest&&"withCredentials"in new Ae.XMLHttpRequest?Ae.XMLHttpRequest:void 0,To=Ae==null?void 0:Ae.AbortController,Te=$e==null?void 0:$e.userAgent,$=b??{},lt={DEBUG:!1,LIB_VERSION:"1.260.2"},hs="$copy_autocapture",ip=["$snapshot","$pageview","$pageleave","$set","survey dismissed","survey sent","survey shown","$identify","$groupidentify","$create_alias","$$client_ingestion_warning","$web_experiment_applied","$feature_enrollment_update","$feature_flag_called"],ct=function(t){return t.GZipJS="gzip-js",t.Base64="base64",t}({}),op=["fatal","error","warning","log","info","debug"];function W(t,e){return t.indexOf(e)!==-1}var $n=function(t){return t.trim()},Ks=function(t){return t.replace(/^\$/,"")},ap=Array.isArray,Fl=Object.prototype,Nl=Fl.hasOwnProperty,Ln=Fl.toString,Q=ap||function(t){return Ln.call(t)==="[object Array]"},Be=t=>typeof t=="function",ae=t=>t===Object(t)&&!Q(t),Ht=t=>{if(ae(t)){for(var e in t)if(Nl.call(t,e))return!1;return!0}return!1},P=t=>t===void 0,le=t=>Ln.call(t)=="[object String]",Js=t=>le(t)&&t.trim().length===0,Ct=t=>t===null,H=t=>P(t)||Ct(t),we=t=>Ln.call(t)=="[object Number]",Je=t=>Ln.call(t)==="[object Boolean]",lp=t=>t instanceof FormData,cp=t=>W(ip,t),$l=t=>{var e={t:function(r){if(b&&(lt.DEBUG||$.POSTHOG_DEBUG)&&!P(b.console)&&b.console){for(var n=("__rrweb_original__"in b.console[r])?b.console[r].__rrweb_original__:b.console[r],s=arguments.length,i=new Array(s>1?s-1:0),o=1;o<s;o++)i[o-1]=arguments[o];n(t,...i)}},info:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];e.t("log",...n)},warn:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];e.t("warn",...n)},error:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];e.t("error",...n)},critical:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];console.error(t,...n)},uninitializedWarning:r=>{e.error("You must initialize PostHog before calling "+r)},createLogger:r=>$l(t+" "+r)};return e},O=$l("[PostHog.js]"),ve=O.createLogger,up=ve("[ExternalScriptsLoader]"),Mo=(t,e,r)=>{if(t.config.disable_external_dependency_loading)return up.warn(e+" was requested but loading of external scripts is disabled."),r("Loading of external scripts is disabled");var n=R==null?void 0:R.querySelectorAll("script");if(n){for(var s=0;s<n.length;s++)if(n[s].src===e)return r()}var i=()=>{if(!R)return r("document not found");var o=R.createElement("script");if(o.type="text/javascript",o.crossOrigin="anonymous",o.src=e,o.onload=c=>r(void 0,c),o.onerror=c=>r(c),t.config.prepare_external_dependency_script&&(o=t.config.prepare_external_dependency_script(o)),!o)return r("prepare_external_dependency_script returned null");var a,l=R.querySelectorAll("body > script");l.length>0?(a=l[0].parentNode)==null||a.insertBefore(o,l[0]):R.body.appendChild(o)};R!=null&&R.body?i():R==null||R.addEventListener("DOMContentLoaded",i)};function I(){return I=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},I.apply(null,arguments)}function Ll(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}$.__PosthogExtensions__=$.__PosthogExtensions__||{},$.__PosthogExtensions__.loadExternalDependency=(t,e,r)=>{var n="/static/"+e+".js?v="+t.version;if(e==="remote-config"&&(n="/array/"+t.config.token+"/config.js"),e==="toolbar"){var s=3e5;n=n+"&t="+Math.floor(Date.now()/s)*s}var i=t.requestRouter.endpointFor("assets",n);Mo(t,i,r)},$.__PosthogExtensions__.loadSiteApp=(t,e,r)=>{var n=t.requestRouter.endpointFor("api",e);Mo(t,n,r)};var gn={};function St(t,e,r){if(Q(t)){if(Ro&&t.forEach===Ro)t.forEach(e,r);else if("length"in t&&t.length===+t.length){for(var n=0,s=t.length;n<s;n++)if(n in t&&e.call(r,t[n],n)===gn)return}}}function Y(t,e,r){if(!H(t)){if(Q(t))return St(t,e,r);if(lp(t)){for(var n of t.entries())if(e.call(r,n[1],n[0])===gn)return}else for(var s in t)if(Nl.call(t,s)&&e.call(r,t[s],s)===gn)return}}var ce=function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return St(r,function(s){for(var i in s)s[i]!==void 0&&(t[i]=s[i])}),t},Un=function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return St(r,function(s){St(s,function(i){t.push(i)})}),t};function cn(t){for(var e=Object.keys(t),r=e.length,n=new Array(r);r--;)n[r]=[e[r],t[e[r]]];return n}var Ao=function(t){try{return t()}catch{return}},dp=function(t){return function(){try{for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.apply(this,r)}catch(s){O.critical("Implementation error. Please turn on debug mode and open a ticket on https://app.posthog.com/home#panel=support%3Asupport%3A."),O.critical(s)}}},Ai=function(t){var e={};return Y(t,function(r,n){(le(r)&&r.length>0||we(r))&&(e[n]=r)}),e};function hp(t,e){return r=t,n=i=>le(i)&&!Ct(e)?i.slice(0,e):i,s=new Set,function i(o,a){return o!==Object(o)?n?n(o,a):o:s.has(o)?void 0:(s.add(o),Q(o)?(l=[],St(o,c=>{l.push(i(c))})):(l={},Y(o,(c,u)=>{s.has(c)||(l[u]=i(c,u))})),l);var l}(r);var r,n,s}var pp=["herokuapp.com","vercel.app","netlify.app"];function fp(t){var e=t==null?void 0:t.hostname;if(!le(e))return!1;var r=e.split(".").slice(-2).join(".");for(var n of pp)if(r===n)return!1;return!0}function Ul(t,e){for(var r=0;r<t.length;r++)if(e(t[r]))return t[r]}function oe(t,e,r,n){var{capture:s=!1,passive:i=!0}=n??{};t==null||t.addEventListener(e,r,{capture:s,passive:i})}var Dl="$people_distinct_id",fr="__alias",gr="__timers",jo="$autocapture_disabled_server_side",Ys="$heatmaps_enabled_server_side",Fo="$exception_capture_enabled_server_side",Xs="$error_tracking_suppression_rules",No="$error_tracking_capture_extension_exceptions",$o="$web_vitals_enabled_server_side",zl="$dead_clicks_enabled_server_side",Lo="$web_vitals_allowed_metrics",Zs="$session_recording_enabled_server_side",Uo="$console_log_recording_enabled_server_side",Do="$session_recording_network_payload_capture",zo="$session_recording_masking",Wo="$session_recording_canvas_recording",Bo="$replay_sample_rate",qo="$replay_minimum_duration",Ho="$replay_script_config",vn="$sesid",vr="$session_is_sampled",Qs="$session_recording_url_trigger_activated_session",ei="$session_recording_event_trigger_activated_session",Vt="$enabled_feature_flags",mr="$early_access_features",ti="$feature_flag_details",_r="$stored_person_properties",At="$stored_group_properties",ri="$surveys",Jr="$surveys_activated",mn="$flag_call_reported",ot="$user_state",ni="$client_session_props",si="$capture_rate_limit",ii="$initial_campaign_params",oi="$initial_referrer_info",_n="$initial_person_info",bn="$epp",Wl="__POSTHOG_TOOLBAR__",or="$posthog_cookieless",gp=[Dl,fr,"__cmpns",gr,Zs,Ys,vn,Vt,Xs,ot,mr,ti,At,_r,ri,mn,ni,si,ii,oi,bn,_n];function Vo(t){return t instanceof Element&&(t.id===Wl||!(t.closest==null||!t.closest(".toolbar-global-fade-container")))}function Dn(t){return!!t&&t.nodeType===1}function xt(t,e){return!!t&&!!t.tagName&&t.tagName.toLowerCase()===e.toLowerCase()}function Bl(t){return!!t&&t.nodeType===3}function ql(t){return!!t&&t.nodeType===11}function ji(t){return t?$n(t).split(/\s+/):[]}function Go(t){var e=b==null?void 0:b.location.href;return!!(e&&t&&t.some(r=>e.match(r)))}function yn(t){var e="";switch(typeof t.className){case"string":e=t.className;break;case"object":e=(t.className&&"baseVal"in t.className?t.className.baseVal:null)||t.getAttribute("class")||"";break;default:e=""}return ji(e)}function Hl(t){return H(t)?null:$n(t).split(/(\s+)/).filter(e=>Qt(e)).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)}function zn(t){var e="";return li(t)&&!Kl(t)&&t.childNodes&&t.childNodes.length&&Y(t.childNodes,function(r){var n;Bl(r)&&r.textContent&&(e+=(n=Hl(r.textContent))!==null&&n!==void 0?n:"")}),$n(e)}function Vl(t){return P(t.target)?t.srcElement||null:(e=t.target)!=null&&e.shadowRoot?t.composedPath()[0]||null:t.target||null;var e}var ai=["a","button","form","input","select","textarea","label"];function Gl(t){var e=t.parentNode;return!(!e||!Dn(e))&&e}function vp(t,e,r,n,s){var i,o,a;if(r===void 0&&(r=void 0),!b||!t||xt(t,"html")||!Dn(t)||(i=r)!=null&&i.url_allowlist&&!Go(r.url_allowlist)||(o=r)!=null&&o.url_ignorelist&&Go(r.url_ignorelist))return!1;if((a=r)!=null&&a.dom_event_allowlist){var l=r.dom_event_allowlist;if(l&&!l.some(v=>e.type===v))return!1}for(var c=!1,u=[t],h=!0,d=t;d.parentNode&&!xt(d,"body");)if(ql(d.parentNode))u.push(d.parentNode.host),d=d.parentNode.host;else{if(!(h=Gl(d)))break;if(n||ai.indexOf(h.tagName.toLowerCase())>-1)c=!0;else{var p=b.getComputedStyle(h);p&&p.getPropertyValue("cursor")==="pointer"&&(c=!0)}u.push(h),d=h}if(!function(v,m){var y=m==null?void 0:m.element_allowlist;if(P(y))return!0;var k,x=function(T){if(y.some(M=>T.tagName.toLowerCase()===M))return{v:!0}};for(var E of v)if(k=x(E))return k.v;return!1}(u,r)||!function(v,m){var y=m==null?void 0:m.css_selector_allowlist;if(P(y))return!0;var k,x=function(T){if(y.some(M=>T.matches(M)))return{v:!0}};for(var E of v)if(k=x(E))return k.v;return!1}(u,r))return!1;var g=b.getComputedStyle(t);if(g&&g.getPropertyValue("cursor")==="pointer"&&e.type==="click")return!0;var f=t.tagName.toLowerCase();switch(f){case"html":return!1;case"form":return(s||["submit"]).indexOf(e.type)>=0;case"input":case"select":case"textarea":return(s||["change","click"]).indexOf(e.type)>=0;default:return c?(s||["click"]).indexOf(e.type)>=0:(s||["click"]).indexOf(e.type)>=0&&(ai.indexOf(f)>-1||t.getAttribute("contenteditable")==="true")}}function li(t){for(var e=t;e.parentNode&&!xt(e,"body");e=e.parentNode){var r=yn(e);if(W(r,"ph-sensitive")||W(r,"ph-no-capture"))return!1}if(W(yn(t),"ph-include"))return!0;var n=t.type||"";if(le(n))switch(n.toLowerCase()){case"hidden":case"password":return!1}var s=t.name||t.id||"";return!(le(s)&&/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(s.replace(/[^a-zA-Z0-9]/g,"")))}function Kl(t){return!!(xt(t,"input")&&!["button","checkbox","submit","reset"].includes(t.type)||xt(t,"select")||xt(t,"textarea")||t.getAttribute("contenteditable")==="true")}var Jl="(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11})",mp=new RegExp("^(?:"+Jl+")$"),_p=new RegExp(Jl),Yl="\\d{3}-?\\d{2}-?\\d{4}",bp=new RegExp("^("+Yl+")$"),yp=new RegExp("("+Yl+")");function Qt(t,e){return e===void 0&&(e=!0),!(H(t)||le(t)&&(t=$n(t),(e?mp:_p).test((t||"").replace(/[- ]/g,""))||(e?bp:yp).test(t)))}function Xl(t){var e=zn(t);return Qt(e=(e+" "+Zl(t)).trim())?e:""}function Zl(t){var e="";return t&&t.childNodes&&t.childNodes.length&&Y(t.childNodes,function(r){var n;if(r&&((n=r.tagName)==null?void 0:n.toLowerCase())==="span")try{var s=zn(r);e=(e+" "+s).trim(),r.childNodes&&r.childNodes.length&&(e=(e+" "+Zl(r)).trim())}catch(i){O.error("[AutoCapture]",i)}}),e}function wp(t){return function(e){var r=e.map(n=>{var s,i,o="";if(n.tag_name&&(o+=n.tag_name),n.attr_class)for(var a of(n.attr_class.sort(),n.attr_class))o+="."+a.replace(/"/g,"");var l=I({},n.text?{text:n.text}:{},{"nth-child":(s=n.nth_child)!==null&&s!==void 0?s:0,"nth-of-type":(i=n.nth_of_type)!==null&&i!==void 0?i:0},n.href?{href:n.href}:{},n.attr_id?{attr_id:n.attr_id}:{},n.attributes),c={};return cn(l).sort((u,h)=>{var[d]=u,[p]=h;return d.localeCompare(p)}).forEach(u=>{var[h,d]=u;return c[Ko(h.toString())]=Ko(d.toString())}),o+=":",o+=cn(c).map(u=>{var[h,d]=u;return h+'="'+d+'"'}).join("")});return r.join(";")}(function(e){return e.map(r=>{var n,s,i={text:(n=r.$el_text)==null?void 0:n.slice(0,400),tag_name:r.tag_name,href:(s=r.attr__href)==null?void 0:s.slice(0,2048),attr_class:kp(r),attr_id:r.attr__id,nth_child:r.nth_child,nth_of_type:r.nth_of_type,attributes:{}};return cn(r).filter(o=>{var[a]=o;return a.indexOf("attr__")===0}).forEach(o=>{var[a,l]=o;return i.attributes[a]=l}),i})}(t))}function Ko(t){return t.replace(/"|\\"/g,'\\"')}function kp(t){var e=t.attr__class;return e?Q(e)?e:ji(e):void 0}class Ql{constructor(){this.clicks=[]}isRageClick(e,r,n){var s=this.clicks[this.clicks.length-1];if(s&&Math.abs(e-s.x)+Math.abs(r-s.y)<30&&n-s.timestamp<1e3){if(this.clicks.push({x:e,y:r,timestamp:n}),this.clicks.length===3)return!0}else this.clicks=[{x:e,y:r,timestamp:n}];return!1}}var Sp=["localhost","127.0.0.1"],er=t=>{var e=R==null?void 0:R.createElement("a");return P(e)?null:(e.href=t,e)},xp=function(t,e){var r,n;e===void 0&&(e="&");var s=[];return Y(t,function(i,o){P(i)||P(o)||o==="undefined"||(r=encodeURIComponent((a=>a instanceof File)(i)?i.name:i.toString()),n=encodeURIComponent(o),s[s.length]=n+"="+r)}),s.join(e)},wn=function(t,e){for(var r,n=((t.split("#")[0]||"").split(/\?(.*)/)[1]||"").replace(/^\?+/g,"").split("&"),s=0;s<n.length;s++){var i=n[s].split("=");if(i[0]===e){r=i;break}}if(!Q(r)||r.length<2)return"";var o=r[1];try{o=decodeURIComponent(o)}catch{O.error("Skipping decoding for malformed query param: "+o)}return o.replace(/\+/g," ")},Fi=function(t,e,r){if(!t||!e||!e.length)return t;for(var n=t.split("#"),s=n[0]||"",i=n[1],o=s.split("?"),a=o[1],l=o[0],c=(a||"").split("&"),u=[],h=0;h<c.length;h++){var d=c[h].split("=");Q(d)&&(e.includes(d[0])?u.push(d[0]+"="+r):u.push(c[h]))}var p=l;return a!=null&&(p+="?"+u.join("&")),i!=null&&(p+="#"+i),p},kn=function(t,e){var r=t.match(new RegExp(e+"=([^&]*)"));return r?r[1]:null},Jo=ve("[AutoCapture]");function ps(t,e){return e.length>t?e.slice(0,t)+"...":e}function Ep(t){if(t.previousElementSibling)return t.previousElementSibling;var e=t;do e=e.previousSibling;while(e&&!Dn(e));return e}function Cp(t,e,r,n){var s=t.tagName.toLowerCase(),i={tag_name:s};ai.indexOf(s)>-1&&!r&&(s.toLowerCase()==="a"||s.toLowerCase()==="button"?i.$el_text=ps(1024,Xl(t)):i.$el_text=ps(1024,zn(t)));var o=yn(t);o.length>0&&(i.classes=o.filter(function(u){return u!==""})),Y(t.attributes,function(u){var h;if((!Kl(t)||["name","id","class","aria-label"].indexOf(u.name)!==-1)&&(n==null||!n.includes(u.name))&&!e&&Qt(u.value)&&(h=u.name,!le(h)||h.substring(0,10)!=="_ngcontent"&&h.substring(0,7)!=="_nghost")){var d=u.value;u.name==="class"&&(d=ji(d).join(" ")),i["attr__"+u.name]=ps(1024,d)}});for(var a=1,l=1,c=t;c=Ep(c);)a++,c.tagName===t.tagName&&l++;return i.nth_child=a,i.nth_of_type=l,i}function Pp(t,e){for(var r,n,{e:s,maskAllElementAttributes:i,maskAllText:o,elementAttributeIgnoreList:a,elementsChainAsString:l}=e,c=[t],u=t;u.parentNode&&!xt(u,"body");)ql(u.parentNode)?(c.push(u.parentNode.host),u=u.parentNode.host):(c.push(u.parentNode),u=u.parentNode);var h,d=[],p={},g=!1,f=!1;if(Y(c,x=>{var E=li(x);x.tagName.toLowerCase()==="a"&&(g=x.getAttribute("href"),g=E&&g&&Qt(g)&&g),W(yn(x),"ph-no-capture")&&(f=!0),d.push(Cp(x,i,o,a));var T=function(M){if(!li(M))return{};var S={};return Y(M.attributes,function(F){if(F.name&&F.name.indexOf("data-ph-capture-attribute")===0){var j=F.name.replace("data-ph-capture-attribute-",""),N=F.value;j&&N&&Qt(N)&&(S[j]=N)}}),S}(x);ce(p,T)}),f)return{props:{},explicitNoCapture:f};if(o||(t.tagName.toLowerCase()==="a"||t.tagName.toLowerCase()==="button"?d[0].$el_text=Xl(t):d[0].$el_text=zn(t)),g){var v,m;d[0].attr__href=g;var y=(v=er(g))==null?void 0:v.host,k=b==null||(m=b.location)==null?void 0:m.host;y&&k&&y!==k&&(h=g)}return{props:ce({$event_type:s.type,$ce_version:1},l?{}:{$elements:d},{$elements_chain:wp(d)},(r=d[0])!=null&&r.$el_text?{$el_text:(n=d[0])==null?void 0:n.$el_text}:{},h&&s.type==="click"?{$external_click_url:h}:{},p)}}class Ip{constructor(e){this.i=!1,this.o=null,this.rageclicks=new Ql,this.h=!1,this.instance=e,this.m=null}get S(){var e,r,n=ae(this.instance.config.autocapture)?this.instance.config.autocapture:{};return n.url_allowlist=(e=n.url_allowlist)==null?void 0:e.map(s=>new RegExp(s)),n.url_ignorelist=(r=n.url_ignorelist)==null?void 0:r.map(s=>new RegExp(s)),n}$(){if(this.isBrowserSupported()){if(b&&R){var e=n=>{n=n||(b==null?void 0:b.event);try{this.k(n)}catch(s){Jo.error("Failed to capture event",s)}};if(oe(R,"submit",e,{capture:!0}),oe(R,"change",e,{capture:!0}),oe(R,"click",e,{capture:!0}),this.S.capture_copied_text){var r=n=>{n=n||(b==null?void 0:b.event),this.k(n,hs)};oe(R,"copy",r,{capture:!0}),oe(R,"cut",r,{capture:!0})}}}else Jo.info("Disabling Automatic Event Collection because this browser is not supported")}startIfEnabled(){this.isEnabled&&!this.i&&(this.$(),this.i=!0)}onRemoteConfig(e){e.elementsChainAsString&&(this.h=e.elementsChainAsString),this.instance.persistence&&this.instance.persistence.register({[jo]:!!e.autocapture_opt_out}),this.o=!!e.autocapture_opt_out,this.startIfEnabled()}setElementSelectors(e){this.m=e}getElementSelectors(e){var r,n=[];return(r=this.m)==null||r.forEach(s=>{var i=R==null?void 0:R.querySelectorAll(s);i==null||i.forEach(o=>{e===o&&n.push(s)})}),n}get isEnabled(){var e,r,n=(e=this.instance.persistence)==null?void 0:e.props[jo],s=this.o;if(Ct(s)&&!Je(n)&&!this.instance.I())return!1;var i=(r=this.o)!==null&&r!==void 0?r:!!n;return!!this.instance.config.autocapture&&!i}k(e,r){if(r===void 0&&(r="$autocapture"),this.isEnabled){var n,s=Vl(e);Bl(s)&&(s=s.parentNode||null),r==="$autocapture"&&e.type==="click"&&e instanceof MouseEvent&&this.instance.config.rageclick&&(n=this.rageclicks)!=null&&n.isRageClick(e.clientX,e.clientY,new Date().getTime())&&this.k(e,"$rageclick");var i=r===hs;if(s&&vp(s,e,this.S,i,i?["copy","cut"]:void 0)){var{props:o,explicitNoCapture:a}=Pp(s,{e,maskAllElementAttributes:this.instance.config.mask_all_element_attributes,maskAllText:this.instance.config.mask_all_text,elementAttributeIgnoreList:this.S.element_attribute_ignorelist,elementsChainAsString:this.h});if(a)return!1;var l=this.getElementSelectors(s);if(l&&l.length>0&&(o.$element_selectors=l),r===hs){var c,u=Hl(b==null||(c=b.getSelection())==null?void 0:c.toString()),h=e.type||"clipboard";if(!u)return!1;o.$selected_content=u,o.$copy_type=h}return this.instance.capture(r,o),!0}}}isBrowserSupported(){return Be(R==null?void 0:R.querySelectorAll)}}Math.trunc||(Math.trunc=function(t){return t<0?Math.ceil(t):Math.floor(t)}),Number.isInteger||(Number.isInteger=function(t){return we(t)&&isFinite(t)&&Math.floor(t)===t});var Yo="0123456789abcdef";class Sn{constructor(e){if(this.bytes=e,e.length!==16)throw new TypeError("not 128-bit length")}static fromFieldsV7(e,r,n,s){if(!Number.isInteger(e)||!Number.isInteger(r)||!Number.isInteger(n)||!Number.isInteger(s)||e<0||r<0||n<0||s<0||e>0xffffffffffff||r>4095||n>1073741823||s>4294967295)throw new RangeError("invalid field value");var i=new Uint8Array(16);return i[0]=e/Math.pow(2,40),i[1]=e/Math.pow(2,32),i[2]=e/Math.pow(2,24),i[3]=e/Math.pow(2,16),i[4]=e/Math.pow(2,8),i[5]=e,i[6]=112|r>>>8,i[7]=r,i[8]=128|n>>>24,i[9]=n>>>16,i[10]=n>>>8,i[11]=n,i[12]=s>>>24,i[13]=s>>>16,i[14]=s>>>8,i[15]=s,new Sn(i)}toString(){for(var e="",r=0;r<this.bytes.length;r++)e=e+Yo.charAt(this.bytes[r]>>>4)+Yo.charAt(15&this.bytes[r]),r!==3&&r!==5&&r!==7&&r!==9||(e+="-");if(e.length!==36)throw new Error("Invalid UUIDv7 was generated");return e}clone(){return new Sn(this.bytes.slice(0))}equals(e){return this.compareTo(e)===0}compareTo(e){for(var r=0;r<16;r++){var n=this.bytes[r]-e.bytes[r];if(n!==0)return Math.sign(n)}return 0}}class Rp{constructor(){this.P=0,this.R=0,this.T=new Op}generate(){var e=this.generateOrAbort();if(P(e)){this.P=0;var r=this.generateOrAbort();if(P(r))throw new Error("Could not generate UUID after timestamp reset");return r}return e}generateOrAbort(){var e=Date.now();if(e>this.P)this.P=e,this.C();else{if(!(e+1e4>this.P))return;this.R++,this.R>4398046511103&&(this.P++,this.C())}return Sn.fromFieldsV7(this.P,Math.trunc(this.R/Math.pow(2,30)),this.R&Math.pow(2,30)-1,this.T.nextUint32())}C(){this.R=1024*this.T.nextUint32()+(1023&this.T.nextUint32())}}var Xo,ec=t=>{if(typeof UUIDV7_DENY_WEAK_RNG<"u"&&UUIDV7_DENY_WEAK_RNG)throw new Error("no cryptographically strong RNG available");for(var e=0;e<t.length;e++)t[e]=65536*Math.trunc(65536*Math.random())+Math.trunc(65536*Math.random());return t};b&&!P(b.crypto)&&crypto.getRandomValues&&(ec=t=>crypto.getRandomValues(t));class Op{constructor(){this.M=new Uint32Array(8),this.F=1/0}nextUint32(){return this.F>=this.M.length&&(ec(this.M),this.F=0),this.M[this.F++]}}var kt=()=>Tp().toString(),Tp=()=>(Xo||(Xo=new Rp)).generate(),ar="",Mp=/[a-z0-9][a-z0-9-]+\.[a-z]{2,}$/i;function Ap(t,e){if(e){var r=function(s,i){if(i===void 0&&(i=R),ar)return ar;if(!i||["localhost","127.0.0.1"].includes(s))return"";for(var o=s.split("."),a=Math.min(o.length,8),l="dmn_chk_"+kt();!ar&&a--;){var c=o.slice(a).join("."),u=l+"=1;domain=."+c+";path=/";i.cookie=u+";max-age=3",i.cookie.includes(l)&&(i.cookie=u+";max-age=0",ar=c)}return ar}(t);if(!r){var n=(s=>{var i=s.match(Mp);return i?i[0]:""})(t);n!==r&&O.info("Warning: cookie subdomain discovery mismatch",n,r),r=n}return r?"; domain=."+r:""}return""}var Xe={O:()=>!!R,A:function(t){O.error("cookieStore error: "+t)},D:function(t){if(R){try{for(var e=t+"=",r=R.cookie.split(";").filter(i=>i.length),n=0;n<r.length;n++){for(var s=r[n];s.charAt(0)==" ";)s=s.substring(1,s.length);if(s.indexOf(e)===0)return decodeURIComponent(s.substring(e.length,s.length))}}catch{}return null}},j:function(t){var e;try{e=JSON.parse(Xe.D(t))||{}}catch{}return e},L:function(t,e,r,n,s){if(R)try{var i="",o="",a=Ap(R.location.hostname,n);if(r){var l=new Date;l.setTime(l.getTime()+24*r*60*60*1e3),i="; expires="+l.toUTCString()}s&&(o="; secure");var c=t+"="+encodeURIComponent(JSON.stringify(e))+i+"; SameSite=Lax; path=/"+a+o;return c.length>3686.4&&O.warn("cookieStore warning: large cookie, len="+c.length),R.cookie=c,c}catch{return}},N:function(t,e){if(R!=null&&R.cookie)try{Xe.L(t,"",-1,e)}catch{return}}},fs=null,fe={O:function(){if(!Ct(fs))return fs;var t=!0;if(P(b))t=!1;else try{var e="__mplssupport__";fe.L(e,"xyz"),fe.D(e)!=='"xyz"'&&(t=!1),fe.N(e)}catch{t=!1}return t||O.error("localStorage unsupported; falling back to cookie store"),fs=t,t},A:function(t){O.error("localStorage error: "+t)},D:function(t){try{return b==null?void 0:b.localStorage.getItem(t)}catch(e){fe.A(e)}return null},j:function(t){try{return JSON.parse(fe.D(t))||{}}catch{}return null},L:function(t,e){try{b==null||b.localStorage.setItem(t,JSON.stringify(e))}catch(r){fe.A(r)}},N:function(t){try{b==null||b.localStorage.removeItem(t)}catch(e){fe.A(e)}}},jp=["distinct_id",vn,vr,bn,_n],Yr=I({},fe,{j:function(t){try{var e={};try{e=Xe.j(t)||{}}catch{}var r=ce(e,JSON.parse(fe.D(t)||"{}"));return fe.L(t,r),r}catch{}return null},L:function(t,e,r,n,s,i){try{fe.L(t,e,void 0,void 0,i);var o={};jp.forEach(a=>{e[a]&&(o[a]=e[a])}),Object.keys(o).length&&Xe.L(t,o,r,n,s,i)}catch(a){fe.A(a)}},N:function(t,e){try{b==null||b.localStorage.removeItem(t),Xe.N(t,e)}catch(r){fe.A(r)}}}),Xr={},Fp={O:function(){return!0},A:function(t){O.error("memoryStorage error: "+t)},D:function(t){return Xr[t]||null},j:function(t){return Xr[t]||null},L:function(t,e){Xr[t]=e},N:function(t){delete Xr[t]}},Pt=null,_e={O:function(){if(!Ct(Pt))return Pt;if(Pt=!0,P(b))Pt=!1;else try{var t="__support__";_e.L(t,"xyz"),_e.D(t)!=='"xyz"'&&(Pt=!1),_e.N(t)}catch{Pt=!1}return Pt},A:function(t){O.error("sessionStorage error: ",t)},D:function(t){try{return b==null?void 0:b.sessionStorage.getItem(t)}catch(e){_e.A(e)}return null},j:function(t){try{return JSON.parse(_e.D(t))||null}catch{}return null},L:function(t,e){try{b==null||b.sessionStorage.setItem(t,JSON.stringify(e))}catch(r){_e.A(r)}},N:function(t){try{b==null||b.sessionStorage.removeItem(t)}catch(e){_e.A(e)}}},It=function(t){return t[t.PENDING=-1]="PENDING",t[t.DENIED=0]="DENIED",t[t.GRANTED=1]="GRANTED",t}({});class Np{constructor(e){this._instance=e}get S(){return this._instance.config}get consent(){return this.U()?It.DENIED:this.q}isOptedOut(){return this.S.cookieless_mode==="always"||this.consent===It.DENIED||this.consent===It.PENDING&&(this.S.opt_out_capturing_by_default||this.S.cookieless_mode==="on_reject")}isOptedIn(){return!this.isOptedOut()}isExplicitlyOptedOut(){return this.consent===It.DENIED}optInOut(e){this.B.L(this.H,e?1:0,this.S.cookie_expiration,this.S.cross_subdomain_cookie,this.S.secure_cookie)}reset(){this.B.N(this.H,this.S.cross_subdomain_cookie)}get H(){var{token:e,opt_out_capturing_cookie_prefix:r,consent_persistence_name:n}=this._instance.config;return n||(r?r+e:"__ph_opt_in_out_"+e)}get q(){var e=this.B.D(this.H);return e==="1"?It.GRANTED:e==="0"?It.DENIED:It.PENDING}get B(){if(!this.W){var e=this.S.opt_out_capturing_persistence_type;this.W=e==="localStorage"?fe:Xe;var r=e==="localStorage"?Xe:fe;r.D(this.H)&&(this.W.D(this.H)||this.optInOut(r.D(this.H)==="1"),r.N(this.H,this.S.cross_subdomain_cookie))}return this.W}U(){return!!this.S.respect_dnt&&!!Ul([$e==null?void 0:$e.doNotTrack,$e==null?void 0:$e.msDoNotTrack,$.doNotTrack],e=>W([!0,1,"1","yes"],e))}}var Zr=ve("[Dead Clicks]"),$p=()=>!0,Lp=t=>{var e,r=!((e=t.instance.persistence)==null||!e.get_property(zl)),n=t.instance.config.capture_dead_clicks;return Je(n)?n:r};class tc{get lazyLoadedDeadClicksAutocapture(){return this.G}constructor(e,r,n){this.instance=e,this.isEnabled=r,this.onCapture=n,this.startIfEnabled()}onRemoteConfig(e){this.instance.persistence&&this.instance.persistence.register({[zl]:e==null?void 0:e.captureDeadClicks}),this.startIfEnabled()}startIfEnabled(){this.isEnabled(this)&&this.J(()=>{this.V()})}J(e){var r,n;(r=$.__PosthogExtensions__)!=null&&r.initDeadClicksAutocapture&&e(),(n=$.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this.instance,"dead-clicks-autocapture",s=>{s?Zr.error("failed to load script",s):e()})}V(){var e;if(R){if(!this.G&&(e=$.__PosthogExtensions__)!=null&&e.initDeadClicksAutocapture){var r=ae(this.instance.config.capture_dead_clicks)?this.instance.config.capture_dead_clicks:{};r.__onCapture=this.onCapture,this.G=$.__PosthogExtensions__.initDeadClicksAutocapture(this.instance,r),this.G.start(R),Zr.info("starting...")}}else Zr.error("`document` not found. Cannot start.")}stop(){this.G&&(this.G.stop(),this.G=void 0,Zr.info("stopping..."))}}function Le(t,e,r,n,s){return e>r&&(O.warn("min cannot be greater than max."),e=r),we(t)?t>r?(n&&O.warn(n+" cannot be  greater than max: "+r+". Using max value instead."),r):t<e?(n&&O.warn(n+" cannot be less than min: "+e+". Using min value instead."),e):t:(n&&O.warn(n+" must be a number. using max or fallback. max: "+r+", fallback: "+s),Le(s||r,e,r,n))}class rc{constructor(e){this.K={},this.Y=()=>{Object.keys(this.K).forEach(r=>{var n=this.X(r)+this.Z;n>=this.tt?delete this.K[r]:this.it(r,n)})},this.X=r=>this.K[String(r)],this.it=(r,n)=>{this.K[String(r)]=n},this.consumeRateLimit=r=>{var n,s=(n=this.X(r))!==null&&n!==void 0?n:this.tt;if((s=Math.max(s-1,0))===0)return!0;this.it(r,s);var i,o=s===0;return o&&((i=this.et)==null||i.call(this,r)),o},this.rt=e,this.et=this.rt.et,this.tt=Le(this.rt.bucketSize,0,100,"rate limiter bucket size"),this.Z=Le(this.rt.refillRate,0,this.tt,"rate limiter refill rate"),this.st=Le(this.rt.refillInterval,0,864e5,"rate limiter refill interval"),setInterval(()=>{this.Y()},this.st)}}var Qr=ve("[ExceptionAutocapture]");class Up{constructor(e){var r,n,s;this.nt=()=>{var i;if(b&&this.isEnabled&&(i=$.__PosthogExtensions__)!=null&&i.errorWrappingFunctions){var o=$.__PosthogExtensions__.errorWrappingFunctions.wrapOnError,a=$.__PosthogExtensions__.errorWrappingFunctions.wrapUnhandledRejection,l=$.__PosthogExtensions__.errorWrappingFunctions.wrapConsoleError;try{!this.ot&&this.S.capture_unhandled_errors&&(this.ot=o(this.captureException.bind(this))),!this.lt&&this.S.capture_unhandled_rejections&&(this.lt=a(this.captureException.bind(this))),!this.ut&&this.S.capture_console_errors&&(this.ut=l(this.captureException.bind(this)))}catch(c){Qr.error("failed to start",c),this.ht()}}},this._instance=e,this.dt=!((r=this._instance.persistence)==null||!r.props[Fo]),this.S=this.vt(),this.ct=new rc({refillRate:(n=this._instance.config.error_tracking.__exceptionRateLimiterRefillRate)!==null&&n!==void 0?n:1,bucketSize:(s=this._instance.config.error_tracking.__exceptionRateLimiterBucketSize)!==null&&s!==void 0?s:10,refillInterval:1e4}),this.startIfEnabled()}vt(){var e=this._instance.config.capture_exceptions,r={capture_unhandled_errors:!1,capture_unhandled_rejections:!1,capture_console_errors:!1};return ae(e)?r=I({},r,e):(P(e)?this.dt:e)&&(r=I({},r,{capture_unhandled_errors:!0,capture_unhandled_rejections:!0})),r}get isEnabled(){return this.S.capture_console_errors||this.S.capture_unhandled_errors||this.S.capture_unhandled_rejections}startIfEnabled(){this.isEnabled&&(Qr.info("enabled"),this.J(this.nt))}J(e){var r,n;(r=$.__PosthogExtensions__)!=null&&r.errorWrappingFunctions&&e(),(n=$.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this._instance,"exception-autocapture",s=>{if(s)return Qr.error("failed to load script",s);e()})}ht(){var e,r,n;(e=this.ot)==null||e.call(this),this.ot=void 0,(r=this.lt)==null||r.call(this),this.lt=void 0,(n=this.ut)==null||n.call(this),this.ut=void 0}onRemoteConfig(e){var r=e.autocaptureExceptions;this.dt=!!r||!1,this.S=this.vt(),this._instance.persistence&&this._instance.persistence.register({[Fo]:this.dt}),this.startIfEnabled()}captureException(e){var r,n=this._instance.requestRouter.endpointFor("ui");e.$exception_personURL=n+"/project/"+this._instance.config.token+"/person/"+this._instance.get_distinct_id();var s=(r=e.$exception_list[0].type)!==null&&r!==void 0?r:"Exception";this.ct.consumeRateLimit(s)?Qr.info("Skipping exception capture because of client rate limiting.",{exception:e.$exception_list[0].type}):this._instance.exceptions.sendExceptionEvent(e)}}function nc(t){return!P(Event)&&sc(t,Event)}function sc(t,e){try{return t instanceof e}catch{return!1}}function ic(t){switch(Object.prototype.toString.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object DOMError]":return!0;default:return sc(t,Error)}}function un(t,e){return Object.prototype.toString.call(t)==="[object "+e+"]"}function gs(t){return un(t,"DOMError")}var Zo=/\(error: (.*)\)/,Qo=50,Gt="?";function vs(t,e,r,n){var s={platform:"web:javascript",filename:t,function:e==="<anonymous>"?Gt:e,in_app:!0};return P(r)||(s.lineno=r),P(n)||(s.colno=n),s}var Dp=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,zp=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Wp=/\((\S*)(?::(\d+))(?::(\d+))\)/,Bp=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,qp=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Hp=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=e.sort((s,i)=>s[0]-i[0]).map(s=>s[1]);return function(s,i){i===void 0&&(i=0);for(var o=[],a=s.split(`
`),l=i;l<a.length;l++){var c=a[l];if(!(c.length>1024)){var u=Zo.test(c)?c.replace(Zo,"$1"):c;if(!u.match(/\S*Error: /)){for(var h of n){var d=h(u);if(d){o.push(d);break}}if(o.length>=Qo)break}}}return function(p){if(!p.length)return[];var g=Array.from(p);return g.reverse(),g.slice(0,Qo).map(f=>I({},f,{filename:f.filename||Vp(g).filename,function:f.function||Gt}))}(o)}}([30,t=>{var e=Dp.exec(t);if(e){var[,r,n,s]=e;return vs(r,Gt,+n,+s)}var i=zp.exec(t);if(i){if(i[2]&&i[2].indexOf("eval")===0){var o=Wp.exec(i[2]);o&&(i[2]=o[1],i[3]=o[2],i[4]=o[3])}var[a,l]=ta(i[1]||Gt,i[2]);return vs(l,a,i[3]?+i[3]:void 0,i[4]?+i[4]:void 0)}}],[50,t=>{var e=Bp.exec(t);if(e){if(e[3]&&e[3].indexOf(" > eval")>-1){var r=qp.exec(e[3]);r&&(e[1]=e[1]||"eval",e[3]=r[1],e[4]=r[2],e[5]="")}var n=e[3],s=e[1]||Gt;return[s,n]=ta(s,n),vs(n,s,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}}]);function Vp(t){return t[t.length-1]||{}}var en,ea,ms,ta=(t,e)=>{var r=t.indexOf("safari-extension")!==-1,n=t.indexOf("safari-web-extension")!==-1;return r||n?[t.indexOf("@")!==-1?t.split("@")[0]:Gt,r?"safari-extension:"+e:"safari-web-extension:"+e]:[t,e]},Gp=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;function Ni(t,e){e===void 0&&(e=0);var r=t.stacktrace||t.stack||"",n=function(o){return o&&Kp.test(o.message)?1:0}(t);try{var s=Hp,i=function(o,a){var l=function(c){var u=globalThis._posthogChunkIds;if(!u)return{};var h=Object.keys(u);return ms&&h.length===ea||(ea=h.length,ms=h.reduce((d,p)=>{en||(en={});var g=en[p];if(g)d[g[0]]=g[1];else for(var f=c(p),v=f.length-1;v>=0;v--){var m=f[v],y=m==null?void 0:m.filename,k=u[p];if(y&&k){d[y]=k,en[p]=[y,k];break}}return d},{})),ms}(a);return o.forEach(c=>{c.filename&&(c.chunk_id=l[c.filename])}),o}(s(r,n),s);return i.slice(0,i.length-e)}catch{}return[]}var Kp=/Minified React error #\d+;/i;function Jp(t,e){var r,n,s=Ni(t),i=(r=e==null?void 0:e.handled)===null||r===void 0||r,o=(n=e==null?void 0:e.synthetic)!==null&&n!==void 0&&n;return{type:e!=null&&e.overrideExceptionType?e.overrideExceptionType:t.name,value:function(a){var l=a.message;return l.error&&typeof l.error.message=="string"?String(l.error.message):String(l)}(t),stacktrace:{frames:s,type:"raw"},mechanism:{handled:i,synthetic:o}}}function oc(t,e){var r=Jp(t,e);return t.cause&&ic(t.cause)&&t.cause!==t?[r,...oc(t.cause,{handled:e==null?void 0:e.handled,synthetic:e==null?void 0:e.synthetic})]:[r]}function _s(t,e){return{$exception_list:oc(t,e),$exception_level:"error"}}function bs(t,e){var r,n,s,i=(r=e==null?void 0:e.handled)===null||r===void 0||r,o=(n=e==null?void 0:e.synthetic)===null||n===void 0||n,a={type:e!=null&&e.overrideExceptionType?e.overrideExceptionType:(s=e==null?void 0:e.defaultExceptionType)!==null&&s!==void 0?s:"Error",value:t||(e==null?void 0:e.defaultExceptionMessage),mechanism:{handled:i,synthetic:o}};if(e!=null&&e.syntheticException){var l=Ni(e.syntheticException,1);l.length&&(a.stacktrace={frames:l,type:"raw"})}return{$exception_list:[a],$exception_level:"error"}}function Yp(t){return le(t)&&!Js(t)&&op.indexOf(t)>=0}function Xp(t,e){var r,n,s=(r=e==null?void 0:e.handled)===null||r===void 0||r,i=(n=e==null?void 0:e.synthetic)===null||n===void 0||n,o=e!=null&&e.overrideExceptionType?e.overrideExceptionType:nc(t)?t.constructor.name:"Error",a="Non-Error 'exception' captured with keys: "+function(u,h){h===void 0&&(h=40);var d=Object.keys(u);if(d.sort(),!d.length)return"[object has no keys]";for(var p=d.length;p>0;p--){var g=d.slice(0,p).join(", ");if(!(g.length>h))return p===d.length||g.length<=h?g:g.slice(0,h)+"..."}return""}(t),l={type:o,value:a,mechanism:{handled:s,synthetic:i}};if(e!=null&&e.syntheticException){var c=Ni(e==null?void 0:e.syntheticException,1);c.length&&(l.stacktrace={frames:c,type:"raw"})}return{$exception_list:[l],$exception_level:Yp(t.level)?t.level:"error"}}function Zp(t,e){var{error:r,event:n}=t,s={$exception_list:[]},i=r||n;if(gs(i)||function(d){return un(d,"DOMException")}(i)){var o=i;if(function(d){return"stack"in d}(i))s=_s(i,e);else{var a=o.name||(gs(o)?"DOMError":"DOMException"),l=o.message?a+": "+o.message:a;s=bs(l,I({},e,{overrideExceptionType:gs(o)?"DOMError":"DOMException",defaultExceptionMessage:l}))}return"code"in o&&(s.$exception_DOMException_code=""+o.code),s}if(function(d){return un(d,"ErrorEvent")}(i)&&i.error)return _s(i.error,e);if(ic(i))return _s(i,e);if(function(d){return un(d,"Object")}(i)||nc(i))return Xp(i,e);if(P(r)&&le(n)){var c="Error",u=n,h=n.match(Gp);return h&&(c=h[1],u=h[2]),bs(u,I({},e,{overrideExceptionType:c,defaultExceptionMessage:u}))}return bs(i,e)}function ra(t,e,r){try{if(!(e in t))return()=>{};var n=t[e],s=r(n);return Be(s)&&(s.prototype=s.prototype||{},Object.defineProperties(s,{__posthog_wrapped__:{enumerable:!1,value:!0}})),t[e]=s,()=>{t[e]=n}}catch{return()=>{}}}class Qp{constructor(e){var r;this._instance=e,this.ft=(b==null||(r=b.location)==null?void 0:r.pathname)||""}get isEnabled(){return this._instance.config.capture_pageview==="history_change"}startIfEnabled(){this.isEnabled&&(O.info("History API monitoring enabled, starting..."),this.monitorHistoryChanges())}stop(){this._t&&this._t(),this._t=void 0,O.info("History API monitoring stopped")}monitorHistoryChanges(){var e,r;if(b&&b.history){var n=this;(e=b.history.pushState)!=null&&e.__posthog_wrapped__||ra(b.history,"pushState",s=>function(i,o,a){s.call(this,i,o,a),n.gt("pushState")}),(r=b.history.replaceState)!=null&&r.__posthog_wrapped__||ra(b.history,"replaceState",s=>function(i,o,a){s.call(this,i,o,a),n.gt("replaceState")}),this.bt()}}gt(e){try{var r,n=b==null||(r=b.location)==null?void 0:r.pathname;if(!n)return;n!==this.ft&&this.isEnabled&&this._instance.capture("$pageview",{navigation_type:e}),this.ft=n}catch(s){O.error("Error capturing "+e+" pageview",s)}}bt(){if(!this._t){var e=()=>{this.gt("popstate")};oe(b,"popstate",e),this._t=()=>{b&&b.removeEventListener("popstate",e)}}}}function xn(t){var e,r;return((e=JSON.stringify(t,(r=[],function(n,s){if(ae(s)){for(;r.length>0&&r[r.length-1]!==this;)r.pop();return r.includes(s)?"[Circular]":(r.push(s),s)}return s})))==null?void 0:e.length)||0}function ci(t,e){if(e===void 0&&(e=66060288e-1),t.size>=e&&t.data.length>1){var r=Math.floor(t.data.length/2),n=t.data.slice(0,r),s=t.data.slice(r);return[ci({size:xn(n),data:n,sessionId:t.sessionId,windowId:t.windowId}),ci({size:xn(s),data:s,sessionId:t.sessionId,windowId:t.windowId})].flatMap(i=>i)}return[t]}var at=(t=>(t[t.DomContentLoaded=0]="DomContentLoaded",t[t.Load=1]="Load",t[t.FullSnapshot=2]="FullSnapshot",t[t.IncrementalSnapshot=3]="IncrementalSnapshot",t[t.Meta=4]="Meta",t[t.Custom=5]="Custom",t[t.Plugin=6]="Plugin",t))(at||{}),Ve=(t=>(t[t.Mutation=0]="Mutation",t[t.MouseMove=1]="MouseMove",t[t.MouseInteraction=2]="MouseInteraction",t[t.Scroll=3]="Scroll",t[t.ViewportResize=4]="ViewportResize",t[t.Input=5]="Input",t[t.TouchMove=6]="TouchMove",t[t.MediaInteraction=7]="MediaInteraction",t[t.StyleSheetRule=8]="StyleSheetRule",t[t.CanvasMutation=9]="CanvasMutation",t[t.Font=10]="Font",t[t.Log=11]="Log",t[t.Drag=12]="Drag",t[t.StyleDeclaration=13]="StyleDeclaration",t[t.Selection=14]="Selection",t[t.AdoptedStyleSheet=15]="AdoptedStyleSheet",t[t.CustomElement=16]="CustomElement",t))(Ve||{}),ui="[SessionRecording]",di="redacted",tn={initiatorTypes:["audio","beacon","body","css","early-hint","embed","fetch","frame","iframe","icon","image","img","input","link","navigation","object","ping","script","track","video","xmlhttprequest"],maskRequestFn:t=>t,recordHeaders:!1,recordBody:!1,recordInitialRequests:!1,recordPerformance:!1,performanceEntryTypeToObserve:["first-input","navigation","paint","resource"],payloadSizeLimitBytes:1e6,payloadHostDenyList:[".lr-ingest.io",".ingest.sentry.io",".clarity.ms","analytics.google.com","bam.nr-data.net"]},ef=["authorization","x-forwarded-for","authorization","cookie","set-cookie","x-api-key","x-real-ip","remote-addr","forwarded","proxy-authorization","x-csrf-token","x-csrftoken","x-xsrf-token"],tf=["password","secret","passwd","api_key","apikey","auth","credentials","mysql_pwd","privatekey","private_key","token"],rf=["/s/","/e/","/i/"];function na(t,e,r,n){if(H(t))return t;var s=(e==null?void 0:e["content-length"])||function(i){return new Blob([i]).size}(t);return le(s)&&(s=parseInt(s)),s>r?ui+" "+n+" body too large to record ("+s+" bytes)":t}function sa(t,e){if(H(t))return t;var r=t;return Qt(r,!1)||(r=ui+" "+e+" body "+di),Y(tf,n=>{var s,i;(s=r)!=null&&s.length&&((i=r)==null?void 0:i.indexOf(n))!==-1&&(r=ui+" "+e+" body "+di+" as might contain: "+n)}),r}var nf=(t,e)=>{var r,n,s,i={payloadSizeLimitBytes:tn.payloadSizeLimitBytes,performanceEntryTypeToObserve:[...tn.performanceEntryTypeToObserve],payloadHostDenyList:[...e.payloadHostDenyList||[],...tn.payloadHostDenyList]},o=t.session_recording.recordHeaders!==!1&&e.recordHeaders,a=t.session_recording.recordBody!==!1&&e.recordBody,l=t.capture_performance!==!1&&e.recordPerformance,c=(r=i,s=Math.min(1e6,(n=r.payloadSizeLimitBytes)!==null&&n!==void 0?n:1e6),d=>(d!=null&&d.requestBody&&(d.requestBody=na(d.requestBody,d.requestHeaders,s,"Request")),d!=null&&d.responseBody&&(d.responseBody=na(d.responseBody,d.responseHeaders,s,"Response")),d)),u=d=>{return c(((f,v)=>{var m,y=er(f.name),k=v.indexOf("http")===0?(m=er(v))==null?void 0:m.pathname:v;k==="/"&&(k="");var x=y==null?void 0:y.pathname.replace(k||"","");if(!(y&&x&&rf.some(E=>x.indexOf(E)===0)))return f})((g=(p=d).requestHeaders,H(g)||Y(Object.keys(g??{}),f=>{ef.includes(f.toLowerCase())&&(g[f]=di)}),p),t.api_host));var p,g},h=Be(t.session_recording.maskNetworkRequestFn);return h&&Be(t.session_recording.maskCapturedNetworkRequestFn)&&O.warn("Both `maskNetworkRequestFn` and `maskCapturedNetworkRequestFn` are defined. `maskNetworkRequestFn` will be ignored."),h&&(t.session_recording.maskCapturedNetworkRequestFn=d=>{var p=t.session_recording.maskNetworkRequestFn({url:d.name});return I({},d,{name:p==null?void 0:p.url})}),i.maskRequestFn=Be(t.session_recording.maskCapturedNetworkRequestFn)?d=>{var p,g=u(d);return g&&(p=t.session_recording.maskCapturedNetworkRequestFn==null?void 0:t.session_recording.maskCapturedNetworkRequestFn(g))!==null&&p!==void 0?p:void 0}:d=>function(p){if(!P(p))return p.requestBody=sa(p.requestBody,"Request"),p.responseBody=sa(p.responseBody,"Response"),p}(u(d)),I({},tn,i,{recordHeaders:o,recordBody:a,recordPerformance:l,recordInitialRequests:l})};class sf{constructor(e,r){var n,s;r===void 0&&(r={}),this.yt={},this.wt=i=>{if(!this.yt[i]){var o,a;this.yt[i]=!0;var l=this.St(i);(o=(a=this.rt).onBlockedNode)==null||o.call(a,i,l)}},this.$t=i=>{var o=this.St(i);if((o==null?void 0:o.nodeName)!=="svg"&&o instanceof Element){var a=o.closest("svg");if(a)return[this._rrweb.mirror.getId(a),a]}return[i,o]},this.St=i=>this._rrweb.mirror.getNode(i),this.xt=i=>{var o,a,l,c,u,h,d,p;return((o=(a=i.removes)==null?void 0:a.length)!==null&&o!==void 0?o:0)+((l=(c=i.attributes)==null?void 0:c.length)!==null&&l!==void 0?l:0)+((u=(h=i.texts)==null?void 0:h.length)!==null&&u!==void 0?u:0)+((d=(p=i.adds)==null?void 0:p.length)!==null&&d!==void 0?d:0)},this.throttleMutations=i=>{if(i.type!==3||i.data.source!==0)return i;var o=i.data,a=this.xt(o);o.attributes&&(o.attributes=o.attributes.filter(c=>{var[u]=this.$t(c.id);return!this.ct.consumeRateLimit(u)&&c}));var l=this.xt(o);return l!==0||a===l?i:void 0},this._rrweb=e,this.rt=r,this.ct=new rc({bucketSize:(n=this.rt.bucketSize)!==null&&n!==void 0?n:100,refillRate:(s=this.rt.refillRate)!==null&&s!==void 0?s:10,refillInterval:1e3,et:this.wt})}}var qe=Uint8Array,je=Uint16Array,tr=Uint32Array,$i=new qe([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Li=new qe([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),ia=new qe([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ac=function(t,e){for(var r=new je(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];var s=new tr(r[30]);for(n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)s[i]=i-r[n]<<5|n;return[r,s]},lc=ac($i,2),of=lc[0],hi=lc[1];of[28]=258,hi[258]=28;for(var oa=ac(Li,0)[1],cc=new je(32768),ee=0;ee<32768;++ee){var Rt=(43690&ee)>>>1|(21845&ee)<<1;Rt=(61680&(Rt=(52428&Rt)>>>2|(13107&Rt)<<2))>>>4|(3855&Rt)<<4,cc[ee]=((65280&Rt)>>>8|(255&Rt)<<8)>>>1}var Cr=function(t,e,r){for(var n=t.length,s=0,i=new je(e);s<n;++s)++i[t[s]-1];var o,a=new je(e);for(s=0;s<e;++s)a[s]=a[s-1]+i[s-1]<<1;for(o=new je(n),s=0;s<n;++s)o[s]=cc[a[t[s]-1]++]>>>15-t[s];return o},Ft=new qe(288);for(ee=0;ee<144;++ee)Ft[ee]=8;for(ee=144;ee<256;++ee)Ft[ee]=9;for(ee=256;ee<280;++ee)Ft[ee]=7;for(ee=280;ee<288;++ee)Ft[ee]=8;var En=new qe(32);for(ee=0;ee<32;++ee)En[ee]=5;var af=Cr(Ft,9),lf=Cr(En,5),uc=function(t){return(t/8>>0)+(7&t&&1)},dc=function(t,e,r){(r==null||r>t.length)&&(r=t.length);var n=new(t instanceof je?je:t instanceof tr?tr:qe)(r-e);return n.set(t.subarray(e,r)),n},nt=function(t,e,r){r<<=7&e;var n=e/8>>0;t[n]|=r,t[n+1]|=r>>>8},lr=function(t,e,r){r<<=7&e;var n=e/8>>0;t[n]|=r,t[n+1]|=r>>>8,t[n+2]|=r>>>16},ys=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var s=r.length,i=r.slice();if(!s)return[new qe(0),0];if(s==1){var o=new qe(r[0].s+1);return o[r[0].s]=1,[o,1]}r.sort(function(E,T){return E.f-T.f}),r.push({s:-1,f:25001});var a=r[0],l=r[1],c=0,u=1,h=2;for(r[0]={s:-1,f:a.f+l.f,l:a,r:l};u!=s-1;)a=r[r[c].f<r[h].f?c++:h++],l=r[c!=u&&r[c].f<r[h].f?c++:h++],r[u++]={s:-1,f:a.f+l.f,l:a,r:l};var d=i[0].s;for(n=1;n<s;++n)i[n].s>d&&(d=i[n].s);var p=new je(d+1),g=pi(r[u-1],p,0);if(g>e){n=0;var f=0,v=g-e,m=1<<v;for(i.sort(function(E,T){return p[T.s]-p[E.s]||E.f-T.f});n<s;++n){var y=i[n].s;if(!(p[y]>e))break;f+=m-(1<<g-p[y]),p[y]=e}for(f>>>=v;f>0;){var k=i[n].s;p[k]<e?f-=1<<e-p[k]++-1:++n}for(;n>=0&&f;--n){var x=i[n].s;p[x]==e&&(--p[x],++f)}g=e}return[new qe(p),g]},pi=function(t,e,r){return t.s==-1?Math.max(pi(t.l,e,r+1),pi(t.r,e,r+1)):e[t.s]=r},aa=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new je(++e),n=0,s=t[0],i=1,o=function(l){r[n++]=l},a=1;a<=e;++a)if(t[a]==s&&a!=e)++i;else{if(!s&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(s),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(s);i=1,s=t[a]}return[r.subarray(0,n),e]},cr=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},fi=function(t,e,r){var n=r.length,s=uc(e+2);t[s]=255&n,t[s+1]=n>>>8,t[s+2]=255^t[s],t[s+3]=255^t[s+1];for(var i=0;i<n;++i)t[s+i+4]=r[i];return 8*(s+4+n)},la=function(t,e,r,n,s,i,o,a,l,c,u){nt(e,u++,r),++s[256];for(var h=ys(s,15),d=h[0],p=h[1],g=ys(i,15),f=g[0],v=g[1],m=aa(d),y=m[0],k=m[1],x=aa(f),E=x[0],T=x[1],M=new je(19),S=0;S<y.length;++S)M[31&y[S]]++;for(S=0;S<E.length;++S)M[31&E[S]]++;for(var F=ys(M,7),j=F[0],N=F[1],A=19;A>4&&!j[ia[A-1]];--A);var q,L,V,G,z=c+5<<3,te=cr(s,Ft)+cr(i,En)+o,se=cr(s,d)+cr(i,f)+o+14+3*A+cr(M,j)+(2*M[16]+3*M[17]+7*M[18]);if(z<=te&&z<=se)return fi(e,u,t.subarray(l,l+c));if(nt(e,u,1+(se<te)),u+=2,se<te){q=Cr(d,p),L=d,V=Cr(f,v),G=f;var Se=Cr(j,N);for(nt(e,u,k-257),nt(e,u+5,T-1),nt(e,u+10,A-4),u+=14,S=0;S<A;++S)nt(e,u+3*S,j[ia[S]]);u+=3*A;for(var X=[y,E],B=0;B<2;++B){var he=X[B];for(S=0;S<he.length;++S){var ue=31&he[S];nt(e,u,Se[ue]),u+=j[ue],ue>15&&(nt(e,u,he[S]>>>5&127),u+=he[S]>>>12)}}}else q=af,L=Ft,V=lf,G=En;for(S=0;S<a;++S)if(n[S]>255){ue=n[S]>>>18&31,lr(e,u,q[ue+257]),u+=L[ue+257],ue>7&&(nt(e,u,n[S]>>>23&31),u+=$i[ue]);var De=31&n[S];lr(e,u,V[De]),u+=G[De],De>3&&(lr(e,u,n[S]>>>5&8191),u+=Li[De])}else lr(e,u,q[n[S]]),u+=L[n[S]];return lr(e,u,q[256]),u+L[256]},cf=new tr([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),uf=function(){for(var t=new tr(256),e=0;e<256;++e){for(var r=e,n=9;--n;)r=(1&r&&3988292384)^r>>>1;t[e]=r}return t}(),df=function(){var t=4294967295;return{p:function(e){for(var r=t,n=0;n<e.length;++n)r=uf[255&r^e[n]]^r>>>8;t=r},d:function(){return 4294967295^t}}},hf=function(t,e,r,n,s){return function(i,o,a,l,c,u){var h=i.length,d=new qe(l+h+5*(1+Math.floor(h/7e3))+c),p=d.subarray(l,d.length-c),g=0;if(!o||h<8)for(var f=0;f<=h;f+=65535){var v=f+65535;v<h?g=fi(p,g,i.subarray(f,v)):(p[f]=u,g=fi(p,g,i.subarray(f,h)))}else{for(var m=cf[o-1],y=m>>>13,k=8191&m,x=(1<<a)-1,E=new je(32768),T=new je(x+1),M=Math.ceil(a/3),S=2*M,F=function(xe){return(i[xe]^i[xe+1]<<M^i[xe+2]<<S)&x},j=new tr(25e3),N=new je(288),A=new je(32),q=0,L=0,V=(f=0,0),G=0,z=0;f<h;++f){var te=F(f),se=32767&f,Se=T[te];if(E[se]=Se,T[te]=se,G<=f){var X=h-f;if((q>7e3||V>24576)&&X>423){g=la(i,p,0,j,N,A,L,V,z,f-z,g),V=q=L=0,z=f;for(var B=0;B<286;++B)N[B]=0;for(B=0;B<30;++B)A[B]=0}var he=2,ue=0,De=k,Fe=se-Se&32767;if(X>2&&te==F(f-Fe))for(var Dr=Math.min(y,X)-1,Hn=Math.min(32767,f),Vn=Math.min(258,X);Fe<=Hn&&--De&&se!=Se;){if(i[f+he]==i[f+he-Fe]){for(var Oe=0;Oe<Vn&&i[f+Oe]==i[f+Oe-Fe];++Oe);if(Oe>he){if(he=Oe,ue=Fe,Oe>Dr)break;var zr=Math.min(Fe,Oe-2),Gn=0;for(B=0;B<zr;++B){var K=f-Fe+B+32768&32767,J=K-E[K]+32768&32767;J>Gn&&(Gn=J,Se=K)}}}Fe+=(se=Se)-(Se=E[se])+32768&32767}if(ue){j[V++]=268435456|hi[he]<<18|oa[ue];var pe=31&hi[he],re=31&oa[ue];L+=$i[pe]+Li[re],++N[257+pe],++A[re],G=f+he,++q}else j[V++]=i[f],++N[i[f]]}}g=la(i,p,u,j,N,A,L,V,z,f-z,g)}return dc(d,0,l+uc(g)+c)}(t,e.level==null?6:e.level,e.mem==null?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(t.length)))):12+e.mem,r,n,!0)},gi=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},pf=function(t,e){var r=e.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=e.level<2?4:e.level==9?2:0,t[9]=3,e.mtime!=0&&gi(t,4,Math.floor(new Date(e.mtime||Date.now())/1e3)),r){t[3]=8;for(var n=0;n<=r.length;++n)t[n+10]=r.charCodeAt(n)}},ff=function(t){return 10+(t.filename&&t.filename.length+1||0)};function hc(t,e){e===void 0&&(e={});var r=df(),n=t.length;r.p(t);var s=hf(t,e,ff(e),8),i=s.length;return pf(s,e),gi(s,i-8,r.d()),gi(s,i-4,n),s}function pc(t,e){var r=t.length;if(typeof TextEncoder<"u")return new TextEncoder().encode(t);for(var n=new qe(t.length+(t.length>>>1)),s=0,i=function(c){n[s++]=c},o=0;o<r;++o){if(s+5>n.length){var a=new qe(s+8+(r-o<<1));a.set(n),n=a}var l=t.charCodeAt(o);l<128||e?i(l):l<2048?(i(192|l>>>6),i(128|63&l)):l>55295&&l<57344?(i(240|(l=65536+(1047552&l)|1023&t.charCodeAt(++o))>>>18),i(128|l>>>12&63),i(128|l>>>6&63),i(128|63&l)):(i(224|l>>>12),i(128|l>>>6&63),i(128|63&l))}return dc(n,0,s)}function gf(t,e){return function(r){for(var n=0,s=0;s<r.length;s++)n=(n<<5)-n+r.charCodeAt(s),n|=0;return Math.abs(n)}(t)%100<Le(100*e,0,100)}var Et="disabled",Ui="sampled",Cn="active",Nt="buffering",Di="paused",zi="trigger",Ze=zi+"_activated",ke=zi+"_pending",Qe=zi+"_"+Et;function ca(t,e){return e.some(r=>r.matching==="regex"&&new RegExp(r.url).test(t))}class fc{constructor(e){this.kt=e}triggerStatus(e){var r=this.kt.map(n=>n.triggerStatus(e));return r.includes(Ze)?Ze:r.includes(ke)?ke:Qe}stop(){this.kt.forEach(e=>e.stop())}}class gc{constructor(e){this.kt=e}triggerStatus(e){var r=new Set;for(var n of this.kt)r.add(n.triggerStatus(e));switch(r.delete(Qe),r.size){case 0:return Qe;case 1:return Array.from(r)[0];default:return ke}}stop(){this.kt.forEach(e=>e.stop())}}class vf{triggerStatus(){return ke}stop(){}}class mf{constructor(e){this.Et=[],this.It=[],this.urlBlocked=!1,this._instance=e}onRemoteConfig(e){var r,n;this.Et=((r=e.sessionRecording)==null?void 0:r.urlTriggers)||[],this.It=((n=e.sessionRecording)==null?void 0:n.urlBlocklist)||[]}Pt(e){var r;return this.Et.length===0?Qe:((r=this._instance)==null?void 0:r.get_property(Qs))===e?Ze:ke}triggerStatus(e){var r=this.Pt(e),n=r===Ze?Ze:r===ke?ke:Qe;return this._instance.register_for_session({$sdk_debug_replay_url_trigger_status:n}),n}checkUrlTriggerConditions(e,r,n){if(b!==void 0&&b.location.href){var s=b.location.href,i=this.urlBlocked,o=ca(s,this.It);i&&o||(o&&!i?e():!o&&i&&r(),ca(s,this.Et)&&n("url"))}}stop(){}}class _f{constructor(e){this.linkedFlag=null,this.linkedFlagSeen=!1,this.Rt=()=>{},this._instance=e}triggerStatus(){var e=ke;return H(this.linkedFlag)&&(e=Qe),this.linkedFlagSeen&&(e=Ze),this._instance.register_for_session({$sdk_debug_replay_linked_flag_trigger_status:e}),e}onRemoteConfig(e,r){var n;if(this.linkedFlag=((n=e.sessionRecording)==null?void 0:n.linkedFlag)||null,!H(this.linkedFlag)&&!this.linkedFlagSeen){var s=le(this.linkedFlag)?this.linkedFlag:this.linkedFlag.flag,i=le(this.linkedFlag)?null:this.linkedFlag.variant;this.Rt=this._instance.onFeatureFlags((o,a)=>{var l=!1;if(ae(a)&&s in a){var c=a[s];l=Je(c)?c===!0:i?c===i:!!c}this.linkedFlagSeen=l,l&&r(s,i)})}}stop(){this.Rt()}}class bf{constructor(e){this.Tt=[],this._instance=e}onRemoteConfig(e){var r;this.Tt=((r=e.sessionRecording)==null?void 0:r.eventTriggers)||[]}Ct(e){var r;return this.Tt.length===0?Qe:((r=this._instance)==null?void 0:r.get_property(ei))===e?Ze:ke}triggerStatus(e){var r=this.Ct(e),n=r===Ze?Ze:r===ke?ke:Qe;return this._instance.register_for_session({$sdk_debug_replay_event_trigger_status:n}),n}stop(){}}function yf(t){return t.isRecordingEnabled?Nt:Et}function wf(t){if(!t.receivedFlags)return Nt;if(!t.isRecordingEnabled)return Et;if(t.urlTriggerMatching.urlBlocked)return Di;var e=t.isSampled===!0,r=new fc([t.eventTriggerMatching,t.urlTriggerMatching,t.linkedFlagMatching]).triggerStatus(t.sessionId);return e?Ui:r===Ze?Cn:r===ke?Nt:t.isSampled===!1?Et:Cn}function kf(t){if(!t.receivedFlags)return Nt;if(!t.isRecordingEnabled)return Et;if(t.urlTriggerMatching.urlBlocked)return Di;var e=new gc([t.eventTriggerMatching,t.urlTriggerMatching,t.linkedFlagMatching]).triggerStatus(t.sessionId),r=e!==Qe,n=Je(t.isSampled);return r&&e===ke?Nt:r&&e===Qe||n&&!t.isSampled?Et:t.isSampled===!0?Ui:Cn}var br="[SessionRecording]",be=ve(br);function rn(){var t;return $==null||(t=$.__PosthogExtensions__)==null||(t=t.rrweb)==null?void 0:t.record}var Sf=3e5,xf=[Ve.MouseMove,Ve.MouseInteraction,Ve.Scroll,Ve.ViewportResize,Ve.Input,Ve.TouchMove,Ve.MediaInteraction,Ve.Drag],ua=t=>({rrwebMethod:t,enqueuedAt:Date.now(),attempt:1});function Ot(t){return function(e,r){for(var n="",s=0;s<e.length;){var i=e[s++];n+=String.fromCharCode(i)}return n}(hc(pc(JSON.stringify(t))))}function da(t){return t.type===at.Custom&&t.data.tag==="sessionIdle"}class ha{get sessionId(){return this.Mt}get Ft(){return this._instance.config.session_recording.session_idle_threshold_ms||3e5}get started(){return this.Ot}get At(){if(!this._instance.sessionManager)throw new Error(br+" must be started with a valid sessionManager.");return this._instance.sessionManager}get Dt(){var e,r;return this.jt.triggerStatus(this.sessionId)===ke?6e4:(e=(r=this._instance.config.session_recording)==null?void 0:r.full_snapshot_interval_millis)!==null&&e!==void 0?e:Sf}get Lt(){var e=this._instance.get_property(vr);return Je(e)?e:null}get Nt(){var e,r,n=(e=this.M)==null?void 0:e.data[((r=this.M)==null?void 0:r.data.length)-1],{sessionStartTimestamp:s}=this.At.checkAndGetSessionAndWindowId(!0);return n?n.timestamp-s:null}get zt(){var e=!!this._instance.get_property(Zs),r=!this._instance.config.disable_session_recording;return b&&e&&r}get Ut(){var e=!!this._instance.get_property(Uo),r=this._instance.config.enable_recording_console_log;return r??e}get qt(){var e,r,n,s,i,o,a=this._instance.config.session_recording.captureCanvas,l=this._instance.get_property(Wo),c=(e=(r=a==null?void 0:a.recordCanvas)!==null&&r!==void 0?r:l==null?void 0:l.enabled)!==null&&e!==void 0&&e,u=(n=(s=a==null?void 0:a.canvasFps)!==null&&s!==void 0?s:l==null?void 0:l.fps)!==null&&n!==void 0?n:4,h=(i=(o=a==null?void 0:a.canvasQuality)!==null&&o!==void 0?o:l==null?void 0:l.quality)!==null&&i!==void 0?i:.4;if(typeof h=="string"){var d=parseFloat(h);h=isNaN(d)?.4:d}return{enabled:c,fps:Le(u,0,12,"canvas recording fps",4),quality:Le(h,0,1,"canvas recording quality",.4)}}get Bt(){var e,r,n=this._instance.get_property(Do),s={recordHeaders:(e=this._instance.config.session_recording)==null?void 0:e.recordHeaders,recordBody:(r=this._instance.config.session_recording)==null?void 0:r.recordBody},i=(s==null?void 0:s.recordHeaders)||(n==null?void 0:n.recordHeaders),o=(s==null?void 0:s.recordBody)||(n==null?void 0:n.recordBody),a=ae(this._instance.config.capture_performance)?this._instance.config.capture_performance.network_timing:this._instance.config.capture_performance,l=!!(Je(a)?a:n!=null&&n.capturePerformance);return i||o||l?{recordHeaders:i,recordBody:o,recordPerformance:l}:void 0}get Ht(){var e,r,n,s,i,o,a=this._instance.get_property(zo),l={maskAllInputs:(e=this._instance.config.session_recording)==null?void 0:e.maskAllInputs,maskTextSelector:(r=this._instance.config.session_recording)==null?void 0:r.maskTextSelector,blockSelector:(n=this._instance.config.session_recording)==null?void 0:n.blockSelector},c=(s=l==null?void 0:l.maskAllInputs)!==null&&s!==void 0?s:a==null?void 0:a.maskAllInputs,u=(i=l==null?void 0:l.maskTextSelector)!==null&&i!==void 0?i:a==null?void 0:a.maskTextSelector,h=(o=l==null?void 0:l.blockSelector)!==null&&o!==void 0?o:a==null?void 0:a.blockSelector;return P(c)&&P(u)&&P(h)?void 0:{maskAllInputs:c==null||c,maskTextSelector:u,blockSelector:h}}get Wt(){var e=this._instance.get_property(Bo);return we(e)?e:null}get Gt(){var e=this._instance.get_property(qo);return we(e)?e:null}get status(){return this.Jt?this.Vt({receivedFlags:this.Jt,isRecordingEnabled:this.zt,isSampled:this.Lt,urlTriggerMatching:this.Kt,eventTriggerMatching:this.Yt,linkedFlagMatching:this.Xt,sessionId:this.sessionId}):Nt}constructor(e){if(this.Vt=yf,this.Jt=!1,this.Qt=[],this.Zt="unknown",this.ti=Date.now(),this.jt=new vf,this.ii=void 0,this.ei=void 0,this.ri=void 0,this.si=void 0,this.ni=void 0,this._forceAllowLocalhostNetworkCapture=!1,this.oi=()=>{this.ai()},this.li=()=>{this.ui("browser offline",{})},this.hi=()=>{this.ui("browser online",{})},this.di=()=>{if(R!=null&&R.visibilityState){var s="window "+R.visibilityState;this.ui(s,{})}},this._instance=e,this.Ot=!1,this.vi="/s/",this.ci=void 0,this.Jt=!1,!this._instance.sessionManager)throw be.error("started without valid sessionManager"),new Error(br+" started without valid sessionManager. This is a bug.");if(this._instance.config.cookieless_mode==="always")throw new Error(br+' cannot be used with cookieless_mode="always"');this.Xt=new _f(this._instance),this.Kt=new mf(this._instance),this.Yt=new bf(this._instance);var{sessionId:r,windowId:n}=this.At.checkAndGetSessionAndWindowId();this.Mt=r,this.fi=n,this.M=this.pi(),this.Ft>=this.At.sessionTimeoutMs&&be.warn("session_idle_threshold_ms ("+this.Ft+") is greater than the session timeout ("+this.At.sessionTimeoutMs+"). Session will never be detected as idle")}startIfEnabledOrStop(e){this.zt?(this.gi(e),oe(b,"beforeunload",this.oi),oe(b,"offline",this.li),oe(b,"online",this.hi),oe(b,"visibilitychange",this.di),this.mi(),this.bi(),H(this.ii)&&(this.ii=this._instance.on("eventCaptured",r=>{try{if(r.event==="$pageview"){var n=r!=null&&r.properties.$current_url?this.yi(r==null?void 0:r.properties.$current_url):"";if(!n)return;this.ui("$pageview",{href:n})}}catch(s){be.error("Could not add $pageview to rrweb session",s)}})),this.ei||(this.ei=this.At.onSessionId((r,n,s)=>{var i,o;s&&(this.ui("$session_id_change",{sessionId:r,windowId:n,changeReason:s}),(i=this._instance)==null||(i=i.persistence)==null||i.unregister(ei),(o=this._instance)==null||(o=o.persistence)==null||o.unregister(Qs))}))):this.stopRecording()}stopRecording(){var e,r,n,s;this.Ot&&this.ci&&(this.ci(),this.ci=void 0,this.Ot=!1,b==null||b.removeEventListener("beforeunload",this.oi),b==null||b.removeEventListener("offline",this.li),b==null||b.removeEventListener("online",this.hi),b==null||b.removeEventListener("visibilitychange",this.di),this.pi(),clearInterval(this.wi),(e=this.ii)==null||e.call(this),this.ii=void 0,(r=this.ni)==null||r.call(this),this.ni=void 0,(n=this.ei)==null||n.call(this),this.ei=void 0,(s=this.si)==null||s.call(this),this.si=void 0,this.Yt.stop(),this.Kt.stop(),this.Xt.stop(),be.info("stopped"))}Si(){var e;(e=this._instance.persistence)==null||e.unregister(vr)}$i(e){var r,n=this.Mt!==e,s=this.Wt;if(we(s)){var i=this.Lt,o=n||!Je(i),a=o?gf(e,s):i;o&&(a?this.xi(Ui):be.warn("Sample rate ("+s+") has determined that this sessionId ("+e+") will not be sent to the server."),this.ui("samplingDecisionMade",{sampleRate:s,isSampled:a})),(r=this._instance.persistence)==null||r.register({[vr]:a})}else this.Si()}onRemoteConfig(e){var r,n,s,i;this.ui("$remote_config_received",e),this.ki(e),(r=e.sessionRecording)!=null&&r.endpoint&&(this.vi=(i=e.sessionRecording)==null?void 0:i.endpoint),this.mi(),((n=e.sessionRecording)==null?void 0:n.triggerMatchType)==="any"?(this.Vt=wf,this.jt=new fc([this.Yt,this.Kt])):(this.Vt=kf,this.jt=new gc([this.Yt,this.Kt])),this._instance.register_for_session({$sdk_debug_replay_remote_trigger_matching_config:(s=e.sessionRecording)==null?void 0:s.triggerMatchType}),this.Kt.onRemoteConfig(e),this.Yt.onRemoteConfig(e),this.Xt.onRemoteConfig(e,(o,a)=>{this.xi("linked_flag_matched",{flag:o,variant:a})}),this.Jt=!0,this.startIfEnabledOrStop()}mi(){we(this.Wt)&&H(this.si)&&(this.si=this.At.onSessionId(e=>{this.$i(e)}))}ki(e){if(this._instance.persistence){var r,n=this._instance.persistence,s=()=>{var i,o,a,l,c,u,h,d,p,g=(i=e.sessionRecording)==null?void 0:i.sampleRate,f=H(g)?null:parseFloat(g);H(f)&&this.Si();var v=(o=e.sessionRecording)==null?void 0:o.minimumDurationMilliseconds;n.register({[Zs]:!!e.sessionRecording,[Uo]:(a=e.sessionRecording)==null?void 0:a.consoleLogRecordingEnabled,[Do]:I({capturePerformance:e.capturePerformance},(l=e.sessionRecording)==null?void 0:l.networkPayloadCapture),[zo]:(c=e.sessionRecording)==null?void 0:c.masking,[Wo]:{enabled:(u=e.sessionRecording)==null?void 0:u.recordCanvas,fps:(h=e.sessionRecording)==null?void 0:h.canvasFps,quality:(d=e.sessionRecording)==null?void 0:d.canvasQuality},[Bo]:f,[qo]:P(v)?null:v,[Ho]:(p=e.sessionRecording)==null?void 0:p.scriptConfig})};s(),(r=this.ri)==null||r.call(this),this.ri=this.At.onSessionId(s)}}log(e,r){var n;r===void 0&&(r="log"),(n=this._instance.sessionRecording)==null||n.onRRwebEmit({type:6,data:{plugin:"rrweb/console@1",payload:{level:r,trace:[],payload:[JSON.stringify(e)]}},timestamp:Date.now()})}gi(e){if(!P(Object.assign)&&!P(Array.from)&&!(this.Ot||this._instance.config.disable_session_recording||this._instance.consent.isOptedOut())){var r;this.Ot=!0,this.At.checkAndGetSessionAndWindowId(),rn()?this.Ei():(r=$.__PosthogExtensions__)==null||r.loadExternalDependency==null||r.loadExternalDependency(this._instance,this.Ii,n=>{if(n)return be.error("could not load recorder",n);this.Ei()}),be.info("starting"),this.status===Cn&&this.xi(e||"recording_initialized")}}get Ii(){var e;return((e=this._instance)==null||(e=e.persistence)==null||(e=e.get_property(Ho))==null?void 0:e.script)||"recorder"}Pi(e){var r;return e.type===3&&xf.indexOf((r=e.data)==null?void 0:r.source)!==-1}Ri(e){var r=this.Pi(e);r||this.Zt||e.timestamp-this.ti>this.Ft&&(this.Zt=!0,clearInterval(this.wi),this.ui("sessionIdle",{eventTimestamp:e.timestamp,lastActivityTimestamp:this.ti,threshold:this.Ft,bufferLength:this.M.data.length,bufferSize:this.M.size}),this.ai());var n=!1;if(r&&(this.ti=e.timestamp,this.Zt)){var s=this.Zt==="unknown";this.Zt=!1,s||(this.ui("sessionNoLongerIdle",{reason:"user activity",type:e.type}),n=!0)}if(!this.Zt){var{windowId:i,sessionId:o}=this.At.checkAndGetSessionAndWindowId(!r,e.timestamp),a=this.Mt!==o,l=this.fi!==i;this.fi=i,this.Mt=o,a||l?(this.stopRecording(),this.startIfEnabledOrStop("session_id_changed")):n&&this.Ti()}}Ci(e){try{return e.rrwebMethod(),!0}catch(r){return this.Qt.length<10?this.Qt.push({enqueuedAt:e.enqueuedAt||Date.now(),attempt:e.attempt++,rrwebMethod:e.rrwebMethod}):be.warn("could not emit queued rrweb event.",r,e),!1}}ui(e,r){return this.Ci(ua(()=>rn().addCustomEvent(e,r)))}Mi(){return this.Ci(ua(()=>rn().takeFullSnapshot()))}Ei(){var e,r,n,s,i={blockClass:"ph-no-capture",blockSelector:void 0,ignoreClass:"ph-ignore-input",maskTextClass:"ph-mask",maskTextSelector:void 0,maskTextFn:void 0,maskAllInputs:!0,maskInputOptions:{password:!0},maskInputFn:void 0,slimDOMOptions:{},collectFonts:!1,inlineStylesheet:!0,recordCrossOriginIframes:!1},o=this._instance.config.session_recording;for(var[a,l]of Object.entries(o||{}))a in i&&(a==="maskInputOptions"?i.maskInputOptions=I({password:!0},l):i[a]=l);this.qt&&this.qt.enabled&&(i.recordCanvas=!0,i.sampling={canvas:this.qt.fps},i.dataURLOptions={type:"image/webp",quality:this.qt.quality}),this.Ht&&(i.maskAllInputs=(r=this.Ht.maskAllInputs)===null||r===void 0||r,i.maskTextSelector=(n=this.Ht.maskTextSelector)!==null&&n!==void 0?n:void 0,i.blockSelector=(s=this.Ht.blockSelector)!==null&&s!==void 0?s:void 0);var c=rn();if(c){this.Fi=(e=this.Fi)!==null&&e!==void 0?e:new sf(c,{refillRate:this._instance.config.session_recording.__mutationThrottlerRefillRate,bucketSize:this._instance.config.session_recording.__mutationThrottlerBucketSize,onBlockedNode:(h,d)=>{var p="Too many mutations on node '"+h+"'. Rate limiting. This could be due to SVG animations or something similar";be.info(p,{node:d}),this.log(br+" "+p,"warn")}});var u=this.Oi();this.ci=c(I({emit:h=>{this.onRRwebEmit(h)},plugins:u},i)),this.ti=Date.now(),this.Zt=Je(this.Zt)?this.Zt:"unknown",this.ui("$session_options",{sessionRecordingOptions:i,activePlugins:u.map(h=>h==null?void 0:h.name)}),this.ui("$posthog_config",{config:this._instance.config})}else be.error("onScriptLoaded was called but rrwebRecord is not available. This indicates something has gone wrong.")}Ti(){if(this.wi&&clearInterval(this.wi),this.Zt!==!0){var e=this.Dt;e&&(this.wi=setInterval(()=>{this.Mi()},e))}}Oi(){var e,r,n=[],s=(e=$.__PosthogExtensions__)==null||(e=e.rrwebPlugins)==null?void 0:e.getRecordConsolePlugin;s&&this.Ut&&n.push(s());var i=(r=$.__PosthogExtensions__)==null||(r=r.rrwebPlugins)==null?void 0:r.getRecordNetworkPlugin;return this.Bt&&Be(i)&&(!Sp.includes(location.hostname)||this._forceAllowLocalhostNetworkCapture?n.push(i(nf(this._instance.config,this.Bt))):be.info("NetworkCapture not started because we are on localhost.")),n}onRRwebEmit(e){var r;if(this.Ai(),e&&ae(e)){if(e.type===at.Meta){var n=this.yi(e.data.href);if(this.Di=n,!n)return;e.data.href=n}else this.ji();if(this.Kt.checkUrlTriggerConditions(()=>this.Li(),()=>this.Ni(),d=>this.zi(d)),!this.Kt.urlBlocked||(s=e).type===at.Custom&&s.data.tag==="recording paused"){var s;e.type===at.FullSnapshot&&this.Ti(),e.type===at.FullSnapshot&&this.Jt&&this.jt.triggerStatus(this.sessionId)===ke&&this.pi();var i=this.Fi?this.Fi.throttleMutations(e):e;if(i){var o=function(d){var p=d;if(p&&ae(p)&&p.type===6&&ae(p.data)&&p.data.plugin==="rrweb/console@1"){p.data.payload.payload.length>10&&(p.data.payload.payload=p.data.payload.payload.slice(0,10),p.data.payload.payload.push("...[truncated]"));for(var g=[],f=0;f<p.data.payload.payload.length;f++)p.data.payload.payload[f]&&p.data.payload.payload[f].length>2e3?g.push(p.data.payload.payload[f].slice(0,2e3)+"...[truncated]"):g.push(p.data.payload.payload[f]);return p.data.payload.payload=g,d}return d}(i);if(this.Ri(o),this.Zt!==!0||da(o)){if(da(o)){var a=o.data.payload;if(a){var l=a.lastActivityTimestamp,c=a.threshold;o.timestamp=l+c}}var u=(r=this._instance.config.session_recording.compress_events)===null||r===void 0||r?function(d){if(xn(d)<1024)return d;try{if(d.type===at.FullSnapshot)return I({},d,{data:Ot(d.data),cv:"2024-10"});if(d.type===at.IncrementalSnapshot&&d.data.source===Ve.Mutation)return I({},d,{cv:"2024-10",data:I({},d.data,{texts:Ot(d.data.texts),attributes:Ot(d.data.attributes),removes:Ot(d.data.removes),adds:Ot(d.data.adds)})});if(d.type===at.IncrementalSnapshot&&d.data.source===Ve.StyleSheetRule)return I({},d,{cv:"2024-10",data:I({},d.data,{adds:d.data.adds?Ot(d.data.adds):void 0,removes:d.data.removes?Ot(d.data.removes):void 0})})}catch(p){be.error("could not compress event - will use uncompressed event",p)}return d}(o):o,h={$snapshot_bytes:xn(u),$snapshot_data:u,$session_id:this.Mt,$window_id:this.fi};this.status!==Et?this.Ui(h):this.pi()}}}}}ji(){if(!this._instance.config.capture_pageview&&b){var e=this.yi(b.location.href);this.Di!==e&&(this.ui("$url_changed",{href:e}),this.Di=e)}}Ai(){if(this.Qt.length){var e=[...this.Qt];this.Qt=[],e.forEach(r=>{Date.now()-r.enqueuedAt<=2e3&&this.Ci(r)})}}yi(e){var r=this._instance.config.session_recording;if(r.maskNetworkRequestFn){var n,s={url:e};return(n=s=r.maskNetworkRequestFn(s))==null?void 0:n.url}return e}pi(){return this.M={size:0,data:[],sessionId:this.Mt,windowId:this.fi},this.M}ai(){this.qi&&(clearTimeout(this.qi),this.qi=void 0);var e=this.Gt,r=this.Nt,n=we(r)&&r>=0,s=we(e)&&n&&r<e;return this.status===Nt||this.status===Di||this.status===Et||s?(this.qi=setTimeout(()=>{this.ai()},2e3),this.M):(this.M.data.length>0&&ci(this.M).forEach(i=>{this.Bi({$snapshot_bytes:i.size,$snapshot_data:i.data,$session_id:i.sessionId,$window_id:i.windowId,$lib:"web",$lib_version:lt.LIB_VERSION})}),this.pi())}Ui(e){var r,n=2+(((r=this.M)==null?void 0:r.data.length)||0);!this.Zt&&(this.M.size+e.$snapshot_bytes+n>943718.4||this.M.sessionId!==this.Mt)&&(this.M=this.ai()),this.M.size+=e.$snapshot_bytes,this.M.data.push(e.$snapshot_data),this.qi||this.Zt||(this.qi=setTimeout(()=>{this.ai()},2e3))}Bi(e){this._instance.capture("$snapshot",e,{_url:this._instance.requestRouter.endpointFor("api",this.vi),_noTruncate:!0,_batchKey:"recordings",skip_client_rate_limiting:!0})}zi(e){var r;this.jt.triggerStatus(this.sessionId)===ke&&((r=this._instance)==null||(r=r.persistence)==null||r.register({[e==="url"?Qs:ei]:this.Mt}),this.ai(),this.xi(e+"_trigger_matched"))}Li(){this.Kt.urlBlocked||(this.Kt.urlBlocked=!0,clearInterval(this.wi),be.info("recording paused due to URL blocker"),this.ui("recording paused",{reason:"url blocker"}))}Ni(){this.Kt.urlBlocked&&(this.Kt.urlBlocked=!1,this.Mi(),this.Ti(),this.ui("recording resumed",{reason:"left blocked url"}),be.info("recording resumed"))}bi(){this.Yt.Tt.length!==0&&H(this.ni)&&(this.ni=this._instance.on("eventCaptured",e=>{try{this.Yt.Tt.includes(e.event)&&this.zi("event")}catch(r){be.error("Could not activate event trigger",r)}}))}overrideLinkedFlag(){this.Xt.linkedFlagSeen=!0,this.Mi(),this.xi("linked_flag_overridden")}overrideSampling(){var e;(e=this._instance.persistence)==null||e.register({[vr]:!0}),this.Mi(),this.xi("sampling_overridden")}overrideTrigger(e){this.zi(e)}xi(e,r){this._instance.register_for_session({$session_recording_start_reason:e}),be.info(e.replace("_"," "),r),W(["recording_initialized","session_id_changed"],e)||this.ui(e,r)}get sdkDebugProperties(){var{sessionStartTimestamp:e}=this.At.checkAndGetSessionAndWindowId(!0);return{$recording_status:this.status,$sdk_debug_replay_internal_buffer_length:this.M.data.length,$sdk_debug_replay_internal_buffer_size:this.M.size,$sdk_debug_current_session_duration:this.Nt,$sdk_debug_session_start:e}}}var ws=ve("[SegmentIntegration]");function Ef(t,e){var r=t.config.segment;if(!r)return e();(function(n,s){var i=n.config.segment;if(!i)return s();var o=l=>{var c=()=>l.anonymousId()||kt();n.config.get_device_id=c,l.id()&&(n.register({distinct_id:l.id(),$device_id:c()}),n.persistence.set_property(ot,"identified")),s()},a=i.user();"then"in a&&Be(a.then)?a.then(l=>o(l)):o(a)})(t,()=>{r.register((n=>{Promise&&Promise.resolve||ws.warn("This browser does not have Promise support, and can not use the segment integration");var s=(i,o)=>{if(!o)return i;i.event.userId||i.event.anonymousId===n.get_distinct_id()||(ws.info("No userId set, resetting PostHog"),n.reset()),i.event.userId&&i.event.userId!==n.get_distinct_id()&&(ws.info("UserId set, identifying with PostHog"),n.identify(i.event.userId));var a=n.calculateEventProperties(o,i.event.properties);return i.event.properties=Object.assign({},a,i.event.properties),i};return{name:"PostHog JS",type:"enrichment",version:"1.0.0",isLoaded:()=>!0,load:()=>Promise.resolve(),track:i=>s(i,i.event.event),page:i=>s(i,"$pageview"),identify:i=>s(i,"$identify"),screen:i=>s(i,"$screen")}})(t)).then(()=>{e()})})}var vc="posthog-js";function mc(t,e){var{organization:r,projectId:n,prefix:s,severityAllowList:i=["error"]}=e===void 0?{}:e;return o=>{var a,l,c,u,h;if(!(i==="*"||i.includes(o.level))||!t.__loaded)return o;o.tags||(o.tags={});var d=t.requestRouter.endpointFor("ui","/project/"+t.config.token+"/person/"+t.get_distinct_id());o.tags["PostHog Person URL"]=d,t.sessionRecordingStarted()&&(o.tags["PostHog Recording URL"]=t.get_session_replay_url({withTimestamp:!0}));var p=((a=o.exception)==null?void 0:a.values)||[],g=p.map(v=>I({},v,{stacktrace:v.stacktrace?I({},v.stacktrace,{type:"raw",frames:(v.stacktrace.frames||[]).map(m=>I({},m,{platform:"web:javascript"}))}):void 0})),f={$exception_message:((l=p[0])==null?void 0:l.value)||o.message,$exception_type:(c=p[0])==null?void 0:c.type,$exception_personURL:d,$exception_level:o.level,$exception_list:g,$sentry_event_id:o.event_id,$sentry_exception:o.exception,$sentry_exception_message:((u=p[0])==null?void 0:u.value)||o.message,$sentry_exception_type:(h=p[0])==null?void 0:h.type,$sentry_tags:o.tags};return r&&n&&(f.$sentry_url=(s||"https://sentry.io/organizations/")+r+"/issues/?project="+n+"&query="+o.event_id),t.exceptions.sendExceptionEvent(f),o}}class Cf{constructor(e,r,n,s,i){this.name=vc,this.setupOnce=function(o){o(mc(e,{organization:r,projectId:n,prefix:s,severityAllowList:i}))}}}var Pf=b!=null&&b.location?kn(b.location.hash,"__posthog")||kn(location.hash,"state"):null,pa="_postHogToolbarParams",fa=ve("[Toolbar]"),_t=function(t){return t[t.UNINITIALIZED=0]="UNINITIALIZED",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED",t}(_t||{});class If{constructor(e){this.instance=e}Hi(e){$.ph_toolbar_state=e}Wi(){var e;return(e=$.ph_toolbar_state)!==null&&e!==void 0?e:_t.UNINITIALIZED}maybeLoadToolbar(e,r,n){if(e===void 0&&(e=void 0),r===void 0&&(r=void 0),n===void 0&&(n=void 0),!b||!R)return!1;e=e??b.location,n=n??b.history;try{if(!r){try{b.localStorage.setItem("test","test"),b.localStorage.removeItem("test")}catch{return!1}r=b==null?void 0:b.localStorage}var s,i=Pf||kn(e.hash,"__posthog")||kn(e.hash,"state"),o=i?Ao(()=>JSON.parse(atob(decodeURIComponent(i))))||Ao(()=>JSON.parse(decodeURIComponent(i))):null;return o&&o.action==="ph_authorize"?((s=o).source="url",s&&Object.keys(s).length>0&&(o.desiredHash?e.hash=o.desiredHash:n?n.replaceState(n.state,"",e.pathname+e.search):e.hash="")):((s=JSON.parse(r.getItem(pa)||"{}")).source="localstorage",delete s.userIntent),!(!s.token||this.instance.config.token!==s.token)&&(this.loadToolbar(s),!0)}catch{return!1}}Gi(e){var r=$.ph_load_toolbar||$.ph_load_editor;!H(r)&&Be(r)?r(e,this.instance):fa.warn("No toolbar load function found")}loadToolbar(e){var r=!(R==null||!R.getElementById(Wl));if(!b||r)return!1;var n=this.instance.requestRouter.region==="custom"&&this.instance.config.advanced_disable_toolbar_metrics,s=I({token:this.instance.config.token},e,{apiURL:this.instance.requestRouter.endpointFor("ui")},n?{instrument:!1}:{});if(b.localStorage.setItem(pa,JSON.stringify(I({},s,{source:void 0}))),this.Wi()===_t.LOADED)this.Gi(s);else if(this.Wi()===_t.UNINITIALIZED){var i;this.Hi(_t.LOADING),(i=$.__PosthogExtensions__)==null||i.loadExternalDependency==null||i.loadExternalDependency(this.instance,"toolbar",o=>{if(o)return fa.error("[Toolbar] Failed to load",o),void this.Hi(_t.UNINITIALIZED);this.Hi(_t.LOADED),this.Gi(s)}),oe(b,"turbolinks:load",()=>{this.Hi(_t.UNINITIALIZED),this.loadToolbar(s)})}return!0}Ji(e){return this.loadToolbar(e)}maybeLoadEditor(e,r,n){return e===void 0&&(e=void 0),r===void 0&&(r=void 0),n===void 0&&(n=void 0),this.maybeLoadToolbar(e,r,n)}}var Rf=ve("[TracingHeaders]");class Of{constructor(e){this.Vi=void 0,this.Ki=void 0,this.nt=()=>{var r,n;P(this.Vi)&&((r=$.__PosthogExtensions__)==null||(r=r.tracingHeadersPatchFns)==null||r._patchXHR(this._instance.config.__add_tracing_headers||[],this._instance.get_distinct_id(),this._instance.sessionManager)),P(this.Ki)&&((n=$.__PosthogExtensions__)==null||(n=n.tracingHeadersPatchFns)==null||n._patchFetch(this._instance.config.__add_tracing_headers||[],this._instance.get_distinct_id(),this._instance.sessionManager))},this._instance=e}J(e){var r,n;(r=$.__PosthogExtensions__)!=null&&r.tracingHeadersPatchFns&&e(),(n=$.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this._instance,"tracing-headers",s=>{if(s)return Rf.error("failed to load script",s);e()})}startIfEnabledOrStop(){var e,r;this._instance.config.__add_tracing_headers?this.J(this.nt):((e=this.Vi)==null||e.call(this),(r=this.Ki)==null||r.call(this),this.Vi=void 0,this.Ki=void 0)}}var pt=ve("[Web Vitals]"),ga=9e5;class Tf{constructor(e){var r;this.Yi=!1,this.i=!1,this.M={url:void 0,metrics:[],firstMetricTimestamp:void 0},this.Xi=()=>{clearTimeout(this.Qi),this.M.metrics.length!==0&&(this._instance.capture("$web_vitals",this.M.metrics.reduce((n,s)=>I({},n,{["$web_vitals_"+s.name+"_event"]:I({},s),["$web_vitals_"+s.name+"_value"]:s.value}),{})),this.M={url:void 0,metrics:[],firstMetricTimestamp:void 0})},this.Zi=n=>{var s,i=(s=this._instance.sessionManager)==null?void 0:s.checkAndGetSessionAndWindowId(!0);if(P(i))pt.error("Could not read session ID. Dropping metrics!");else{this.M=this.M||{url:void 0,metrics:[],firstMetricTimestamp:void 0};var o=this.te();P(o)||(H(n==null?void 0:n.name)||H(n==null?void 0:n.value)?pt.error("Invalid metric received",n):this.ie&&n.value>=this.ie?pt.error("Ignoring metric with value >= "+this.ie,n):(this.M.url!==o&&(this.Xi(),this.Qi=setTimeout(this.Xi,this.flushToCaptureTimeoutMs)),P(this.M.url)&&(this.M.url=o),this.M.firstMetricTimestamp=P(this.M.firstMetricTimestamp)?Date.now():this.M.firstMetricTimestamp,n.attribution&&n.attribution.interactionTargetElement&&(n.attribution.interactionTargetElement=void 0),this.M.metrics.push(I({},n,{$current_url:o,$session_id:i.sessionId,$window_id:i.windowId,timestamp:Date.now()})),this.M.metrics.length===this.allowedMetrics.length&&this.Xi()))}},this.nt=()=>{var n,s,i,o,a=$.__PosthogExtensions__;P(a)||P(a.postHogWebVitalsCallbacks)||({onLCP:n,onCLS:s,onFCP:i,onINP:o}=a.postHogWebVitalsCallbacks),n&&s&&i&&o?(this.allowedMetrics.indexOf("LCP")>-1&&n(this.Zi.bind(this)),this.allowedMetrics.indexOf("CLS")>-1&&s(this.Zi.bind(this)),this.allowedMetrics.indexOf("FCP")>-1&&i(this.Zi.bind(this)),this.allowedMetrics.indexOf("INP")>-1&&o(this.Zi.bind(this)),this.i=!0):pt.error("web vitals callbacks not loaded - not starting")},this._instance=e,this.Yi=!((r=this._instance.persistence)==null||!r.props[$o]),this.startIfEnabled()}get allowedMetrics(){var e,r,n=ae(this._instance.config.capture_performance)?(e=this._instance.config.capture_performance)==null?void 0:e.web_vitals_allowed_metrics:void 0;return P(n)?((r=this._instance.persistence)==null?void 0:r.props[Lo])||["CLS","FCP","INP","LCP"]:n}get flushToCaptureTimeoutMs(){return(ae(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals_delayed_flush_ms:void 0)||5e3}get ie(){var e=ae(this._instance.config.capture_performance)&&we(this._instance.config.capture_performance.__web_vitals_max_value)?this._instance.config.capture_performance.__web_vitals_max_value:ga;return 0<e&&e<=6e4?ga:e}get isEnabled(){var e=Me==null?void 0:Me.protocol;if(e!=="http:"&&e!=="https:")return pt.info("Web Vitals are disabled on non-http/https protocols"),!1;var r=ae(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals:Je(this._instance.config.capture_performance)?this._instance.config.capture_performance:void 0;return Je(r)?r:this.Yi}startIfEnabled(){this.isEnabled&&!this.i&&(pt.info("enabled, starting..."),this.J(this.nt))}onRemoteConfig(e){var r=ae(e.capturePerformance)&&!!e.capturePerformance.web_vitals,n=ae(e.capturePerformance)?e.capturePerformance.web_vitals_allowed_metrics:void 0;this._instance.persistence&&(this._instance.persistence.register({[$o]:r}),this._instance.persistence.register({[Lo]:n})),this.Yi=r,this.startIfEnabled()}J(e){var r,n;(r=$.__PosthogExtensions__)!=null&&r.postHogWebVitalsCallbacks&&e(),(n=$.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this._instance,"web-vitals",s=>{s?pt.error("failed to load script",s):e()})}te(){var e=b?b.location.href:void 0;return e||pt.error("Could not determine current URL"),e}}var Mf=ve("[Heatmaps]");function va(t){return ae(t)&&"clientX"in t&&"clientY"in t&&we(t.clientX)&&we(t.clientY)}class Af{constructor(e){var r;this.rageclicks=new Ql,this.Yi=!1,this.i=!1,this.ee=null,this.instance=e,this.Yi=!((r=this.instance.persistence)==null||!r.props[Ys])}get flushIntervalMilliseconds(){var e=5e3;return ae(this.instance.config.capture_heatmaps)&&this.instance.config.capture_heatmaps.flush_interval_milliseconds&&(e=this.instance.config.capture_heatmaps.flush_interval_milliseconds),e}get isEnabled(){return P(this.instance.config.capture_heatmaps)?P(this.instance.config.enable_heatmaps)?this.Yi:this.instance.config.enable_heatmaps:this.instance.config.capture_heatmaps!==!1}startIfEnabled(){if(this.isEnabled){if(this.i)return;Mf.info("starting..."),this.re(),this.ee=setInterval(this.se.bind(this),this.flushIntervalMilliseconds)}else{var e,r;clearInterval((e=this.ee)!==null&&e!==void 0?e:void 0),(r=this.ne)==null||r.stop(),this.getAndClearBuffer()}}onRemoteConfig(e){var r=!!e.heatmaps;this.instance.persistence&&this.instance.persistence.register({[Ys]:r}),this.Yi=r,this.startIfEnabled()}getAndClearBuffer(){var e=this.M;return this.M=void 0,e}oe(e){this.ae(e.originalEvent,"deadclick")}re(){b&&R&&(oe(b,"beforeunload",this.se.bind(this)),oe(R,"click",e=>this.ae(e||(b==null?void 0:b.event)),{capture:!0}),oe(R,"mousemove",e=>this.le(e||(b==null?void 0:b.event)),{capture:!0}),this.ne=new tc(this.instance,$p,this.oe.bind(this)),this.ne.startIfEnabled(),this.i=!0)}ue(e,r){var n=this.instance.scrollManager.scrollY(),s=this.instance.scrollManager.scrollX(),i=this.instance.scrollManager.scrollElement(),o=function(a,l,c){for(var u=a;u&&Dn(u)&&!xt(u,"body");){if(u===c)return!1;if(W(l,b==null?void 0:b.getComputedStyle(u).position))return!0;u=Gl(u)}return!1}(Vl(e),["fixed","sticky"],i);return{x:e.clientX+(o?0:s),y:e.clientY+(o?0:n),target_fixed:o,type:r}}ae(e,r){var n;if(r===void 0&&(r="click"),!Vo(e.target)&&va(e)){var s=this.ue(e,r);(n=this.rageclicks)!=null&&n.isRageClick(e.clientX,e.clientY,new Date().getTime())&&this.he(I({},s,{type:"rageclick"})),this.he(s)}}le(e){!Vo(e.target)&&va(e)&&(clearTimeout(this.de),this.de=setTimeout(()=>{this.he(this.ue(e,"mousemove"))},500))}he(e){if(b){var r=b.location.href;this.M=this.M||{},this.M[r]||(this.M[r]=[]),this.M[r].push(e)}}se(){this.M&&!Ht(this.M)&&this.instance.capture("$$heatmap",{$heatmap_data:this.getAndClearBuffer()})}}class jf{constructor(e){this._instance=e}doPageView(e,r){var n,s=this.ve(e,r);return this.ce={pathname:(n=b==null?void 0:b.location.pathname)!==null&&n!==void 0?n:"",pageViewId:r,timestamp:e},this._instance.scrollManager.resetContext(),s}doPageLeave(e){var r;return this.ve(e,(r=this.ce)==null?void 0:r.pageViewId)}doEvent(){var e;return{$pageview_id:(e=this.ce)==null?void 0:e.pageViewId}}ve(e,r){var n=this.ce;if(!n)return{$pageview_id:r};var s={$pageview_id:r,$prev_pageview_id:n.pageViewId},i=this._instance.scrollManager.getContext();if(i&&!this._instance.config.disable_scroll_properties){var{maxScrollHeight:o,lastScrollY:a,maxScrollY:l,maxContentHeight:c,lastContentY:u,maxContentY:h}=i;if(!(P(o)||P(a)||P(l)||P(c)||P(u)||P(h))){o=Math.ceil(o),a=Math.ceil(a),l=Math.ceil(l),c=Math.ceil(c),u=Math.ceil(u),h=Math.ceil(h);var d=o<=1?1:Le(a/o,0,1),p=o<=1?1:Le(l/o,0,1),g=c<=1?1:Le(u/c,0,1),f=c<=1?1:Le(h/c,0,1);s=ce(s,{$prev_pageview_last_scroll:a,$prev_pageview_last_scroll_percentage:d,$prev_pageview_max_scroll:l,$prev_pageview_max_scroll_percentage:p,$prev_pageview_last_content:u,$prev_pageview_last_content_percentage:g,$prev_pageview_max_content:h,$prev_pageview_max_content_percentage:f})}}return n.pathname&&(s.$prev_pageview_pathname=n.pathname),n.timestamp&&(s.$prev_pageview_duration=(e.getTime()-n.timestamp.getTime())/1e3),s}}var Ff=function(t){var e,r,n,s,i="";for(e=r=0,n=(t=(t+"").replace(/\r\n/g,`
`).replace(/\r/g,`
`)).length,s=0;s<n;s++){var o=t.charCodeAt(s),a=null;o<128?r++:a=o>127&&o<2048?String.fromCharCode(o>>6|192,63&o|128):String.fromCharCode(o>>12|224,o>>6&63|128,63&o|128),Ct(a)||(r>e&&(i+=t.substring(e,r)),i+=a,e=r=s+1)}return r>e&&(i+=t.substring(e,t.length)),i},Nf=!!Gs||!!Vs,ma="text/plain",Pn=(t,e)=>{var[r,n]=t.split("?"),s=I({},e);n==null||n.split("&").forEach(o=>{var[a]=o.split("=");delete s[a]});var i=xp(s);return r+"?"+(i=i?(n?n+"&":"")+i:n)},yr=(t,e)=>JSON.stringify(t,(r,n)=>typeof n=="bigint"?n.toString():n,e),ks=t=>{var{data:e,compression:r}=t;if(e){if(r===ct.GZipJS){var n=hc(pc(yr(e)),{mtime:0}),s=new Blob([n],{type:ma});return{contentType:ma,body:s,estimatedSize:s.size}}if(r===ct.Base64){var i=function(l){var c,u,h,d,p,g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",f=0,v=0,m="",y=[];if(!l)return l;l=Ff(l);do c=(p=l.charCodeAt(f++)<<16|l.charCodeAt(f++)<<8|l.charCodeAt(f++))>>18&63,u=p>>12&63,h=p>>6&63,d=63&p,y[v++]=g.charAt(c)+g.charAt(u)+g.charAt(h)+g.charAt(d);while(f<l.length);switch(m=y.join(""),l.length%3){case 1:m=m.slice(0,-2)+"==";break;case 2:m=m.slice(0,-1)+"="}return m}(yr(e)),o=(l=>"data="+encodeURIComponent(typeof l=="string"?l:yr(l)))(i);return{contentType:"application/x-www-form-urlencoded",body:o,estimatedSize:new Blob([o]).size}}var a=yr(e);return{contentType:"application/json",body:a,estimatedSize:new Blob([a]).size}}},Pr=[];Vs&&Pr.push({transport:"fetch",method:t=>{var e,r,{contentType:n,body:s,estimatedSize:i}=(e=ks(t))!==null&&e!==void 0?e:{},o=new Headers;Y(t.headers,function(u,h){o.append(h,u)}),n&&o.append("Content-Type",n);var a=t.url,l=null;if(To){var c=new To;l={signal:c.signal,timeout:setTimeout(()=>c.abort(),t.timeout)}}Vs(a,I({method:(t==null?void 0:t.method)||"GET",headers:o,keepalive:t.method==="POST"&&(i||0)<52428.8,body:s,signal:(r=l)==null?void 0:r.signal},t.fetchOptions)).then(u=>u.text().then(h=>{var d={statusCode:u.status,text:h};if(u.status===200)try{d.json=JSON.parse(h)}catch(p){O.error(p)}t.callback==null||t.callback(d)})).catch(u=>{O.error(u),t.callback==null||t.callback({statusCode:0,text:u})}).finally(()=>l?clearTimeout(l.timeout):null)}}),Gs&&Pr.push({transport:"XHR",method:t=>{var e,r=new Gs;r.open(t.method||"GET",t.url,!0);var{contentType:n,body:s}=(e=ks(t))!==null&&e!==void 0?e:{};Y(t.headers,function(i,o){r.setRequestHeader(o,i)}),n&&r.setRequestHeader("Content-Type",n),t.timeout&&(r.timeout=t.timeout),r.withCredentials=!0,r.onreadystatechange=()=>{if(r.readyState===4){var i={statusCode:r.status,text:r.responseText};if(r.status===200)try{i.json=JSON.parse(r.responseText)}catch{}t.callback==null||t.callback(i)}},r.send(s)}}),$e!=null&&$e.sendBeacon&&Pr.push({transport:"sendBeacon",method:t=>{var e=Pn(t.url,{beacon:"1"});try{var r,{contentType:n,body:s}=(r=ks(t))!==null&&r!==void 0?r:{},i=typeof s=="string"?new Blob([s],{type:n}):s;$e.sendBeacon(e,i)}catch{}}});var rr=function(t,e){if(!function(r){try{new RegExp(r)}catch{return!1}return!0}(e))return!1;try{return new RegExp(e).test(t)}catch{return!1}};function _a(t,e,r){return yr({distinct_id:t,userPropertiesToSet:e,userPropertiesToSetOnce:r})}var $f={exact:(t,e)=>e.some(r=>t.some(n=>r===n)),is_not:(t,e)=>e.every(r=>t.every(n=>r!==n)),regex:(t,e)=>e.some(r=>t.some(n=>rr(r,n))),not_regex:(t,e)=>e.every(r=>t.every(n=>!rr(r,n))),icontains:(t,e)=>e.map(nn).some(r=>t.map(nn).some(n=>r.includes(n))),not_icontains:(t,e)=>e.map(nn).every(r=>t.map(nn).every(n=>!r.includes(n)))},nn=t=>t.toLowerCase(),ba=ve("[Error tracking]");class Lf{constructor(e){var r,n;this.fe=[],this._instance=e,this.fe=(r=(n=this._instance.persistence)==null?void 0:n.get_property(Xs))!==null&&r!==void 0?r:[]}onRemoteConfig(e){var r,n,s,i=(r=(n=e.errorTracking)==null?void 0:n.suppressionRules)!==null&&r!==void 0?r:[],o=(s=e.errorTracking)==null?void 0:s.captureExtensionExceptions;this.fe=i,this._instance.persistence&&this._instance.persistence.register({[Xs]:this.fe,[No]:o})}get pe(){var e,r=!!this._instance.get_property(No),n=this._instance.config.error_tracking.captureExtensionExceptions;return(e=n??r)!==null&&e!==void 0&&e}sendExceptionEvent(e){if(this._e(e))ba.info("Skipping exception capture because a suppression rule matched");else{if(this.pe||!this.ge(e))return this._instance.capture("$exception",e,{_noTruncate:!0,_batchKey:"exceptionEvent"});ba.info("Skipping exception capture because it was thrown by an extension")}}_e(e){var r=e.$exception_list;if(!r||!Q(r)||r.length===0)return!1;var n=r.reduce((s,i)=>{var{type:o,value:a}=i;return le(o)&&o.length>0&&s.$exception_types.push(o),le(a)&&a.length>0&&s.$exception_values.push(a),s},{$exception_types:[],$exception_values:[]});return this.fe.some(s=>{var i=s.values.map(o=>{var a,l=$f[o.operator],c=Q(o.value)?o.value:[o.value],u=(a=n[o.key])!==null&&a!==void 0?a:[];return c.length>0&&l(c,u)});return s.type==="OR"?i.some(Boolean):i.every(Boolean)})}ge(e){var r=e.$exception_list;return!(!r||!Q(r))&&r.flatMap(n=>{var s,i;return(s=(i=n.stacktrace)==null?void 0:i.frames)!==null&&s!==void 0?s:[]}).some(n=>n.filename&&n.filename.startsWith("chrome-extension://"))}}var He="Mobile",In="iOS",Ye="Android",Or="Tablet",_c=Ye+" "+Or,bc="iPad",yc="Apple",wc=yc+" Watch",Tr="Safari",nr="BlackBerry",kc="Samsung",Sc=kc+"Browser",xc=kc+" Internet",$t="Chrome",Uf=$t+" OS",Ec=$t+" "+In,Wi="Internet Explorer",Cc=Wi+" "+He,Bi="Opera",Df=Bi+" Mini",qi="Edge",Pc="Microsoft "+qi,Kt="Firefox",Ic=Kt+" "+In,Mr="Nintendo",Ar="PlayStation",Jt="Xbox",Rc=Ye+" "+He,Oc=He+" "+Tr,wr="Windows",vi=wr+" Phone",ya="Nokia",mi="Ouya",Tc="Generic",zf=Tc+" "+He.toLowerCase(),Mc=Tc+" "+Or.toLowerCase(),_i="Konqueror",Ce="(\\d+(\\.\\d+)?)",Ss=new RegExp("Version/"+Ce),Wf=new RegExp(Jt,"i"),Bf=new RegExp(Ar+" \\w+","i"),qf=new RegExp(Mr+" \\w+","i"),Hi=new RegExp(nr+"|PlayBook|BB10","i"),Hf={"NT3.51":"NT 3.11","NT4.0":"NT 4.0","5.0":"2000",5.1:"XP",5.2:"XP","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1",6.4:"10","10.0":"10"},Vf=(t,e)=>e&&W(e,yc)||function(r){return W(r,Tr)&&!W(r,$t)&&!W(r,Ye)}(t),Ac=function(t,e){return e=e||"",W(t," OPR/")&&W(t,"Mini")?Df:W(t," OPR/")?Bi:Hi.test(t)?nr:W(t,"IE"+He)||W(t,"WPDesktop")?Cc:W(t,Sc)?xc:W(t,qi)||W(t,"Edg/")?Pc:W(t,"FBIOS")?"Facebook "+He:W(t,"UCWEB")||W(t,"UCBrowser")?"UC Browser":W(t,"CriOS")?Ec:W(t,"CrMo")||W(t,$t)?$t:W(t,Ye)&&W(t,Tr)?Rc:W(t,"FxiOS")?Ic:W(t.toLowerCase(),_i.toLowerCase())?_i:Vf(t,e)?W(t,He)?Oc:Tr:W(t,Kt)?Kt:W(t,"MSIE")||W(t,"Trident/")?Wi:W(t,"Gecko")?Kt:""},Gf={[Cc]:[new RegExp("rv:"+Ce)],[Pc]:[new RegExp(qi+"?\\/"+Ce)],[$t]:[new RegExp("("+$t+"|CrMo)\\/"+Ce)],[Ec]:[new RegExp("CriOS\\/"+Ce)],"UC Browser":[new RegExp("(UCBrowser|UCWEB)\\/"+Ce)],[Tr]:[Ss],[Oc]:[Ss],[Bi]:[new RegExp("(Opera|OPR)\\/"+Ce)],[Kt]:[new RegExp(Kt+"\\/"+Ce)],[Ic]:[new RegExp("FxiOS\\/"+Ce)],[_i]:[new RegExp("Konqueror[:/]?"+Ce,"i")],[nr]:[new RegExp(nr+" "+Ce),Ss],[Rc]:[new RegExp("android\\s"+Ce,"i")],[xc]:[new RegExp(Sc+"\\/"+Ce)],[Wi]:[new RegExp("(rv:|MSIE )"+Ce)],Mozilla:[new RegExp("rv:"+Ce)]},Kf=function(t,e){var r=Ac(t,e),n=Gf[r];if(P(n))return null;for(var s=0;s<n.length;s++){var i=n[s],o=t.match(i);if(o)return parseFloat(o[o.length-2])}return null},wa=[[new RegExp(Jt+"; "+Jt+" (.*?)[);]","i"),t=>[Jt,t&&t[1]||""]],[new RegExp(Mr,"i"),[Mr,""]],[new RegExp(Ar,"i"),[Ar,""]],[Hi,[nr,""]],[new RegExp(wr,"i"),(t,e)=>{if(/Phone/.test(e)||/WPDesktop/.test(e))return[vi,""];if(new RegExp(He).test(e)&&!/IEMobile\b/.test(e))return[wr+" "+He,""];var r=/Windows NT ([0-9.]+)/i.exec(e);if(r&&r[1]){var n=r[1],s=Hf[n]||"";return/arm/i.test(e)&&(s="RT"),[wr,s]}return[wr,""]}],[/((iPhone|iPad|iPod).*?OS (\d+)_(\d+)_?(\d+)?|iPhone)/,t=>{if(t&&t[3]){var e=[t[3],t[4],t[5]||"0"];return[In,e.join(".")]}return[In,""]}],[/(watch.*\/(\d+\.\d+\.\d+)|watch os,(\d+\.\d+),)/i,t=>{var e="";return t&&t.length>=3&&(e=P(t[2])?t[3]:t[2]),["watchOS",e]}],[new RegExp("("+Ye+" (\\d+)\\.(\\d+)\\.?(\\d+)?|"+Ye+")","i"),t=>{if(t&&t[2]){var e=[t[2],t[3],t[4]||"0"];return[Ye,e.join(".")]}return[Ye,""]}],[/Mac OS X (\d+)[_.](\d+)[_.]?(\d+)?/i,t=>{var e=["Mac OS X",""];if(t&&t[1]){var r=[t[1],t[2],t[3]||"0"];e[1]=r.join(".")}return e}],[/Mac/i,["Mac OS X",""]],[/CrOS/,[Uf,""]],[/Linux|debian/i,["Linux",""]]],ka=function(t){return qf.test(t)?Mr:Bf.test(t)?Ar:Wf.test(t)?Jt:new RegExp(mi,"i").test(t)?mi:new RegExp("("+vi+"|WPDesktop)","i").test(t)?vi:/iPad/.test(t)?bc:/iPod/.test(t)?"iPod Touch":/iPhone/.test(t)?"iPhone":/(watch)(?: ?os[,/]|\d,\d\/)[\d.]+/i.test(t)?wc:Hi.test(t)?nr:/(kobo)\s(ereader|touch)/i.test(t)?"Kobo":new RegExp(ya,"i").test(t)?ya:/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i.test(t)||/(kf[a-z]+)( bui|\)).+silk\//i.test(t)?"Kindle Fire":/(Android|ZTE)/i.test(t)?!new RegExp(He).test(t)||/(9138B|TB782B|Nexus [97]|pixel c|HUAWEISHT|BTV|noble nook|smart ultra 6)/i.test(t)?/pixel[\daxl ]{1,6}/i.test(t)&&!/pixel c/i.test(t)||/(huaweimed-al00|tah-|APA|SM-G92|i980|zte|U304AA)/i.test(t)||/lmy47v/i.test(t)&&!/QTAQZ3/i.test(t)?Ye:_c:Ye:new RegExp("(pda|"+He+")","i").test(t)?zf:new RegExp(Or,"i").test(t)&&!new RegExp(Or+" pc","i").test(t)?Mc:""},sn="https?://(.*)",Wn=["gclid","gclsrc","dclid","gbraid","wbraid","fbclid","msclkid","twclid","li_fat_id","igshid","ttclid","rdt_cid","epik","qclid","sccid","irclid","_kx"],Jf=Un(["utm_source","utm_medium","utm_campaign","utm_content","utm_term","gad_source","mc_cid"],Wn),Vi="<masked>",Yf=["li_fat_id"];function jc(t,e,r){if(!R)return{};var n,s=e?Un([],Wn,r||[]):[],i=Fc(Fi(R.URL,s,Vi),t),o=(n={},Y(Yf,function(a){var l=Xe.D(a);n[a]=l||null}),n);return ce(o,i)}function Fc(t,e){var r=Jf.concat(e||[]),n={};return Y(r,function(s){var i=wn(t,s);n[s]=i||null}),n}function Nc(t){var e=function(i){return i?i.search(sn+"google.([^/?]*)")===0?"google":i.search(sn+"bing.com")===0?"bing":i.search(sn+"yahoo.com")===0?"yahoo":i.search(sn+"duckduckgo.com")===0?"duckduckgo":null:null}(t),r=e!="yahoo"?"q":"p",n={};if(!Ct(e)){n.$search_engine=e;var s=R?wn(R.referrer,r):"";s.length&&(n.ph_keyword=s)}return n}function Sa(){return navigator.language||navigator.userLanguage}function $c(){return(R==null?void 0:R.referrer)||"$direct"}function Lc(t,e){var r=t?Un([],Wn,e||[]):[],n=Me==null?void 0:Me.href.substring(0,1e3);return{r:$c().substring(0,1e3),u:n?Fi(n,r,Vi):void 0}}function Uc(t){var e,{r,u:n}=t,s={$referrer:r,$referring_domain:r==null?void 0:r=="$direct"?"$direct":(e=er(r))==null?void 0:e.host};if(n){s.$current_url=n;var i=er(n);s.$host=i==null?void 0:i.host,s.$pathname=i==null?void 0:i.pathname;var o=Fc(n);ce(s,o)}if(r){var a=Nc(r);ce(s,a)}return s}function Dc(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch{return}}function Xf(){try{return new Date().getTimezoneOffset()}catch{return}}function Zf(t,e){if(!Te)return{};var r,n,s,i=t?Un([],Wn,e||[]):[],[o,a]=function(l){for(var c=0;c<wa.length;c++){var[u,h]=wa[c],d=u.exec(l),p=d&&(Be(h)?h(d,l):h);if(p)return p}return["",""]}(Te);return ce(Ai({$os:o,$os_version:a,$browser:Ac(Te,navigator.vendor),$device:ka(Te),$device_type:(n=Te,s=ka(n),s===bc||s===_c||s==="Kobo"||s==="Kindle Fire"||s===Mc?Or:s===Mr||s===Jt||s===Ar||s===mi?"Console":s===wc?"Wearable":s?He:"Desktop"),$timezone:Dc(),$timezone_offset:Xf()}),{$current_url:Fi(Me==null?void 0:Me.href,i,Vi),$host:Me==null?void 0:Me.host,$pathname:Me==null?void 0:Me.pathname,$raw_user_agent:Te.length>1e3?Te.substring(0,997)+"...":Te,$browser_version:Kf(Te,navigator.vendor),$browser_language:Sa(),$browser_language_prefix:(r=Sa(),typeof r=="string"?r.split("-")[0]:void 0),$screen_height:b==null?void 0:b.screen.height,$screen_width:b==null?void 0:b.screen.width,$viewport_height:b==null?void 0:b.innerHeight,$viewport_width:b==null?void 0:b.innerWidth,$lib:"web",$lib_version:lt.LIB_VERSION,$insert_id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),$time:Date.now()/1e3})}var Ke=ve("[FeatureFlags]"),xs="$active_feature_flags",Dt="$override_feature_flags",xa="$feature_flag_payloads",ur="$override_feature_flag_payloads",Ea="$feature_flag_request_id",Ca=t=>{var e={};for(var[r,n]of cn(t||{}))n&&(e[r]=n);return e},Qf=t=>{var e=t.flags;return e?(t.featureFlags=Object.fromEntries(Object.keys(e).map(r=>{var n;return[r,(n=e[r].variant)!==null&&n!==void 0?n:e[r].enabled]})),t.featureFlagPayloads=Object.fromEntries(Object.keys(e).filter(r=>e[r].enabled).filter(r=>{var n;return(n=e[r].metadata)==null?void 0:n.payload}).map(r=>{var n;return[r,(n=e[r].metadata)==null?void 0:n.payload]}))):Ke.warn("Using an older version of the feature flags endpoint. Please upgrade your PostHog server to the latest version"),t},eg=function(t){return t.FeatureFlags="feature_flags",t.Recordings="recordings",t}({});class tg{constructor(e){this.me=!1,this.be=!1,this.ye=!1,this.we=!1,this.Se=!1,this.$e=!1,this.xe=!1,this._instance=e,this.featureFlagEventHandlers=[]}flags(){if(this._instance.config.__preview_remote_config)this.$e=!0;else{var e=!this.ke&&(this._instance.config.advanced_disable_feature_flags||this._instance.config.advanced_disable_feature_flags_on_first_load);this.Ee({disableFlags:e})}}get hasLoadedFlags(){return this.be}getFlags(){return Object.keys(this.getFlagVariants())}getFlagsWithDetails(){var e=this._instance.get_property(ti),r=this._instance.get_property(Dt),n=this._instance.get_property(ur);if(!n&&!r)return e||{};var s=ce({},e||{}),i=[...new Set([...Object.keys(n||{}),...Object.keys(r||{})])];for(var o of i){var a,l,c=s[o],u=r==null?void 0:r[o],h=P(u)?(a=c==null?void 0:c.enabled)!==null&&a!==void 0&&a:!!u,d=P(u)?c.variant:typeof u=="string"?u:void 0,p=n==null?void 0:n[o],g=I({},c,{enabled:h,variant:h?d??(c==null?void 0:c.variant):void 0});h!==(c==null?void 0:c.enabled)&&(g.original_enabled=c==null?void 0:c.enabled),d!==(c==null?void 0:c.variant)&&(g.original_variant=c==null?void 0:c.variant),p&&(g.metadata=I({},c==null?void 0:c.metadata,{payload:p,original_payload:c==null||(l=c.metadata)==null?void 0:l.payload})),s[o]=g}return this.me||(Ke.warn(" Overriding feature flag details!",{flagDetails:e,overriddenPayloads:n,finalDetails:s}),this.me=!0),s}getFlagVariants(){var e=this._instance.get_property(Vt),r=this._instance.get_property(Dt);if(!r)return e||{};for(var n=ce({},e),s=Object.keys(r),i=0;i<s.length;i++)n[s[i]]=r[s[i]];return this.me||(Ke.warn(" Overriding feature flags!",{enabledFlags:e,overriddenFlags:r,finalFlags:n}),this.me=!0),n}getFlagPayloads(){var e=this._instance.get_property(xa),r=this._instance.get_property(ur);if(!r)return e||{};for(var n=ce({},e||{}),s=Object.keys(r),i=0;i<s.length;i++)n[s[i]]=r[s[i]];return this.me||(Ke.warn(" Overriding feature flag payloads!",{flagPayloads:e,overriddenPayloads:r,finalPayloads:n}),this.me=!0),n}reloadFeatureFlags(){this.we||this._instance.config.advanced_disable_feature_flags||this.ke||(this.ke=setTimeout(()=>{this.Ee()},5))}Ie(){clearTimeout(this.ke),this.ke=void 0}ensureFlagsLoaded(){this.be||this.ye||this.ke||this.reloadFeatureFlags()}setAnonymousDistinctId(e){this.$anon_distinct_id=e}setReloadingPaused(e){this.we=e}Ee(e){var r;if(this.Ie(),!this._instance.I())if(this.ye)this.Se=!0;else{var n={token:this._instance.config.token,distinct_id:this._instance.get_distinct_id(),groups:this._instance.getGroups(),$anon_distinct_id:this.$anon_distinct_id,person_properties:I({},((r=this._instance.persistence)==null?void 0:r.get_initial_props())||{},this._instance.get_property(_r)||{}),group_properties:this._instance.get_property(At)};(e!=null&&e.disableFlags||this._instance.config.advanced_disable_feature_flags)&&(n.disable_flags=!0);var s=this._instance.config.__preview_remote_config,i=s?"/flags/?v=2":"/flags/?v=2&config=true",o=this._instance.config.advanced_only_evaluate_survey_feature_flags?"&only_evaluate_survey_feature_flags=true":"",a=this._instance.requestRouter.endpointFor("api",i+o);s&&(n.timezone=Dc()),this.ye=!0,this._instance.Pe({method:"POST",url:a,data:n,compression:this._instance.config.disable_compression?void 0:ct.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:l=>{var c,u,h=!0;if(l.statusCode===200&&(this.Se||(this.$anon_distinct_id=void 0),h=!1),this.ye=!1,this.$e||(this.$e=!0,this._instance.Re((u=l.json)!==null&&u!==void 0?u:{})),!n.disable_flags||this.Se)if(this.xe=!h,l.json&&(c=l.json.quotaLimited)!=null&&c.includes(eg.FeatureFlags))Ke.warn("You have hit your feature flags quota limit, and will not be able to load feature flags until the quota is reset.  Please visit https://posthog.com/docs/billing/limits-alerts to learn more.");else{var d;n.disable_flags||this.receivedFeatureFlags((d=l.json)!==null&&d!==void 0?d:{},h),this.Se&&(this.Se=!1,this.Ee())}}})}}getFeatureFlag(e,r){if(r===void 0&&(r={}),this.be||this.getFlags()&&this.getFlags().length>0){var n=this.getFlagVariants()[e],s=""+n,i=this._instance.get_property(Ea)||void 0,o=this._instance.get_property(mn)||{};if((r.send_event||!("send_event"in r))&&(!(e in o)||!o[e].includes(s))){var a,l,c,u,h,d,p,g,f;Q(o[e])?o[e].push(s):o[e]=[s],(a=this._instance.persistence)==null||a.register({[mn]:o});var v=this.getFeatureFlagDetails(e),m={$feature_flag:e,$feature_flag_response:n,$feature_flag_payload:this.getFeatureFlagPayload(e)||null,$feature_flag_request_id:i,$feature_flag_bootstrapped_response:((l=this._instance.config.bootstrap)==null||(l=l.featureFlags)==null?void 0:l[e])||null,$feature_flag_bootstrapped_payload:((c=this._instance.config.bootstrap)==null||(c=c.featureFlagPayloads)==null?void 0:c[e])||null,$used_bootstrap_value:!this.xe};P(v==null||(u=v.metadata)==null?void 0:u.version)||(m.$feature_flag_version=v.metadata.version);var y,k=(h=v==null||(d=v.reason)==null?void 0:d.description)!==null&&h!==void 0?h:v==null||(p=v.reason)==null?void 0:p.code;k&&(m.$feature_flag_reason=k),v!=null&&(g=v.metadata)!=null&&g.id&&(m.$feature_flag_id=v.metadata.id),P(v==null?void 0:v.original_variant)&&P(v==null?void 0:v.original_enabled)||(m.$feature_flag_original_response=P(v.original_variant)?v.original_enabled:v.original_variant),v!=null&&(f=v.metadata)!=null&&f.original_payload&&(m.$feature_flag_original_payload=v==null||(y=v.metadata)==null?void 0:y.original_payload),this._instance.capture("$feature_flag_called",m)}return n}Ke.warn('getFeatureFlag for key "'+e+`" failed. Feature flags didn't load in time.`)}getFeatureFlagDetails(e){return this.getFlagsWithDetails()[e]}getFeatureFlagPayload(e){return this.getFlagPayloads()[e]}getRemoteConfigPayload(e,r){var n=this._instance.config.token;this._instance.Pe({method:"POST",url:this._instance.requestRouter.endpointFor("api","/flags/?v=2&config=true"),data:{distinct_id:this._instance.get_distinct_id(),token:n},compression:this._instance.config.disable_compression?void 0:ct.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:s=>{var i,o=(i=s.json)==null?void 0:i.featureFlagPayloads;r((o==null?void 0:o[e])||void 0)}})}isFeatureEnabled(e,r){if(r===void 0&&(r={}),this.be||this.getFlags()&&this.getFlags().length>0)return!!this.getFeatureFlag(e,r);Ke.warn('isFeatureEnabled for key "'+e+`" failed. Feature flags didn't load in time.`)}addFeatureFlagsHandler(e){this.featureFlagEventHandlers.push(e)}removeFeatureFlagsHandler(e){this.featureFlagEventHandlers=this.featureFlagEventHandlers.filter(r=>r!==e)}receivedFeatureFlags(e,r){if(this._instance.persistence){this.be=!0;var n=this.getFlagVariants(),s=this.getFlagPayloads(),i=this.getFlagsWithDetails();(function(o,a,l,c,u){l===void 0&&(l={}),c===void 0&&(c={}),u===void 0&&(u={});var h=Qf(o),d=h.flags,p=h.featureFlags,g=h.featureFlagPayloads;if(p){var f=o.requestId;if(Q(p)){Ke.warn("v1 of the feature flags endpoint is deprecated. Please use the latest version.");var v={};if(p)for(var m=0;m<p.length;m++)v[p[m]]=!0;a&&a.register({[xs]:p,[Vt]:v})}else{var y=p,k=g,x=d;o.errorsWhileComputingFlags&&(y=I({},l,y),k=I({},c,k),x=I({},u,x)),a&&a.register(I({[xs]:Object.keys(Ca(y)),[Vt]:y||{},[xa]:k||{},[ti]:x||{}},f?{[Ea]:f}:{}))}}})(e,this._instance.persistence,n,s,i),this.Te(r)}}override(e,r){r===void 0&&(r=!1),Ke.warn("override is deprecated. Please use overrideFeatureFlags instead."),this.overrideFeatureFlags({flags:e,suppressWarning:r})}overrideFeatureFlags(e){if(!this._instance.__loaded||!this._instance.persistence)return Ke.uninitializedWarning("posthog.featureFlags.overrideFeatureFlags");if(e===!1)return this._instance.persistence.unregister(Dt),this._instance.persistence.unregister(ur),void this.Te();if(e&&typeof e=="object"&&("flags"in e||"payloads"in e)){var r,n=e;if(this.me=!!((r=n.suppressWarning)!==null&&r!==void 0&&r),"flags"in n){if(n.flags===!1)this._instance.persistence.unregister(Dt);else if(n.flags)if(Q(n.flags)){for(var s={},i=0;i<n.flags.length;i++)s[n.flags[i]]=!0;this._instance.persistence.register({[Dt]:s})}else this._instance.persistence.register({[Dt]:n.flags})}return"payloads"in n&&(n.payloads===!1?this._instance.persistence.unregister(ur):n.payloads&&this._instance.persistence.register({[ur]:n.payloads})),void this.Te()}this.Te()}onFeatureFlags(e){if(this.addFeatureFlagsHandler(e),this.be){var{flags:r,flagVariants:n}=this.Ce();e(r,n)}return()=>this.removeFeatureFlagsHandler(e)}updateEarlyAccessFeatureEnrollment(e,r,n){var s,i=(this._instance.get_property(mr)||[]).find(c=>c.flagKey===e),o={["$feature_enrollment/"+e]:r},a={$feature_flag:e,$feature_enrollment:r,$set:o};i&&(a.$early_access_feature_name=i.name),n&&(a.$feature_enrollment_stage=n),this._instance.capture("$feature_enrollment_update",a),this.setPersonPropertiesForFlags(o,!1);var l=I({},this.getFlagVariants(),{[e]:r});(s=this._instance.persistence)==null||s.register({[xs]:Object.keys(Ca(l)),[Vt]:l}),this.Te()}getEarlyAccessFeatures(e,r,n){r===void 0&&(r=!1);var s=this._instance.get_property(mr),i=n?"&"+n.map(o=>"stage="+o).join("&"):"";if(s&&!r)return e(s);this._instance.Pe({url:this._instance.requestRouter.endpointFor("api","/api/early_access_features/?token="+this._instance.config.token+i),method:"GET",callback:o=>{var a,l;if(o.json){var c=o.json.earlyAccessFeatures;return(a=this._instance.persistence)==null||a.unregister(mr),(l=this._instance.persistence)==null||l.register({[mr]:c}),e(c)}}})}Ce(){var e=this.getFlags(),r=this.getFlagVariants();return{flags:e.filter(n=>r[n]),flagVariants:Object.keys(r).filter(n=>r[n]).reduce((n,s)=>(n[s]=r[s],n),{})}}Te(e){var{flags:r,flagVariants:n}=this.Ce();this.featureFlagEventHandlers.forEach(s=>s(r,n,{errorsLoading:e}))}setPersonPropertiesForFlags(e,r){r===void 0&&(r=!0);var n=this._instance.get_property(_r)||{};this._instance.register({[_r]:I({},n,e)}),r&&this._instance.reloadFeatureFlags()}resetPersonPropertiesForFlags(){this._instance.unregister(_r)}setGroupPropertiesForFlags(e,r){r===void 0&&(r=!0);var n=this._instance.get_property(At)||{};Object.keys(n).length!==0&&Object.keys(n).forEach(s=>{n[s]=I({},n[s],e[s]),delete e[s]}),this._instance.register({[At]:I({},n,e)}),r&&this._instance.reloadFeatureFlags()}resetGroupPropertiesForFlags(e){if(e){var r=this._instance.get_property(At)||{};this._instance.register({[At]:I({},r,{[e]:{}})})}else this._instance.unregister(At)}reset(){this.be=!1,this.ye=!1,this.we=!1,this.Se=!1,this.$e=!1,this.xe=!1,this.$anon_distinct_id=void 0,this.Ie(),this.me=!1}}var rg=["cookie","localstorage","localstorage+cookie","sessionstorage","memory"];class Es{constructor(e,r){this.S=e,this.props={},this.Me=!1,this.Fe=(n=>{var s="";return n.token&&(s=n.token.replace(/\+/g,"PL").replace(/\//g,"SL").replace(/=/g,"EQ")),n.persistence_name?"ph_"+n.persistence_name:"ph_"+s+"_posthog"})(e),this.B=this.Oe(e),this.load(),e.debug&&O.info("Persistence loaded",e.persistence,I({},this.props)),this.update_config(e,e,r),this.save()}isDisabled(){return!!this.Ae}Oe(e){rg.indexOf(e.persistence.toLowerCase())===-1&&(O.critical("Unknown persistence type "+e.persistence+"; falling back to localStorage+cookie"),e.persistence="localStorage+cookie");var r=e.persistence.toLowerCase();return r==="localstorage"&&fe.O()?fe:r==="localstorage+cookie"&&Yr.O()?Yr:r==="sessionstorage"&&_e.O()?_e:r==="memory"?Fp:r==="cookie"?Xe:Yr.O()?Yr:Xe}properties(){var e={};return Y(this.props,function(r,n){if(n===Vt&&ae(r))for(var s=Object.keys(r),i=0;i<s.length;i++)e["$feature/"+s[i]]=r[s[i]];else a=n,l=!1,(Ct(o=gp)?l:Oo&&o.indexOf===Oo?o.indexOf(a)!=-1:(Y(o,function(c){if(l||(l=c===a))return gn}),l))||(e[n]=r);var o,a,l}),e}load(){if(!this.Ae){var e=this.B.j(this.Fe);e&&(this.props=ce({},e))}}save(){this.Ae||this.B.L(this.Fe,this.props,this.De,this.je,this.Le,this.S.debug)}remove(){this.B.N(this.Fe,!1),this.B.N(this.Fe,!0)}clear(){this.remove(),this.props={}}register_once(e,r,n){if(ae(e)){P(r)&&(r="None"),this.De=P(n)?this.Ne:n;var s=!1;if(Y(e,(i,o)=>{this.props.hasOwnProperty(o)&&this.props[o]!==r||(this.props[o]=i,s=!0)}),s)return this.save(),!0}return!1}register(e,r){if(ae(e)){this.De=P(r)?this.Ne:r;var n=!1;if(Y(e,(s,i)=>{e.hasOwnProperty(i)&&this.props[i]!==s&&(this.props[i]=s,n=!0)}),n)return this.save(),!0}return!1}unregister(e){e in this.props&&(delete this.props[e],this.save())}update_campaign_params(){if(!this.Me){var e=jc(this.S.custom_campaign_params,this.S.mask_personal_data_properties,this.S.custom_personal_data_properties);Ht(Ai(e))||this.register(e),this.Me=!0}}update_search_keyword(){var e;this.register((e=R==null?void 0:R.referrer)?Nc(e):{})}update_referrer_info(){var e;this.register_once({$referrer:$c(),$referring_domain:R!=null&&R.referrer&&((e=er(R.referrer))==null?void 0:e.host)||"$direct"},void 0)}set_initial_person_info(){this.props[ii]||this.props[oi]||this.register_once({[_n]:Lc(this.S.mask_personal_data_properties,this.S.custom_personal_data_properties)},void 0)}get_initial_props(){var e={};Y([oi,ii],o=>{var a=this.props[o];a&&Y(a,function(l,c){e["$initial_"+Ks(c)]=l})});var r,n,s=this.props[_n];if(s){var i=(r=Uc(s),n={},Y(r,function(o,a){n["$initial_"+Ks(a)]=o}),n);ce(e,i)}return e}safe_merge(e){return Y(this.props,function(r,n){n in e||(e[n]=r)}),e}update_config(e,r,n){if(this.Ne=this.De=e.cookie_expiration,this.set_disabled(e.disable_persistence||!!n),this.set_cross_subdomain(e.cross_subdomain_cookie),this.set_secure(e.secure_cookie),e.persistence!==r.persistence){var s=this.Oe(e),i=this.props;this.clear(),this.B=s,this.props=i,this.save()}}set_disabled(e){this.Ae=e,this.Ae?this.remove():this.save()}set_cross_subdomain(e){e!==this.je&&(this.je=e,this.remove(),this.save())}set_secure(e){e!==this.Le&&(this.Le=e,this.remove(),this.save())}set_event_timer(e,r){var n=this.props[gr]||{};n[e]=r,this.props[gr]=n,this.save()}remove_event_timer(e){var r=(this.props[gr]||{})[e];return P(r)||(delete this.props[gr][e],this.save()),r}get_property(e){return this.props[e]}set_property(e,r){this.props[e]=r,this.save()}}class zc{constructor(){this.ze={},this.ze={}}on(e,r){return this.ze[e]||(this.ze[e]=[]),this.ze[e].push(r),()=>{this.ze[e]=this.ze[e].filter(n=>n!==r)}}emit(e,r){for(var n of this.ze[e]||[])n(r);for(var s of this.ze["*"]||[])s(e,r)}}class jt{constructor(e){this.Ue=new zc,this.qe=(r,n)=>this.Be(r,n)&&this.He(r,n)&&this.We(r,n),this.Be=(r,n)=>n==null||!n.event||(r==null?void 0:r.event)===(n==null?void 0:n.event),this._instance=e,this.Ge=new Set,this.Je=new Set}init(){var e;if(!P((e=this._instance)==null?void 0:e.Ve)){var r;(r=this._instance)==null||r.Ve((n,s)=>{this.on(n,s)})}}register(e){var r,n;if(!P((r=this._instance)==null?void 0:r.Ve)&&(e.forEach(o=>{var a,l;(a=this.Je)==null||a.add(o),(l=o.steps)==null||l.forEach(c=>{var u;(u=this.Ge)==null||u.add((c==null?void 0:c.event)||"")})}),(n=this._instance)!=null&&n.autocapture)){var s,i=new Set;e.forEach(o=>{var a;(a=o.steps)==null||a.forEach(l=>{l!=null&&l.selector&&i.add(l==null?void 0:l.selector)})}),(s=this._instance)==null||s.autocapture.setElementSelectors(i)}}on(e,r){var n;r!=null&&e.length!=0&&(this.Ge.has(e)||this.Ge.has(r==null?void 0:r.event))&&this.Je&&((n=this.Je)==null?void 0:n.size)>0&&this.Je.forEach(s=>{this.Ke(r,s)&&this.Ue.emit("actionCaptured",s.name)})}Ye(e){this.onAction("actionCaptured",r=>e(r))}Ke(e,r){if((r==null?void 0:r.steps)==null)return!1;for(var n of r.steps)if(this.qe(e,n))return!0;return!1}onAction(e,r){return this.Ue.on(e,r)}He(e,r){if(r!=null&&r.url){var n,s=e==null||(n=e.properties)==null?void 0:n.$current_url;if(!s||typeof s!="string"||!jt.Xe(s,r==null?void 0:r.url,(r==null?void 0:r.url_matching)||"contains"))return!1}return!0}static Xe(e,r,n){switch(n){case"regex":return!!b&&rr(e,r);case"exact":return r===e;case"contains":var s=jt.Qe(r).replace(/_/g,".").replace(/%/g,".*");return rr(e,s);default:return!1}}static Qe(e){return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}We(e,r){if((r!=null&&r.href||r!=null&&r.tag_name||r!=null&&r.text)&&!this.Ze(e).some(i=>!(r!=null&&r.href&&!jt.Xe(i.href||"",r==null?void 0:r.href,(r==null?void 0:r.href_matching)||"exact"))&&(r==null||!r.tag_name||i.tag_name===(r==null?void 0:r.tag_name))&&!(r!=null&&r.text&&!jt.Xe(i.text||"",r==null?void 0:r.text,(r==null?void 0:r.text_matching)||"exact")&&!jt.Xe(i.$el_text||"",r==null?void 0:r.text,(r==null?void 0:r.text_matching)||"exact"))))return!1;if(r!=null&&r.selector){var n,s=e==null||(n=e.properties)==null?void 0:n.$element_selectors;if(!s||!s.includes(r==null?void 0:r.selector))return!1}return!0}Ze(e){return(e==null?void 0:e.properties.$elements)==null?[]:e==null?void 0:e.properties.$elements}}(function(t){return t.Button="button",t.Tab="tab",t.Selector="selector",t})({});(function(t){return t.TopLeft="top_left",t.TopRight="top_right",t.TopCenter="top_center",t.MiddleLeft="middle_left",t.MiddleRight="middle_right",t.MiddleCenter="middle_center",t.Left="left",t.Center="center",t.Right="right",t.NextToTrigger="next_to_trigger",t})({});var Cs=function(t){return t.Popover="popover",t.API="api",t.Widget="widget",t.ExternalSurvey="external_survey",t}({});(function(t){return t.Open="open",t.MultipleChoice="multiple_choice",t.SingleChoice="single_choice",t.Rating="rating",t.Link="link",t})({});(function(t){return t.NextQuestion="next_question",t.End="end",t.ResponseBased="response_based",t.SpecificQuestion="specific_question",t})({});(function(t){return t.Once="once",t.Recurring="recurring",t.Always="always",t})({});var Ps=function(t){return t.SHOWN="survey shown",t.DISMISSED="survey dismissed",t.SENT="survey sent",t}({}),Pa=function(t){return t.SURVEY_ID="$survey_id",t.SURVEY_NAME="$survey_name",t.SURVEY_RESPONSE="$survey_response",t.SURVEY_ITERATION="$survey_iteration",t.SURVEY_ITERATION_START_DATE="$survey_iteration_start_date",t.SURVEY_PARTIALLY_COMPLETED="$survey_partially_completed",t.SURVEY_SUBMISSION_ID="$survey_submission_id",t.SURVEY_QUESTIONS="$survey_questions",t.SURVEY_COMPLETED="$survey_completed",t}({}),de=ve("[Surveys]"),bi="seenSurvey_",ng=(t,e)=>{var r="$survey_"+e+"/"+t.id;return t.current_iteration&&t.current_iteration>0&&(r="$survey_"+e+"/"+t.id+"/"+t.current_iteration),r},Ia=t=>{var e=""+bi+t.id;return t.current_iteration&&t.current_iteration>0&&(e=""+bi+t.id+"_"+t.current_iteration),e},sg=[Cs.Popover,Cs.Widget,Cs.API];class ig{constructor(e){this._instance=e,this.tr=new Map,this.ir=new Map}register(e){var r;P((r=this._instance)==null?void 0:r.Ve)||(this.er(e),this.rr(e))}rr(e){var r=e.filter(n=>{var s,i;return((s=n.conditions)==null?void 0:s.actions)&&((i=n.conditions)==null||(i=i.actions)==null||(i=i.values)==null?void 0:i.length)>0});r.length!==0&&(this.sr==null&&(this.sr=new jt(this._instance),this.sr.init(),this.sr.Ye(n=>{this.onAction(n)})),r.forEach(n=>{var s,i,o,a,l;n.conditions&&(s=n.conditions)!=null&&s.actions&&(i=n.conditions)!=null&&(i=i.actions)!=null&&i.values&&((o=n.conditions)==null||(o=o.actions)==null||(o=o.values)==null?void 0:o.length)>0&&((a=this.sr)==null||a.register(n.conditions.actions.values),(l=n.conditions)==null||(l=l.actions)==null||(l=l.values)==null||l.forEach(c=>{if(c&&c.name){var u=this.ir.get(c.name);u&&u.push(n.id),this.ir.set(c.name,u||[n.id])}}))}))}er(e){var r;e.filter(n=>{var s,i;return((s=n.conditions)==null?void 0:s.events)&&((i=n.conditions)==null||(i=i.events)==null||(i=i.values)==null?void 0:i.length)>0}).length!==0&&((r=this._instance)==null||r.Ve((n,s)=>{this.onEvent(n,s)}),e.forEach(n=>{var s;(s=n.conditions)==null||(s=s.events)==null||(s=s.values)==null||s.forEach(i=>{if(i&&i.name){var o=this.tr.get(i.name);o&&o.push(n.id),this.tr.set(i.name,o||[n.id])}})}))}onEvent(e,r){var n,s=((n=this._instance)==null||(n=n.persistence)==null?void 0:n.props[Jr])||[];if(e==="survey shown"&&r&&s.length>0){var i;de.info("survey event matched, removing survey from activated surveys",{event:e,eventPayload:r,existingActivatedSurveys:s});var o=r==null||(i=r.properties)==null?void 0:i.$survey_id;if(o){var a=s.indexOf(o);a>=0&&(s.splice(a,1),this.nr(s))}}else this.tr.has(e)&&(de.info("survey event matched, updating activated surveys",{event:e,surveys:this.tr.get(e)}),this.nr(s.concat(this.tr.get(e)||[])))}onAction(e){var r,n=((r=this._instance)==null||(r=r.persistence)==null?void 0:r.props[Jr])||[];this.ir.has(e)&&this.nr(n.concat(this.ir.get(e)||[]))}nr(e){var r;(r=this._instance)==null||(r=r.persistence)==null||r.register({[Jr]:[...new Set(e)]})}getSurveys(){var e,r=(e=this._instance)==null||(e=e.persistence)==null?void 0:e.props[Jr];return r||[]}getEventToSurveys(){return this.tr}ar(){return this.sr}}class og{constructor(e){this.lr=void 0,this._surveyManager=null,this.ur=!1,this.hr=!1,this.dr=[],this._instance=e,this._surveyEventReceiver=null}onRemoteConfig(e){var r=e.surveys;if(H(r))return de.warn("Flags not loaded yet. Not loading surveys.");var n=Q(r);this.lr=n?r.length>0:r,de.info("flags response received, isSurveysEnabled: "+this.lr),this.loadIfEnabled()}reset(){localStorage.removeItem("lastSeenSurveyDate");for(var e=[],r=0;r<localStorage.length;r++){var n=localStorage.key(r);(n!=null&&n.startsWith(bi)||n!=null&&n.startsWith("inProgressSurvey_"))&&e.push(n)}e.forEach(s=>localStorage.removeItem(s))}loadIfEnabled(){if(!this._surveyManager)if(this.hr)de.info("Already initializing surveys, skipping...");else if(this._instance.config.disable_surveys)de.info("Disabled. Not loading surveys.");else if(this._instance.config.cookieless_mode)de.info("Not loading surveys in cookieless mode.");else{var e=$==null?void 0:$.__PosthogExtensions__;if(e){if(!P(this.lr)||this._instance.config.advanced_enable_surveys){var r=this.lr||this._instance.config.advanced_enable_surveys;this.hr=!0;try{var n=e.generateSurveys;if(n)return void this.vr(n,r);var s=e.loadExternalDependency;if(!s)return void this.cr("PostHog loadExternalDependency extension not found.");s(this._instance,"surveys",i=>{i||!e.generateSurveys?this.cr("Could not load surveys script",i):this.vr(e.generateSurveys,r)})}catch(i){throw this.cr("Error initializing surveys",i),i}finally{this.hr=!1}}}else de.error("PostHog Extensions not found.")}}vr(e,r){this._surveyManager=e(this._instance,r),this._surveyEventReceiver=new ig(this._instance),de.info("Surveys loaded successfully"),this.pr({isLoaded:!0})}cr(e,r){de.error(e,r),this.pr({isLoaded:!1,error:e})}onSurveysLoaded(e){return this.dr.push(e),this._surveyManager&&this.pr({isLoaded:!0}),()=>{this.dr=this.dr.filter(r=>r!==e)}}getSurveys(e,r){if(r===void 0&&(r=!1),this._instance.config.disable_surveys)return de.info("Disabled. Not loading surveys."),e([]);var n=this._instance.get_property(ri);if(n&&!r)return e(n,{isLoaded:!0});if(this.ur)return e([],{isLoaded:!1,error:"Surveys are already being loaded"});try{this.ur=!0,this._instance.Pe({url:this._instance.requestRouter.endpointFor("api","/api/surveys/?token="+this._instance.config.token),method:"GET",timeout:this._instance.config.surveys_request_timeout_ms,callback:s=>{var i;this.ur=!1;var o=s.statusCode;if(o!==200||!s.json){var a="Surveys API could not be loaded, status: "+o;return de.error(a),e([],{isLoaded:!1,error:a})}var l,c=s.json.surveys||[],u=c.filter(h=>function(d){return!(!d.start_date||d.end_date)}(h)&&(function(d){var p;return!((p=d.conditions)==null||(p=p.events)==null||(p=p.values)==null||!p.length)}(h)||function(d){var p;return!((p=d.conditions)==null||(p=p.actions)==null||(p=p.values)==null||!p.length)}(h)));return u.length>0&&((l=this._surveyEventReceiver)==null||l.register(u)),(i=this._instance.persistence)==null||i.register({[ri]:c}),e(c,{isLoaded:!0})}})}catch(s){throw this.ur=!1,s}}pr(e){for(var r of this.dr)try{if(!e.isLoaded)return r([],e);this.getSurveys(r)}catch(n){de.error("Error in survey callback",n)}}getActiveMatchingSurveys(e,r){if(r===void 0&&(r=!1),!H(this._surveyManager))return this._surveyManager.getActiveMatchingSurveys(e,r);de.warn("init was not called")}_r(e){var r=null;return this.getSurveys(n=>{var s;r=(s=n.find(i=>i.id===e))!==null&&s!==void 0?s:null}),r}gr(e){if(H(this._surveyManager))return{eligible:!1,reason:"SDK is not enabled or survey functionality is not yet loaded"};var r=typeof e=="string"?this._r(e):e;return r?this._surveyManager.checkSurveyEligibility(r):{eligible:!1,reason:"Survey not found"}}canRenderSurvey(e){if(H(this._surveyManager))return de.warn("init was not called"),{visible:!1,disabledReason:"SDK is not enabled or survey functionality is not yet loaded"};var r=this.gr(e);return{visible:r.eligible,disabledReason:r.reason}}canRenderSurveyAsync(e,r){return H(this._surveyManager)?(de.warn("init was not called"),Promise.resolve({visible:!1,disabledReason:"SDK is not enabled or survey functionality is not yet loaded"})):new Promise(n=>{this.getSurveys(s=>{var i,o=(i=s.find(l=>l.id===e))!==null&&i!==void 0?i:null;if(o){var a=this.gr(o);n({visible:a.eligible,disabledReason:a.reason})}else n({visible:!1,disabledReason:"Survey not found"})},r)})}renderSurvey(e,r){if(H(this._surveyManager))de.warn("init was not called");else{var n=this._r(e);if(n)if(sg.includes(n.type)){var s=R==null?void 0:R.querySelector(r);s?this._surveyManager.renderSurvey(n,s):de.warn("Survey element not found")}else de.warn("Surveys of type "+n.type+" cannot be rendered in the app");else de.warn("Survey not found")}}}var Ra=ve("[RateLimiter]");class ag{constructor(e){var r,n;this.serverLimits={},this.lastEventRateLimited=!1,this.checkForLimiting=s=>{var i=s.text;if(i&&i.length)try{(JSON.parse(i).quota_limited||[]).forEach(o=>{Ra.info((o||"events")+" is quota limited."),this.serverLimits[o]=new Date().getTime()+6e4})}catch(o){return void Ra.warn('could not rate limit - continuing. Error: "'+(o==null?void 0:o.message)+'"',{text:i})}},this.instance=e,this.captureEventsPerSecond=((r=e.config.rate_limiting)==null?void 0:r.events_per_second)||10,this.captureEventsBurstLimit=Math.max(((n=e.config.rate_limiting)==null?void 0:n.events_burst_limit)||10*this.captureEventsPerSecond,this.captureEventsPerSecond),this.lastEventRateLimited=this.clientRateLimitContext(!0).isRateLimited}clientRateLimitContext(e){var r,n,s;e===void 0&&(e=!1);var i=new Date().getTime(),o=(r=(n=this.instance.persistence)==null?void 0:n.get_property(si))!==null&&r!==void 0?r:{tokens:this.captureEventsBurstLimit,last:i};o.tokens+=(i-o.last)/1e3*this.captureEventsPerSecond,o.last=i,o.tokens>this.captureEventsBurstLimit&&(o.tokens=this.captureEventsBurstLimit);var a=o.tokens<1;return a||e||(o.tokens=Math.max(0,o.tokens-1)),!a||this.lastEventRateLimited||e||this.instance.capture("$$client_ingestion_warning",{$$client_ingestion_warning_message:"posthog-js client rate limited. Config is set to "+this.captureEventsPerSecond+" events per second and "+this.captureEventsBurstLimit+" events burst limit."},{skip_client_rate_limiting:!0}),this.lastEventRateLimited=a,(s=this.instance.persistence)==null||s.set_property(si,o),{isRateLimited:a,remainingTokens:o.tokens}}isServerRateLimited(e){var r=this.serverLimits[e||"events"]||!1;return r!==!1&&new Date().getTime()<r}}var Tt=ve("[RemoteConfig]");class lg{constructor(e){this._instance=e}get remoteConfig(){var e;return(e=$._POSTHOG_REMOTE_CONFIG)==null||(e=e[this._instance.config.token])==null?void 0:e.config}mr(e){var r,n;(r=$.__PosthogExtensions__)!=null&&r.loadExternalDependency?(n=$.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this._instance,"remote-config",()=>e(this.remoteConfig)):(Tt.error("PostHog Extensions not found. Cannot load remote config."),e())}br(e){this._instance.Pe({method:"GET",url:this._instance.requestRouter.endpointFor("assets","/array/"+this._instance.config.token+"/config"),callback:r=>{e(r.json)}})}load(){try{if(this.remoteConfig)return Tt.info("Using preloaded remote config",this.remoteConfig),void this.Re(this.remoteConfig);if(this._instance.I())return void Tt.warn("Remote config is disabled. Falling back to local config.");this.mr(e=>{if(!e)return Tt.info("No config found after loading remote JS config. Falling back to JSON."),void this.br(r=>{this.Re(r)});this.Re(e)})}catch(e){Tt.error("Error loading remote config",e)}}Re(e){e?this._instance.config.__preview_remote_config?(this._instance.Re(e),e.hasFeatureFlags!==!1&&this._instance.featureFlags.ensureFlagsLoaded()):Tt.info("__preview_remote_config is disabled. Logging config instead",e):Tt.error("Failed to fetch remote config from PostHog.")}}var yi=3e3;class cg{constructor(e,r){this.yr=!0,this.wr=[],this.Sr=Le((r==null?void 0:r.flush_interval_ms)||yi,250,5e3,"flush interval",yi),this.$r=e}enqueue(e){this.wr.push(e),this.kr||this.Er()}unload(){this.Ir();var e=this.wr.length>0?this.Pr():{},r=Object.values(e);[...r.filter(n=>n.url.indexOf("/e")===0),...r.filter(n=>n.url.indexOf("/e")!==0)].map(n=>{this.$r(I({},n,{transport:"sendBeacon"}))})}enable(){this.yr=!1,this.Er()}Er(){var e=this;this.yr||(this.kr=setTimeout(()=>{if(this.Ir(),this.wr.length>0){var r=this.Pr(),n=function(){var i=r[s],o=new Date().getTime();i.data&&Q(i.data)&&Y(i.data,a=>{a.offset=Math.abs(a.timestamp-o),delete a.timestamp}),e.$r(i)};for(var s in r)n()}},this.Sr))}Ir(){clearTimeout(this.kr),this.kr=void 0}Pr(){var e={};return Y(this.wr,r=>{var n,s=r,i=(s?s.batchKey:null)||s.url;P(e[i])&&(e[i]=I({},s,{data:[]})),(n=e[i].data)==null||n.push(s.data)}),this.wr=[],e}}var ug=["retriesPerformedSoFar"];class dg{constructor(e){this.Rr=!1,this.Tr=3e3,this.wr=[],this._instance=e,this.wr=[],this.Cr=!0,!P(b)&&"onLine"in b.navigator&&(this.Cr=b.navigator.onLine,oe(b,"online",()=>{this.Cr=!0,this.se()}),oe(b,"offline",()=>{this.Cr=!1}))}get length(){return this.wr.length}retriableRequest(e){var{retriesPerformedSoFar:r}=e,n=Ll(e,ug);we(r)&&r>0&&(n.url=Pn(n.url,{retry_count:r})),this._instance.Pe(I({},n,{callback:s=>{s.statusCode!==200&&(s.statusCode<400||s.statusCode>=500)&&(r??0)<10?this.Mr(I({retriesPerformedSoFar:r},n)):n.callback==null||n.callback(s)}}))}Mr(e){var r=e.retriesPerformedSoFar||0;e.retriesPerformedSoFar=r+1;var n=function(o){var a=3e3*Math.pow(2,o),l=a/2,c=Math.min(18e5,a),u=(Math.random()-.5)*(c-l);return Math.ceil(c+u)}(r),s=Date.now()+n;this.wr.push({retryAt:s,requestOptions:e});var i="Enqueued failed request for retry in "+n;navigator.onLine||(i+=" (Browser is offline)"),O.warn(i),this.Rr||(this.Rr=!0,this.Fr())}Fr(){this.Or&&clearTimeout(this.Or),this.Or=setTimeout(()=>{this.Cr&&this.wr.length>0&&this.se(),this.Fr()},this.Tr)}se(){var e=Date.now(),r=[],n=this.wr.filter(i=>i.retryAt<e||(r.push(i),!1));if(this.wr=r,n.length>0)for(var{requestOptions:s}of n)this.retriableRequest(s)}unload(){for(var{requestOptions:e}of(this.Or&&(clearTimeout(this.Or),this.Or=void 0),this.wr))try{this._instance.Pe(I({},e,{transport:"sendBeacon"}))}catch(r){O.error(r)}this.wr=[]}}class hg{constructor(e){this.Ar=()=>{var r,n,s,i;this.Dr||(this.Dr={});var o=this.scrollElement(),a=this.scrollY(),l=o?Math.max(0,o.scrollHeight-o.clientHeight):0,c=a+((o==null?void 0:o.clientHeight)||0),u=(o==null?void 0:o.scrollHeight)||0;this.Dr.lastScrollY=Math.ceil(a),this.Dr.maxScrollY=Math.max(a,(r=this.Dr.maxScrollY)!==null&&r!==void 0?r:0),this.Dr.maxScrollHeight=Math.max(l,(n=this.Dr.maxScrollHeight)!==null&&n!==void 0?n:0),this.Dr.lastContentY=c,this.Dr.maxContentY=Math.max(c,(s=this.Dr.maxContentY)!==null&&s!==void 0?s:0),this.Dr.maxContentHeight=Math.max(u,(i=this.Dr.maxContentHeight)!==null&&i!==void 0?i:0)},this._instance=e}getContext(){return this.Dr}resetContext(){var e=this.Dr;return setTimeout(this.Ar,0),e}startMeasuringScrollPosition(){oe(b,"scroll",this.Ar,{capture:!0}),oe(b,"scrollend",this.Ar,{capture:!0}),oe(b,"resize",this.Ar)}scrollElement(){if(!this._instance.config.scroll_root_selector)return b==null?void 0:b.document.documentElement;var e=Q(this._instance.config.scroll_root_selector)?this._instance.config.scroll_root_selector:[this._instance.config.scroll_root_selector];for(var r of e){var n=b==null?void 0:b.document.querySelector(r);if(n)return n}}scrollY(){if(this._instance.config.scroll_root_selector){var e=this.scrollElement();return e&&e.scrollTop||0}return b&&(b.scrollY||b.pageYOffset||b.document.documentElement.scrollTop)||0}scrollX(){if(this._instance.config.scroll_root_selector){var e=this.scrollElement();return e&&e.scrollLeft||0}return b&&(b.scrollX||b.pageXOffset||b.document.documentElement.scrollLeft)||0}}var pg=t=>Lc(t==null?void 0:t.config.mask_personal_data_properties,t==null?void 0:t.config.custom_personal_data_properties);class Oa{constructor(e,r,n,s){this.jr=i=>{var o=this.Lr();if(!o||o.sessionId!==i){var a={sessionId:i,props:this.Nr(this._instance)};this.zr.register({[ni]:a})}},this._instance=e,this.Ur=r,this.zr=n,this.Nr=s||pg,this.Ur.onSessionId(this.jr)}Lr(){return this.zr.props[ni]}getSetOnceProps(){var e,r=(e=this.Lr())==null?void 0:e.props;return r?"r"in r?Uc(r):{$referring_domain:r.referringDomain,$pathname:r.initialPathName,utm_source:r.utm_source,utm_campaign:r.utm_campaign,utm_medium:r.utm_medium,utm_content:r.utm_content,utm_term:r.utm_term}:{}}getSessionProps(){var e={};return Y(Ai(this.getSetOnceProps()),(r,n)=>{n==="$current_url"&&(n="url"),e["$session_entry_"+Ks(n)]=r}),e}}var Ta=ve("[SessionId]");class Ma{constructor(e,r,n){var s;if(this.qr=[],this.Br=(u,h)=>Math.abs(u-h)>this.sessionTimeoutMs,!e.persistence)throw new Error("SessionIdManager requires a PostHogPersistence instance");if(e.config.cookieless_mode==="always")throw new Error('SessionIdManager cannot be used with cookieless_mode="always"');this.S=e.config,this.zr=e.persistence,this.fi=void 0,this.Mt=void 0,this._sessionStartTimestamp=null,this._sessionActivityTimestamp=null,this.Hr=r||kt,this.Wr=n||kt;var i=this.S.persistence_name||this.S.token,o=this.S.session_idle_timeout_seconds||1800;if(this._sessionTimeoutMs=1e3*Le(o,60,36e3,"session_idle_timeout_seconds",1800),e.register({$configured_session_timeout_ms:this._sessionTimeoutMs}),this.Gr(),this.Jr="ph_"+i+"_window_id",this.Vr="ph_"+i+"_primary_window_exists",this.Kr()){var a=_e.j(this.Jr),l=_e.j(this.Vr);a&&!l?this.fi=a:_e.N(this.Jr),_e.L(this.Vr,!0)}if((s=this.S.bootstrap)!=null&&s.sessionID)try{var c=(u=>{var h=u.replace(/-/g,"");if(h.length!==32)throw new Error("Not a valid UUID");if(h[12]!=="7")throw new Error("Not a UUIDv7");return parseInt(h.substring(0,12),16)})(this.S.bootstrap.sessionID);this.Yr(this.S.bootstrap.sessionID,new Date().getTime(),c)}catch(u){Ta.error("Invalid sessionID in bootstrap",u)}this.Xr()}get sessionTimeoutMs(){return this._sessionTimeoutMs}onSessionId(e){return P(this.qr)&&(this.qr=[]),this.qr.push(e),this.Mt&&e(this.Mt,this.fi),()=>{this.qr=this.qr.filter(r=>r!==e)}}Kr(){return this.S.persistence!=="memory"&&!this.zr.Ae&&_e.O()}Qr(e){e!==this.fi&&(this.fi=e,this.Kr()&&_e.L(this.Jr,e))}Zr(){return this.fi?this.fi:this.Kr()?_e.j(this.Jr):null}Yr(e,r,n){e===this.Mt&&r===this._sessionActivityTimestamp&&n===this._sessionStartTimestamp||(this._sessionStartTimestamp=n,this._sessionActivityTimestamp=r,this.Mt=e,this.zr.register({[vn]:[r,e,n]}))}ts(){if(this.Mt&&this._sessionActivityTimestamp&&this._sessionStartTimestamp)return[this._sessionActivityTimestamp,this.Mt,this._sessionStartTimestamp];var e=this.zr.props[vn];return Q(e)&&e.length===2&&e.push(e[0]),e||[0,null,0]}resetSessionId(){this.Yr(null,null,null)}Xr(){oe(b,"beforeunload",()=>{this.Kr()&&_e.N(this.Vr)},{capture:!1})}checkAndGetSessionAndWindowId(e,r){if(e===void 0&&(e=!1),r===void 0&&(r=null),this.S.cookieless_mode==="always")throw new Error('checkAndGetSessionAndWindowId should not be called with cookieless_mode="always"');var n=r||new Date().getTime(),[s,i,o]=this.ts(),a=this.Zr(),l=we(o)&&o>0&&Math.abs(n-o)>864e5,c=!1,u=!i,h=!e&&this.Br(n,s);u||h||l?(i=this.Hr(),a=this.Wr(),Ta.info("new session ID generated",{sessionId:i,windowId:a,changeReason:{noSessionId:u,activityTimeout:h,sessionPastMaximumLength:l}}),o=n,c=!0):a||(a=this.Wr(),c=!0);var d=s===0||!e||l?n:s,p=o===0?new Date().getTime():o;return this.Qr(a),this.Yr(i,d,p),e||this.Gr(),c&&this.qr.forEach(g=>g(i,a,c?{noSessionId:u,activityTimeout:h,sessionPastMaximumLength:l}:void 0)),{sessionId:i,windowId:a,sessionStartTimestamp:p,changeReason:c?{noSessionId:u,activityTimeout:h,sessionPastMaximumLength:l}:void 0,lastActivityTimestamp:s}}Gr(){clearTimeout(this.es),this.es=setTimeout(()=>{var[e]=this.ts();this.Br(new Date().getTime(),e)&&this.resetSessionId()},1.1*this.sessionTimeoutMs)}}var fg=["$set_once","$set"],ft=ve("[SiteApps]");class gg{constructor(e){this._instance=e,this.rs=[],this.apps={}}get isEnabled(){return!!this._instance.config.opt_in_site_apps}ss(e,r){if(r){var n=this.globalsForEvent(r);this.rs.push(n),this.rs.length>1e3&&(this.rs=this.rs.slice(10))}}get siteAppLoaders(){var e;return(e=$._POSTHOG_REMOTE_CONFIG)==null||(e=e[this._instance.config.token])==null?void 0:e.siteApps}init(){if(this.isEnabled){var e=this._instance.Ve(this.ss.bind(this));this.ns=()=>{e(),this.rs=[],this.ns=void 0}}}globalsForEvent(e){var r,n,s,i,o,a,l;if(!e)throw new Error("Event payload is required");var c={},u=this._instance.get_property("$groups")||[],h=this._instance.get_property("$stored_group_properties")||{};for(var[d,p]of Object.entries(h))c[d]={id:u[d],type:d,properties:p};var{$set_once:g,$set:f}=e;return{event:I({},Ll(e,fg),{properties:I({},e.properties,f?{$set:I({},(r=(n=e.properties)==null?void 0:n.$set)!==null&&r!==void 0?r:{},f)}:{},g?{$set_once:I({},(s=(i=e.properties)==null?void 0:i.$set_once)!==null&&s!==void 0?s:{},g)}:{}),elements_chain:(o=(a=e.properties)==null?void 0:a.$elements_chain)!==null&&o!==void 0?o:"",distinct_id:(l=e.properties)==null?void 0:l.distinct_id}),person:{properties:this._instance.get_property("$stored_person_properties")},groups:c}}setupSiteApp(e){var r=this.apps[e.id],n=()=>{var a;!r.errored&&this.rs.length&&(ft.info("Processing "+this.rs.length+" events for site app with id "+e.id),this.rs.forEach(l=>r.processEvent==null?void 0:r.processEvent(l)),r.processedBuffer=!0),Object.values(this.apps).every(l=>l.processedBuffer||l.errored)&&((a=this.ns)==null||a.call(this))},s=!1,i=a=>{r.errored=!a,r.loaded=!0,ft.info("Site app with id "+e.id+" "+(a?"loaded":"errored")),s&&n()};try{var{processEvent:o}=e.init({posthog:this._instance,callback:a=>{i(a)}});o&&(r.processEvent=o),s=!0}catch(a){ft.error("Error while initializing PostHog app with config id "+e.id,a),i(!1)}if(s&&r.loaded)try{n()}catch(a){ft.error("Error while processing buffered events PostHog app with config id "+e.id,a),r.errored=!0}}os(){var e=this.siteAppLoaders||[];for(var r of e)this.apps[r.id]={id:r.id,loaded:!1,errored:!1,processedBuffer:!1};for(var n of e)this.setupSiteApp(n)}ls(e){if(Object.keys(this.apps).length!==0){var r=this.globalsForEvent(e);for(var n of Object.values(this.apps))try{n.processEvent==null||n.processEvent(r)}catch(s){ft.error("Error while processing event "+e.event+" for site app "+n.id,s)}}}onRemoteConfig(e){var r,n,s,i=this;if((r=this.siteAppLoaders)!=null&&r.length)return this.isEnabled?(this.os(),void this._instance.on("eventCaptured",c=>this.ls(c))):void ft.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.');if((n=this.ns)==null||n.call(this),(s=e.siteApps)!=null&&s.length)if(this.isEnabled){var o=function(c){var u;$["__$$ph_site_app_"+c]=i._instance,(u=$.__PosthogExtensions__)==null||u.loadSiteApp==null||u.loadSiteApp(i._instance,l,h=>{if(h)return ft.error("Error while initializing PostHog app with config id "+c,h)})};for(var{id:a,url:l}of e.siteApps)o(a)}else ft.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.')}}var vg=["amazonbot","amazonproductbot","app.hypefactors.com","applebot","archive.org_bot","awariobot","backlinksextendedbot","baiduspider","bingbot","bingpreview","chrome-lighthouse","dataforseobot","deepscan","duckduckbot","facebookexternal","facebookcatalog","http://yandex.com/bots","hubspot","ia_archiver","leikibot","linkedinbot","meta-externalagent","mj12bot","msnbot","nessus","petalbot","pinterest","prerender","rogerbot","screaming frog","sebot-wa","sitebulb","slackbot","slurp","trendictionbot","turnitin","twitterbot","vercel-screenshot","vercelbot","yahoo! slurp","yandexbot","zoombot","bot.htm","bot.php","(bot;","bot/","crawler","ahrefsbot","ahrefssiteaudit","semrushbot","siteauditbot","splitsignalbot","gptbot","oai-searchbot","chatgpt-user","perplexitybot","better uptime bot","sentryuptimebot","uptimerobot","headlesschrome","cypress","google-hoteladsverifier","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleother","google-cloudvertexbot","googleweblight","mediapartners-google","storebot-google","google-inspectiontool","bytespider"],Aa=function(t,e){if(!t)return!1;var r=t.toLowerCase();return vg.concat(e||[]).some(n=>{var s=n.toLowerCase();return r.indexOf(s)!==-1})},Wc=function(t,e){if(!t)return!1;var r=t.userAgent;if(r&&Aa(r,e))return!0;try{var n=t==null?void 0:t.userAgentData;if(n!=null&&n.brands&&n.brands.some(s=>Aa(s==null?void 0:s.brand,e)))return!0}catch{}return!!t.webdriver},kr=function(t){return t.US="us",t.EU="eu",t.CUSTOM="custom",t}({}),ja="i.posthog.com";class mg{constructor(e){this.us={},this.instance=e}get apiHost(){var e=this.instance.config.api_host.trim().replace(/\/$/,"");return e==="https://app.posthog.com"?"https://us.i.posthog.com":e}get uiHost(){var e,r=(e=this.instance.config.ui_host)==null?void 0:e.replace(/\/$/,"");return r||(r=this.apiHost.replace("."+ja,".posthog.com")),r==="https://app.posthog.com"?"https://us.posthog.com":r}get region(){return this.us[this.apiHost]||(/https:\/\/(app|us|us-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this.us[this.apiHost]=kr.US:/https:\/\/(eu|eu-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this.us[this.apiHost]=kr.EU:this.us[this.apiHost]=kr.CUSTOM),this.us[this.apiHost]}endpointFor(e,r){if(r===void 0&&(r=""),r&&(r=r[0]==="/"?r:"/"+r),e==="ui")return this.uiHost+r;if(this.region===kr.CUSTOM)return this.apiHost+r;var n=ja+r;switch(e){case"assets":return"https://"+this.region+"-assets."+n;case"api":return"https://"+this.region+"."+n}}}var _g={icontains:(t,e)=>!!b&&e.href.toLowerCase().indexOf(t.toLowerCase())>-1,not_icontains:(t,e)=>!!b&&e.href.toLowerCase().indexOf(t.toLowerCase())===-1,regex:(t,e)=>!!b&&rr(e.href,t),not_regex:(t,e)=>!!b&&!rr(e.href,t),exact:(t,e)=>e.href===t,is_not:(t,e)=>e.href!==t};class ye{constructor(e){var r=this;this.getWebExperimentsAndEvaluateDisplayLogic=function(n){n===void 0&&(n=!1),r.getWebExperiments(s=>{ye.hs("retrieved web experiments from the server"),r.ds=new Map,s.forEach(i=>{if(i.feature_flag_key){var o;r.ds&&(ye.hs("setting flag key ",i.feature_flag_key," to web experiment ",i),(o=r.ds)==null||o.set(i.feature_flag_key,i));var a=r._instance.getFeatureFlag(i.feature_flag_key);le(a)&&i.variants[a]&&r.vs(i.name,a,i.variants[a].transforms)}else if(i.variants)for(var l in i.variants){var c=i.variants[l];ye.cs(c)&&r.vs(i.name,l,c.transforms)}})},n)},this._instance=e,this._instance.onFeatureFlags(n=>{this.onFeatureFlags(n)})}onFeatureFlags(e){if(this._is_bot())ye.hs("Refusing to render web experiment since the viewer is a likely bot");else if(!this._instance.config.disable_web_experiments){if(H(this.ds))return this.ds=new Map,this.loadIfEnabled(),void this.previewWebExperiment();ye.hs("applying feature flags",e),e.forEach(r=>{var n;if(this.ds&&(n=this.ds)!=null&&n.has(r)){var s,i=this._instance.getFeatureFlag(r),o=(s=this.ds)==null?void 0:s.get(r);i&&o!=null&&o.variants[i]&&this.vs(o.name,i,o.variants[i].transforms)}})}}previewWebExperiment(){var e=ye.getWindowLocation();if(e!=null&&e.search){var r=wn(e==null?void 0:e.search,"__experiment_id"),n=wn(e==null?void 0:e.search,"__experiment_variant");r&&n&&(ye.hs("previewing web experiments "+r+" && "+n),this.getWebExperiments(s=>{this.fs(parseInt(r),n,s)},!1,!0))}}loadIfEnabled(){this._instance.config.disable_web_experiments||this.getWebExperimentsAndEvaluateDisplayLogic()}getWebExperiments(e,r,n){if(this._instance.config.disable_web_experiments&&!n)return e([]);var s=this._instance.get_property("$web_experiments");if(s&&!r)return e(s);this._instance.Pe({url:this._instance.requestRouter.endpointFor("api","/api/web_experiments/?token="+this._instance.config.token),method:"GET",callback:i=>{if(i.statusCode!==200||!i.json)return e([]);var o=i.json.experiments||[];return e(o)}})}fs(e,r,n){var s=n.filter(i=>i.id===e);s&&s.length>0&&(ye.hs("Previewing web experiment ["+s[0].name+"] with variant ["+r+"]"),this.vs(s[0].name,r,s[0].variants[r].transforms))}static cs(e){return!H(e.conditions)&&ye.ps(e)&&ye._s(e)}static ps(e){var r;if(H(e.conditions)||H((r=e.conditions)==null?void 0:r.url))return!0;var n,s,i,o=ye.getWindowLocation();return!!o&&((n=e.conditions)==null||!n.url||_g[(s=(i=e.conditions)==null?void 0:i.urlMatchType)!==null&&s!==void 0?s:"icontains"](e.conditions.url,o))}static getWindowLocation(){return b==null?void 0:b.location}static _s(e){var r;if(H(e.conditions)||H((r=e.conditions)==null?void 0:r.utm))return!0;var n=jc();if(n.utm_source){var s,i,o,a,l,c,u,h,d=(s=e.conditions)==null||(s=s.utm)==null||!s.utm_campaign||((i=e.conditions)==null||(i=i.utm)==null?void 0:i.utm_campaign)==n.utm_campaign,p=(o=e.conditions)==null||(o=o.utm)==null||!o.utm_source||((a=e.conditions)==null||(a=a.utm)==null?void 0:a.utm_source)==n.utm_source,g=(l=e.conditions)==null||(l=l.utm)==null||!l.utm_medium||((c=e.conditions)==null||(c=c.utm)==null?void 0:c.utm_medium)==n.utm_medium,f=(u=e.conditions)==null||(u=u.utm)==null||!u.utm_term||((h=e.conditions)==null||(h=h.utm)==null?void 0:h.utm_term)==n.utm_term;return d&&g&&f&&p}return!1}static hs(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];O.info("[WebExperiments] "+e,n)}vs(e,r,n){this._is_bot()?ye.hs("Refusing to render web experiment since the viewer is a likely bot"):r!=="control"?n.forEach(s=>{if(s.selector){var i;ye.hs("applying transform of variant "+r+" for experiment "+e+" ",s);var o=(i=document)==null?void 0:i.querySelectorAll(s.selector);o==null||o.forEach(a=>{var l=a;s.html&&(l.innerHTML=s.html),s.css&&l.setAttribute("style",s.css)})}}):ye.hs("Control variants leave the page unmodified.")}_is_bot(){return $e&&this._instance?Wc($e,this._instance.config.custom_blocked_useragents):void 0}}var bg=ve("[PostHog ExternalIntegrations]"),yg={intercom:"intercom-integration",crispChat:"crisp-chat-integration"};class wg{constructor(e){this._instance=e}J(e,r){var n;(n=$.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this._instance,e,s=>{if(s)return bg.error("failed to load script",s);r()})}startIfEnabledOrStop(){var e=this,r=function(o){var a,l,c;!s||(a=$.__PosthogExtensions__)!=null&&(a=a.integrations)!=null&&a[o]||e.J(yg[o],()=>{var u;(u=$.__PosthogExtensions__)==null||(u=u.integrations)==null||(u=u[o])==null||u.start(e._instance)}),!s&&(l=$.__PosthogExtensions__)!=null&&(l=l.integrations)!=null&&l[o]&&((c=$.__PosthogExtensions__)==null||(c=c.integrations)==null||(c=c[o])==null||c.stop())};for(var[n,s]of Object.entries((i=this._instance.config.integrations)!==null&&i!==void 0?i:{})){var i;r(n)}}}var Ir={},wi=()=>{},Bt="posthog",Bc=!Nf&&(Te==null?void 0:Te.indexOf("MSIE"))===-1&&(Te==null?void 0:Te.indexOf("Mozilla"))===-1,Fa=t=>{var e;return{api_host:"https://us.i.posthog.com",ui_host:null,token:"",autocapture:!0,rageclick:!0,cross_subdomain_cookie:fp(R==null?void 0:R.location),persistence:"localStorage+cookie",persistence_name:"",loaded:wi,save_campaign_params:!0,custom_campaign_params:[],custom_blocked_useragents:[],save_referrer:!0,capture_pageview:t!=="2025-05-24"||"history_change",capture_pageleave:"if_capture_pageview",defaults:t??"unset",debug:Me&&le(Me==null?void 0:Me.search)&&Me.search.indexOf("__posthog_debug=true")!==-1||!1,cookie_expiration:365,upgrade:!1,disable_session_recording:!1,disable_persistence:!1,disable_web_experiments:!0,disable_surveys:!1,disable_surveys_automatic_display:!1,disable_external_dependency_loading:!1,enable_recording_console_log:void 0,secure_cookie:(b==null||(e=b.location)==null?void 0:e.protocol)==="https:",ip:!1,opt_out_capturing_by_default:!1,opt_out_persistence_by_default:!1,opt_out_useragent_filter:!1,opt_out_capturing_persistence_type:"localStorage",consent_persistence_name:null,opt_out_capturing_cookie_prefix:null,opt_in_site_apps:!1,property_denylist:[],respect_dnt:!1,sanitize_properties:null,request_headers:{},request_batching:!0,properties_string_max_length:65535,session_recording:{},mask_all_element_attributes:!1,mask_all_text:!1,mask_personal_data_properties:!1,custom_personal_data_properties:[],advanced_disable_flags:!1,advanced_disable_decide:!1,advanced_disable_feature_flags:!1,advanced_disable_feature_flags_on_first_load:!1,advanced_only_evaluate_survey_feature_flags:!1,advanced_enable_surveys:!1,advanced_disable_toolbar_metrics:!1,feature_flag_request_timeout_ms:3e3,surveys_request_timeout_ms:1e4,on_request_error:r=>{var n="Bad HTTP status: "+r.statusCode+" "+r.text;O.error(n)},get_device_id:r=>r,capture_performance:void 0,name:"posthog",bootstrap:{},disable_compression:!1,session_idle_timeout_seconds:1800,person_profiles:"identified_only",before_send:void 0,request_queue_config:{flush_interval_ms:yi},error_tracking:{},_onCapture:wi}},Na=t=>{var e={};P(t.process_person)||(e.person_profiles=t.process_person),P(t.xhr_headers)||(e.request_headers=t.xhr_headers),P(t.cookie_name)||(e.persistence_name=t.cookie_name),P(t.disable_cookie)||(e.disable_persistence=t.disable_cookie),P(t.store_google)||(e.save_campaign_params=t.store_google),P(t.verbose)||(e.debug=t.verbose);var r=ce({},e,t);return Q(t.property_blacklist)&&(P(t.property_denylist)?r.property_denylist=t.property_blacklist:Q(t.property_denylist)?r.property_denylist=[...t.property_blacklist,...t.property_denylist]:O.error("Invalid value for property_denylist config: "+t.property_denylist)),r};class kg{constructor(){this.__forceAllowLocalhost=!1}get gs(){return this.__forceAllowLocalhost}set gs(e){O.error("WebPerformanceObserver is deprecated and has no impact on network capture. Use `_forceAllowLocalhostNetworkCapture` on `posthog.sessionRecording`"),this.__forceAllowLocalhost=e}}class Bn{get decideEndpointWasHit(){var e,r;return(e=(r=this.featureFlags)==null?void 0:r.hasLoadedFlags)!==null&&e!==void 0&&e}get flagsEndpointWasHit(){var e,r;return(e=(r=this.featureFlags)==null?void 0:r.hasLoadedFlags)!==null&&e!==void 0&&e}constructor(){this.webPerformance=new kg,this.bs=!1,this.version=lt.LIB_VERSION,this.ys=new zc,this._calculate_event_properties=this.calculateEventProperties.bind(this),this.config=Fa(),this.SentryIntegration=Cf,this.sentryIntegration=e=>function(r,n){var s=mc(r,n);return{name:vc,processEvent:i=>s(i)}}(this,e),this.__request_queue=[],this.__loaded=!1,this.analyticsDefaultEndpoint="/e/",this.ws=!1,this.Ss=null,this.$s=null,this.xs=null,this.featureFlags=new tg(this),this.toolbar=new If(this),this.scrollManager=new hg(this),this.pageViewManager=new jf(this),this.surveys=new og(this),this.experiments=new ye(this),this.exceptions=new Lf(this),this.rateLimiter=new ag(this),this.requestRouter=new mg(this),this.consent=new Np(this),this.externalIntegrations=new wg(this),this.people={set:(e,r,n)=>{var s=le(e)?{[e]:r}:e;this.setPersonProperties(s),n==null||n({})},set_once:(e,r,n)=>{var s=le(e)?{[e]:r}:e;this.setPersonProperties(void 0,s),n==null||n({})}},this.on("eventCaptured",e=>O.info('send "'+(e==null?void 0:e.event)+'"',e))}init(e,r,n){if(n&&n!==Bt){var s,i=(s=Ir[n])!==null&&s!==void 0?s:new Bn;return i._init(e,r,n),Ir[n]=i,Ir[Bt][n]=i,i}return this._init(e,r,n)}_init(e,r,n){var s,i;if(r===void 0&&(r={}),P(e)||Js(e))return O.critical("PostHog was initialized without a token. This likely indicates a misconfiguration. Please check the first argument passed to posthog.init()"),this;if(this.__loaded)return O.warn("You have already initialized PostHog! Re-initializing is a no-op"),this;this.__loaded=!0,this.config={},this.ks=r,this.Es=[],r.person_profiles&&(this.$s=r.person_profiles),this.set_config(ce({},Fa(r.defaults),Na(r),{name:n,token:e})),this.config.on_xhr_error&&O.error("on_xhr_error is deprecated. Use on_request_error instead"),this.compression=r.disable_compression?void 0:ct.GZipJS;var o=this.Is();this.persistence=new Es(this.config,o),this.sessionPersistence=this.config.persistence==="sessionStorage"||this.config.persistence==="memory"?this.persistence:new Es(I({},this.config,{persistence:"sessionStorage"}),o);var a=I({},this.persistence.props),l=I({},this.sessionPersistence.props);this.register({$initialization_time:new Date().toISOString()}),this.Ps=new cg(k=>this.Rs(k),this.config.request_queue_config),this.Ts=new dg(this),this.__request_queue=[];var c=this.config.cookieless_mode==="always"||this.config.cookieless_mode==="on_reject"&&this.consent.isExplicitlyOptedOut();if(c||(this.sessionManager=new Ma(this),this.sessionPropsManager=new Oa(this,this.sessionManager,this.persistence)),new Of(this).startIfEnabledOrStop(),this.siteApps=new gg(this),(s=this.siteApps)==null||s.init(),c||(this.sessionRecording=new ha(this),this.sessionRecording.startIfEnabledOrStop()),this.config.disable_scroll_properties||this.scrollManager.startMeasuringScrollPosition(),this.autocapture=new Ip(this),this.autocapture.startIfEnabled(),this.surveys.loadIfEnabled(),this.heatmaps=new Af(this),this.heatmaps.startIfEnabled(),this.webVitalsAutocapture=new Tf(this),this.exceptionObserver=new Up(this),this.exceptionObserver.startIfEnabled(),this.deadClicksAutocapture=new tc(this,Lp),this.deadClicksAutocapture.startIfEnabled(),this.historyAutocapture=new Qp(this),this.historyAutocapture.startIfEnabled(),lt.DEBUG=lt.DEBUG||this.config.debug,lt.DEBUG&&O.info("Starting in debug mode",{this:this,config:r,thisC:I({},this.config),p:a,s:l}),((i=r.bootstrap)==null?void 0:i.distinctID)!==void 0){var u,h,d=this.config.get_device_id(kt()),p=(u=r.bootstrap)!=null&&u.isIdentifiedID?d:r.bootstrap.distinctID;this.persistence.set_property(ot,(h=r.bootstrap)!=null&&h.isIdentifiedID?"identified":"anonymous"),this.register({distinct_id:r.bootstrap.distinctID,$device_id:p})}if(this.Cs()){var g,f,v=Object.keys(((g=r.bootstrap)==null?void 0:g.featureFlags)||{}).filter(k=>{var x;return!((x=r.bootstrap)==null||(x=x.featureFlags)==null||!x[k])}).reduce((k,x)=>{var E;return k[x]=((E=r.bootstrap)==null||(E=E.featureFlags)==null?void 0:E[x])||!1,k},{}),m=Object.keys(((f=r.bootstrap)==null?void 0:f.featureFlagPayloads)||{}).filter(k=>v[k]).reduce((k,x)=>{var E,T;return(E=r.bootstrap)!=null&&(E=E.featureFlagPayloads)!=null&&E[x]&&(k[x]=(T=r.bootstrap)==null||(T=T.featureFlagPayloads)==null?void 0:T[x]),k},{});this.featureFlags.receivedFeatureFlags({featureFlags:v,featureFlagPayloads:m})}if(c)this.register_once({distinct_id:or,$device_id:null},"");else if(!this.get_distinct_id()){var y=this.config.get_device_id(kt());this.register_once({distinct_id:y,$device_id:y},""),this.persistence.set_property(ot,"anonymous")}return oe(b,"onpagehide"in self?"pagehide":"unload",this._handle_unload.bind(this),{passive:!1}),this.toolbar.maybeLoadToolbar(),r.segment?Ef(this,()=>this.Ms()):this.Ms(),Be(this.config._onCapture)&&this.config._onCapture!==wi&&(O.warn("onCapture is deprecated. Please use `before_send` instead"),this.on("eventCaptured",k=>this.config._onCapture(k.event,k))),this.config.ip&&O.warn('The `ip` config option has NO EFFECT AT ALL and has been deprecated. Use a custom transformation or "Discard IP data" project setting instead. See https://posthog.com/tutorials/web-redact-properties#hiding-customer-ip-address for more information.'),this}Re(e){var r,n,s,i,o,a,l,c;if(!R||!R.body)return O.info("document not ready yet, trying again in 500 milliseconds..."),void setTimeout(()=>{this.Re(e)},500);this.compression=void 0,e.supportedCompression&&!this.config.disable_compression&&(this.compression=W(e.supportedCompression,ct.GZipJS)?ct.GZipJS:W(e.supportedCompression,ct.Base64)?ct.Base64:void 0),(r=e.analytics)!=null&&r.endpoint&&(this.analyticsDefaultEndpoint=e.analytics.endpoint),this.set_config({person_profiles:this.$s?this.$s:"identified_only"}),(n=this.siteApps)==null||n.onRemoteConfig(e),(s=this.sessionRecording)==null||s.onRemoteConfig(e),(i=this.autocapture)==null||i.onRemoteConfig(e),(o=this.heatmaps)==null||o.onRemoteConfig(e),this.surveys.onRemoteConfig(e),(a=this.webVitalsAutocapture)==null||a.onRemoteConfig(e),(l=this.exceptionObserver)==null||l.onRemoteConfig(e),this.exceptions.onRemoteConfig(e),(c=this.deadClicksAutocapture)==null||c.onRemoteConfig(e)}Ms(){try{this.config.loaded(this)}catch(e){O.critical("`loaded` function failed",e)}this.Fs(),this.config.capture_pageview&&setTimeout(()=>{this.consent.isOptedIn()&&this.Os()},1),new lg(this).load(),this.featureFlags.flags()}Fs(){var e;this.is_capturing()&&this.config.request_batching&&((e=this.Ps)==null||e.enable())}_dom_loaded(){this.is_capturing()&&St(this.__request_queue,e=>this.Rs(e)),this.__request_queue=[],this.Fs()}_handle_unload(){var e,r;this.config.request_batching?(this.As()&&this.capture("$pageleave"),(e=this.Ps)==null||e.unload(),(r=this.Ts)==null||r.unload()):this.As()&&this.capture("$pageleave",null,{transport:"sendBeacon"})}Pe(e){this.__loaded&&(Bc?this.__request_queue.push(e):this.rateLimiter.isServerRateLimited(e.batchKey)||(e.transport=e.transport||this.config.api_transport,e.url=Pn(e.url,{ip:this.config.ip?1:0}),e.headers=I({},this.config.request_headers),e.compression=e.compression==="best-available"?this.compression:e.compression,e.fetchOptions=e.fetchOptions||this.config.fetch_options,(r=>{var n,s,i,o=I({},r);o.timeout=o.timeout||6e4,o.url=Pn(o.url,{_:new Date().getTime().toString(),ver:lt.LIB_VERSION,compression:o.compression});var a=(n=o.transport)!==null&&n!==void 0?n:"fetch",l=(s=(i=Ul(Pr,c=>c.transport===a))==null?void 0:i.method)!==null&&s!==void 0?s:Pr[0].method;if(!l)throw new Error("No available transport method");l(o)})(I({},e,{callback:r=>{var n,s;this.rateLimiter.checkForLimiting(r),r.statusCode>=400&&((n=(s=this.config).on_request_error)==null||n.call(s,r)),e.callback==null||e.callback(r)}}))))}Rs(e){this.Ts?this.Ts.retriableRequest(e):this.Pe(e)}_execute_array(e){var r,n=[],s=[],i=[];St(e,a=>{a&&(r=a[0],Q(r)?i.push(a):Be(a)?a.call(this):Q(a)&&r==="alias"?n.push(a):Q(a)&&r.indexOf("capture")!==-1&&Be(this[r])?i.push(a):s.push(a))});var o=function(a,l){St(a,function(c){if(Q(c[0])){var u=l;Y(c,function(h){u=u[h[0]].apply(u,h.slice(1))})}else this[c[0]].apply(this,c.slice(1))},l)};o(n,this),o(s,this),o(i,this)}Cs(){var e,r;return((e=this.config.bootstrap)==null?void 0:e.featureFlags)&&Object.keys((r=this.config.bootstrap)==null?void 0:r.featureFlags).length>0||!1}push(e){this._execute_array([e])}capture(e,r,n){var s;if(this.__loaded&&this.persistence&&this.sessionPersistence&&this.Ps){if(this.is_capturing())if(!P(e)&&le(e)){if(this.config.opt_out_useragent_filter||!this._is_bot()){var i=n!=null&&n.skip_client_rate_limiting?void 0:this.rateLimiter.clientRateLimitContext();if(i==null||!i.isRateLimited){r!=null&&r.$current_url&&!le(r==null?void 0:r.$current_url)&&(O.error("Invalid `$current_url` property provided to `posthog.capture`. Input must be a string. Ignoring provided value."),r==null||delete r.$current_url),this.sessionPersistence.update_search_keyword(),this.config.save_campaign_params&&this.sessionPersistence.update_campaign_params(),this.config.save_referrer&&this.sessionPersistence.update_referrer_info(),(this.config.save_campaign_params||this.config.save_referrer)&&this.persistence.set_initial_person_info();var o=new Date,a=(n==null?void 0:n.timestamp)||o,l=kt(),c={uuid:l,event:e,properties:this.calculateEventProperties(e,r||{},a,l)};i&&(c.properties.$lib_rate_limit_remaining_tokens=i.remainingTokens),n!=null&&n.$set&&(c.$set=n==null?void 0:n.$set);var u,h=this.Ds(n==null?void 0:n.$set_once);if(h&&(c.$set_once=h),(c=hp(c,n!=null&&n._noTruncate?null:this.config.properties_string_max_length)).timestamp=a,P(n==null?void 0:n.timestamp)||(c.properties.$event_time_override_provided=!0,c.properties.$event_time_override_system_time=o),e===Ps.DISMISSED||e===Ps.SENT){var d=r==null?void 0:r[Pa.SURVEY_ID],p=r==null?void 0:r[Pa.SURVEY_ITERATION];u={id:d,current_iteration:p},localStorage.getItem(Ia(u))||localStorage.setItem(Ia(u),"true"),c.$set=I({},c.$set,{[ng({id:d,current_iteration:p},e===Ps.SENT?"responded":"dismissed")]:!0})}var g=I({},c.properties.$set,c.$set);if(Ht(g)||this.setPersonPropertiesForFlags(g),!H(this.config.before_send)){var f=this.js(c);if(!f)return;c=f}this.ys.emit("eventCaptured",c);var v={method:"POST",url:(s=n==null?void 0:n._url)!==null&&s!==void 0?s:this.requestRouter.endpointFor("api",this.analyticsDefaultEndpoint),data:c,compression:"best-available",batchKey:n==null?void 0:n._batchKey};return!this.config.request_batching||n&&(n==null||!n._batchKey)||n!=null&&n.send_instantly?this.Rs(v):this.Ps.enqueue(v),c}O.critical("This capture call is ignored due to client rate limiting.")}}else O.error("No event name provided to posthog.capture")}else O.uninitializedWarning("posthog.capture")}Ve(e){return this.on("eventCaptured",r=>e(r.event,r))}calculateEventProperties(e,r,n,s,i){if(n=n||new Date,!this.persistence||!this.sessionPersistence)return r;var o=i?void 0:this.persistence.remove_event_timer(e),a=I({},r);if(a.token=this.config.token,a.$config_defaults=this.config.defaults,(this.config.cookieless_mode=="always"||this.config.cookieless_mode=="on_reject"&&this.consent.isExplicitlyOptedOut())&&(a.$cookieless_mode=!0),e==="$snapshot"){var l=I({},this.persistence.properties(),this.sessionPersistence.properties());return a.distinct_id=l.distinct_id,(!le(a.distinct_id)&&!we(a.distinct_id)||Js(a.distinct_id))&&O.error("Invalid distinct_id for replay event. This indicates a bug in your implementation"),a}var c,u=Zf(this.config.mask_personal_data_properties,this.config.custom_personal_data_properties);if(this.sessionManager){var{sessionId:h,windowId:d}=this.sessionManager.checkAndGetSessionAndWindowId(i,n.getTime());a.$session_id=h,a.$window_id=d}this.sessionPropsManager&&ce(a,this.sessionPropsManager.getSessionProps());try{var p;this.sessionRecording&&ce(a,this.sessionRecording.sdkDebugProperties),a.$sdk_debug_retry_queue_size=(p=this.Ts)==null?void 0:p.length}catch(m){a.$sdk_debug_error_capturing_properties=String(m)}if(this.requestRouter.region===kr.CUSTOM&&(a.$lib_custom_api_host=this.config.api_host),c=e!=="$pageview"||i?e!=="$pageleave"||i?this.pageViewManager.doEvent():this.pageViewManager.doPageLeave(n):this.pageViewManager.doPageView(n,s),a=ce(a,c),e==="$pageview"&&R&&(a.title=R.title),!P(o)){var g=n.getTime()-o;a.$duration=parseFloat((g/1e3).toFixed(3))}Te&&this.config.opt_out_useragent_filter&&(a.$browser_type=this._is_bot()?"bot":"browser"),(a=ce({},u,this.persistence.properties(),this.sessionPersistence.properties(),a)).$is_identified=this._isIdentified(),Q(this.config.property_denylist)?Y(this.config.property_denylist,function(m){delete a[m]}):O.error("Invalid value for property_denylist config: "+this.config.property_denylist+" or property_blacklist config: "+this.config.property_blacklist);var f=this.config.sanitize_properties;f&&(O.error("sanitize_properties is deprecated. Use before_send instead"),a=f(a,e));var v=this.Ls();return a.$process_person_profile=v,v&&!i&&this.Ns("_calculate_event_properties"),a}Ds(e){var r;if(!this.persistence||!this.Ls()||this.bs)return e;var n=this.persistence.get_initial_props(),s=(r=this.sessionPropsManager)==null?void 0:r.getSetOnceProps(),i=ce({},n,s||{},e||{}),o=this.config.sanitize_properties;return o&&(O.error("sanitize_properties is deprecated. Use before_send instead"),i=o(i,"$set_once")),this.bs=!0,Ht(i)?void 0:i}register(e,r){var n;(n=this.persistence)==null||n.register(e,r)}register_once(e,r,n){var s;(s=this.persistence)==null||s.register_once(e,r,n)}register_for_session(e){var r;(r=this.sessionPersistence)==null||r.register(e)}unregister(e){var r;(r=this.persistence)==null||r.unregister(e)}unregister_for_session(e){var r;(r=this.sessionPersistence)==null||r.unregister(e)}zs(e,r){this.register({[e]:r})}getFeatureFlag(e,r){return this.featureFlags.getFeatureFlag(e,r)}getFeatureFlagPayload(e){var r=this.featureFlags.getFeatureFlagPayload(e);try{return JSON.parse(r)}catch{return r}}isFeatureEnabled(e,r){return this.featureFlags.isFeatureEnabled(e,r)}reloadFeatureFlags(){this.featureFlags.reloadFeatureFlags()}updateEarlyAccessFeatureEnrollment(e,r,n){this.featureFlags.updateEarlyAccessFeatureEnrollment(e,r,n)}getEarlyAccessFeatures(e,r,n){return r===void 0&&(r=!1),this.featureFlags.getEarlyAccessFeatures(e,r,n)}on(e,r){return this.ys.on(e,r)}onFeatureFlags(e){return this.featureFlags.onFeatureFlags(e)}onSurveysLoaded(e){return this.surveys.onSurveysLoaded(e)}onSessionId(e){var r,n;return(r=(n=this.sessionManager)==null?void 0:n.onSessionId(e))!==null&&r!==void 0?r:()=>{}}getSurveys(e,r){r===void 0&&(r=!1),this.surveys.getSurveys(e,r)}getActiveMatchingSurveys(e,r){r===void 0&&(r=!1),this.surveys.getActiveMatchingSurveys(e,r)}renderSurvey(e,r){this.surveys.renderSurvey(e,r)}canRenderSurvey(e){return this.surveys.canRenderSurvey(e)}canRenderSurveyAsync(e,r){return r===void 0&&(r=!1),this.surveys.canRenderSurveyAsync(e,r)}identify(e,r,n){if(!this.__loaded||!this.persistence)return O.uninitializedWarning("posthog.identify");if(we(e)&&(e=e.toString(),O.warn("The first argument to posthog.identify was a number, but it should be a string. It has been converted to a string.")),e)if(["distinct_id","distinctid"].includes(e.toLowerCase()))O.critical('The string "'+e+'" was set in posthog.identify which indicates an error. This ID should be unique to the user and not a hardcoded string.');else if(e!==or){if(this.Ns("posthog.identify")){var s=this.get_distinct_id();if(this.register({$user_id:e}),!this.get_property("$device_id")){var i=s;this.register_once({$had_persisted_distinct_id:!0,$device_id:i},"")}e!==s&&e!==this.get_property(fr)&&(this.unregister(fr),this.register({distinct_id:e}));var o=(this.persistence.get_property(ot)||"anonymous")==="anonymous";e!==s&&o?(this.persistence.set_property(ot,"identified"),this.setPersonPropertiesForFlags(I({},n||{},r||{}),!1),this.capture("$identify",{distinct_id:e,$anon_distinct_id:s},{$set:r||{},$set_once:n||{}}),this.xs=_a(e,r,n),this.featureFlags.setAnonymousDistinctId(s)):(r||n)&&this.setPersonProperties(r,n),e!==s&&(this.reloadFeatureFlags(),this.unregister(mn))}}else O.critical('The string "'+or+'" was set in posthog.identify which indicates an error. This ID is only used as a sentinel value.');else O.error("Unique user id has not been set in posthog.identify")}setPersonProperties(e,r){if((e||r)&&this.Ns("posthog.setPersonProperties")){var n=_a(this.get_distinct_id(),e,r);this.xs!==n?(this.setPersonPropertiesForFlags(I({},r||{},e||{})),this.capture("$set",{$set:e||{},$set_once:r||{}}),this.xs=n):O.info("A duplicate setPersonProperties call was made with the same properties. It has been ignored.")}}group(e,r,n){if(e&&r){if(this.Ns("posthog.group")){var s=this.getGroups();s[e]!==r&&this.resetGroupPropertiesForFlags(e),this.register({$groups:I({},s,{[e]:r})}),n&&(this.capture("$groupidentify",{$group_type:e,$group_key:r,$group_set:n}),this.setGroupPropertiesForFlags({[e]:n})),s[e]===r||n||this.reloadFeatureFlags()}}else O.error("posthog.group requires a group type and group key")}resetGroups(){this.register({$groups:{}}),this.resetGroupPropertiesForFlags(),this.reloadFeatureFlags()}setPersonPropertiesForFlags(e,r){r===void 0&&(r=!0),this.featureFlags.setPersonPropertiesForFlags(e,r)}resetPersonPropertiesForFlags(){this.featureFlags.resetPersonPropertiesForFlags()}setGroupPropertiesForFlags(e,r){r===void 0&&(r=!0),this.Ns("posthog.setGroupPropertiesForFlags")&&this.featureFlags.setGroupPropertiesForFlags(e,r)}resetGroupPropertiesForFlags(e){this.featureFlags.resetGroupPropertiesForFlags(e)}reset(e){var r,n,s,i;if(O.info("reset"),!this.__loaded)return O.uninitializedWarning("posthog.reset");var o=this.get_property("$device_id");if(this.consent.reset(),(r=this.persistence)==null||r.clear(),(n=this.sessionPersistence)==null||n.clear(),this.surveys.reset(),this.featureFlags.reset(),(s=this.persistence)==null||s.set_property(ot,"anonymous"),(i=this.sessionManager)==null||i.resetSessionId(),this.xs=null,this.config.cookieless_mode==="always")this.register_once({distinct_id:or,$device_id:null},"");else{var a=this.config.get_device_id(kt());this.register_once({distinct_id:a,$device_id:e?a:o},"")}this.register({$last_posthog_reset:new Date().toISOString()},1)}get_distinct_id(){return this.get_property("distinct_id")}getGroups(){return this.get_property("$groups")||{}}get_session_id(){var e,r;return(e=(r=this.sessionManager)==null?void 0:r.checkAndGetSessionAndWindowId(!0).sessionId)!==null&&e!==void 0?e:""}get_session_replay_url(e){if(!this.sessionManager)return"";var{sessionId:r,sessionStartTimestamp:n}=this.sessionManager.checkAndGetSessionAndWindowId(!0),s=this.requestRouter.endpointFor("ui","/project/"+this.config.token+"/replay/"+r);if(e!=null&&e.withTimestamp&&n){var i,o=(i=e.timestampLookBack)!==null&&i!==void 0?i:10;if(!n)return s;s+="?t="+Math.max(Math.floor((new Date().getTime()-n)/1e3)-o,0)}return s}alias(e,r){return e===this.get_property(Dl)?(O.critical("Attempting to create alias for existing People user - aborting."),-2):this.Ns("posthog.alias")?(P(r)&&(r=this.get_distinct_id()),e!==r?(this.zs(fr,e),this.capture("$create_alias",{alias:e,distinct_id:r})):(O.warn("alias matches current distinct_id - skipping api call."),this.identify(e),-1)):void 0}set_config(e){var r=I({},this.config);if(ae(e)){var n,s,i,o,a;ce(this.config,Na(e));var l=this.Is();(n=this.persistence)==null||n.update_config(this.config,r,l),this.sessionPersistence=this.config.persistence==="sessionStorage"||this.config.persistence==="memory"?this.persistence:new Es(I({},this.config,{persistence:"sessionStorage"}),l),fe.O()&&fe.D("ph_debug")==="true"&&(this.config.debug=!0),this.config.debug&&(lt.DEBUG=!0,O.info("set_config",{config:e,oldConfig:r,newConfig:I({},this.config)})),(s=this.sessionRecording)==null||s.startIfEnabledOrStop(),(i=this.autocapture)==null||i.startIfEnabled(),(o=this.heatmaps)==null||o.startIfEnabled(),this.surveys.loadIfEnabled(),this.Us(),(a=this.externalIntegrations)==null||a.startIfEnabledOrStop()}}startSessionRecording(e){var r=e===!0,n={sampling:r||!(e==null||!e.sampling),linked_flag:r||!(e==null||!e.linked_flag),url_trigger:r||!(e==null||!e.url_trigger),event_trigger:r||!(e==null||!e.event_trigger)};if(Object.values(n).some(Boolean)){var s,i,o,a,l;(s=this.sessionManager)==null||s.checkAndGetSessionAndWindowId(),n.sampling&&((i=this.sessionRecording)==null||i.overrideSampling()),n.linked_flag&&((o=this.sessionRecording)==null||o.overrideLinkedFlag()),n.url_trigger&&((a=this.sessionRecording)==null||a.overrideTrigger("url")),n.event_trigger&&((l=this.sessionRecording)==null||l.overrideTrigger("event"))}this.set_config({disable_session_recording:!1})}stopSessionRecording(){this.set_config({disable_session_recording:!0})}sessionRecordingStarted(){var e;return!((e=this.sessionRecording)==null||!e.started)}captureException(e,r){var n=new Error("PostHog syntheticException");return this.exceptions.sendExceptionEvent(I({},Zp((s=>s instanceof Error)(e)?{error:e,event:e.message}:{event:e},{syntheticException:n}),r))}loadToolbar(e){return this.toolbar.loadToolbar(e)}get_property(e){var r;return(r=this.persistence)==null?void 0:r.props[e]}getSessionProperty(e){var r;return(r=this.sessionPersistence)==null?void 0:r.props[e]}toString(){var e,r=(e=this.config.name)!==null&&e!==void 0?e:Bt;return r!==Bt&&(r=Bt+"."+r),r}_isIdentified(){var e,r;return((e=this.persistence)==null?void 0:e.get_property(ot))==="identified"||((r=this.sessionPersistence)==null?void 0:r.get_property(ot))==="identified"}Ls(){var e,r;return!(this.config.person_profiles==="never"||this.config.person_profiles==="identified_only"&&!this._isIdentified()&&Ht(this.getGroups())&&((e=this.persistence)==null||(e=e.props)==null||!e[fr])&&((r=this.persistence)==null||(r=r.props)==null||!r[bn]))}As(){return this.config.capture_pageleave===!0||this.config.capture_pageleave==="if_capture_pageview"&&(this.config.capture_pageview===!0||this.config.capture_pageview==="history_change")}createPersonProfile(){this.Ls()||this.Ns("posthog.createPersonProfile")&&this.setPersonProperties({},{})}Ns(e){return this.config.person_profiles==="never"?(O.error(e+' was called, but process_person is set to "never". This call will be ignored.'),!1):(this.zs(bn,!0),!0)}Is(){if(this.config.cookieless_mode==="always")return!0;var e=this.consent.isOptedOut(),r=this.config.opt_out_persistence_by_default||this.config.cookieless_mode==="on_reject";return this.config.disable_persistence||e&&!!r}Us(){var e,r,n,s,i=this.Is();return((e=this.persistence)==null?void 0:e.Ae)!==i&&((n=this.persistence)==null||n.set_disabled(i)),((r=this.sessionPersistence)==null?void 0:r.Ae)!==i&&((s=this.sessionPersistence)==null||s.set_disabled(i)),i}opt_in_capturing(e){if(this.config.cookieless_mode!=="always"){var r;this.config.cookieless_mode==="on_reject"&&this.consent.isExplicitlyOptedOut()&&(this.reset(!0),this.sessionManager=new Ma(this),this.persistence&&(this.sessionPropsManager=new Oa(this,this.sessionManager,this.persistence)),this.sessionRecording=new ha(this),this.sessionRecording.startIfEnabledOrStop()),this.consent.optInOut(!0),this.Us(),(P(e==null?void 0:e.captureEventName)||e!=null&&e.captureEventName)&&this.capture((r=e==null?void 0:e.captureEventName)!==null&&r!==void 0?r:"$opt_in",e==null?void 0:e.captureProperties,{send_instantly:!0}),this.config.capture_pageview&&this.Os()}else O.warn('Consent opt in/out is not valid with cookieless_mode="always" and will be ignored')}opt_out_capturing(){var e;this.config.cookieless_mode!=="always"?(this.config.cookieless_mode==="on_reject"&&this.consent.isOptedIn()&&this.reset(!0),this.consent.optInOut(!1),this.Us(),this.config.cookieless_mode==="on_reject"&&(this.register({distinct_id:or,$device_id:null}),this.sessionManager=void 0,this.sessionPropsManager=void 0,(e=this.sessionRecording)==null||e.stopRecording(),this.sessionRecording=void 0,this.Os())):O.warn('Consent opt in/out is not valid with cookieless_mode="always" and will be ignored')}has_opted_in_capturing(){return this.consent.isOptedIn()}has_opted_out_capturing(){return this.consent.isOptedOut()}is_capturing(){return this.config.cookieless_mode==="always"||(this.config.cookieless_mode==="on_reject"?this.consent.isExplicitlyOptedOut()||this.consent.isOptedIn():!this.has_opted_out_capturing())}clear_opt_in_out_capturing(){this.consent.reset(),this.Us()}_is_bot(){return $e?Wc($e,this.config.custom_blocked_useragents):void 0}Os(){R&&(R.visibilityState==="visible"?this.ws||(this.ws=!0,this.capture("$pageview",{title:R.title},{send_instantly:!0}),this.Ss&&(R.removeEventListener("visibilitychange",this.Ss),this.Ss=null)):this.Ss||(this.Ss=this.Os.bind(this),oe(R,"visibilitychange",this.Ss)))}debug(e){e===!1?(b==null||b.console.log("You've disabled debug mode."),localStorage&&localStorage.removeItem("ph_debug"),this.set_config({debug:!1})):(b==null||b.console.log("You're now in debug mode. All calls to PostHog will be logged in your console.\nYou can disable this with `posthog.debug(false)`."),localStorage&&localStorage.setItem("ph_debug","true"),this.set_config({debug:!0}))}I(){var e,r,n,s,i,o,a,l=this.ks||{};return"advanced_disable_flags"in l?!!l.advanced_disable_flags:this.config.advanced_disable_flags!==!1?!!this.config.advanced_disable_flags:this.config.advanced_disable_decide===!0?(O.warn("Config field 'advanced_disable_decide' is deprecated. Please use 'advanced_disable_flags' instead. The old field will be removed in a future major version."),!0):(n="advanced_disable_decide",s=!1,i=O,o=(r="advanced_disable_flags")in(e=l)&&!P(e[r]),a=n in e&&!P(e[n]),o?e[r]:a?(i&&i.warn("Config field '"+n+"' is deprecated. Please use '"+r+"' instead. The old field will be removed in a future major version."),e[n]):s)}js(e){if(H(this.config.before_send))return e;var r=Q(this.config.before_send)?this.config.before_send:[this.config.before_send],n=e;for(var s of r){if(n=s(n),H(n)){var i="Event '"+e.event+"' was rejected in beforeSend function";return cp(e.event)?O.warn(i+". This can cause unexpected behavior."):O.info(i),null}n.properties&&!Ht(n.properties)||O.warn("Event '"+e.event+"' has no properties after beforeSend function, this is likely an error.")}return n}getPageViewId(){var e;return(e=this.pageViewManager.ce)==null?void 0:e.pageViewId}captureTraceFeedback(e,r){this.capture("$ai_feedback",{$ai_trace_id:String(e),$ai_feedback_text:r})}captureTraceMetric(e,r,n){this.capture("$ai_metric",{$ai_trace_id:String(e),$ai_metric_name:r,$ai_metric_value:String(n)})}}(function(t,e){for(var r=0;r<e.length;r++)t.prototype[e[r]]=dp(t.prototype[e[r]])})(Bn,["identify"]);var $a,qt=($a=Ir[Bt]=new Bn,function(){function t(){t.done||(t.done=!0,Bc=!1,Y(Ir,function(e){e._dom_loaded()}))}R!=null&&R.addEventListener?R.readyState==="complete"?t():oe(R,"DOMContentLoaded",t,{capture:!1}):b&&O.error("Browser doesn't support `document.addEventListener` so PostHog couldn't be initialized")}(),$a),Gi=w.createContext({client:qt});function qc(t,e,r){if(r===void 0&&(r=new WeakMap),t===e)return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(r.has(t)&&r.get(t)===e)return!0;r.set(t,e);var n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;for(var i=0,o=n;i<o.length;i++){var a=o[i];if(!s.includes(a)||!qc(t[a],e[a],r))return!1}return!0}function Sg(t){var e=t.children,r=t.client,n=t.apiKey,s=t.options,i=w.useRef(null),o=w.useMemo(function(){return r?(n&&console.warn("[PostHog.js] You have provided both `client` and `apiKey` to `PostHogProvider`. `apiKey` will be ignored in favour of `client`."),s&&console.warn("[PostHog.js] You have provided both `client` and `options` to `PostHogProvider`. `options` will be ignored in favour of `client`."),r):(n||console.warn("[PostHog.js] No `apiKey` or `client` were provided to `PostHogProvider`. Using default global `window.posthog` instance. You must initialize it manually. This is not recommended behavior."),qt)},[r,n,JSON.stringify(s)]);return w.useEffect(function(){if(!r){var a=i.current;a?(n!==a.apiKey&&console.warn("[PostHog.js] You have provided a different `apiKey` to `PostHogProvider` than the one that was already initialized. This is not supported by our provider and we'll keep using the previous key. If you need to toggle between API Keys you need to control the `client` yourself and pass it in as a prop rather than an `apiKey` prop."),s&&!qc(s,a.options)&&qt.set_config(s),i.current={apiKey:n,options:s??{}}):(qt.__loaded&&console.warn("[PostHog.js] `posthog` was already loaded elsewhere. This may cause issues."),qt.init(n,s),i.current={apiKey:n,options:s??{}})}},[r,n,JSON.stringify(s)]),_.createElement(Gi.Provider,{value:{client:o}},e)}var xg=function(){var t=w.useContext(Gi).client;return t},ki=function(t,e){return ki=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},ki(t,e)};function Eg(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");ki(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Is=function(t){return typeof t=="function"},Cg={componentStack:null,exceptionEvent:null,error:null},Pg={INVALID_FALLBACK:"[PostHog.js][PostHogErrorBoundary] Invalid fallback prop, provide a valid React element or a function that returns a valid React element."};(function(t){Eg(e,t);function e(r){var n=t.call(this,r)||this;return n.state=Cg,n}return e.prototype.componentDidCatch=function(r,n){var s=this.props.additionalProperties,i;Is(s)?i=s(r):typeof s=="object"&&(i=s);var o=this.context.client,a=o.captureException(r,i),l=n.componentStack;this.setState({error:r,componentStack:l,exceptionEvent:a})},e.prototype.render=function(){var r=this.props,n=r.children,s=r.fallback,i=this.state;if(i.componentStack==null)return Is(n)?n():n;var o=Is(s)?_.createElement(s,{error:i.error,componentStack:i.componentStack,exceptionEvent:i.exceptionEvent}):s;return _.isValidElement(o)?o:(console.warn(Pg.INVALID_FALLBACK),_.createElement(_.Fragment,null))},e.contextType=Gi,e})(_.Component);function Hc(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(r=Hc(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Vc(){for(var t,e,r=0,n="",s=arguments.length;r<s;r++)(t=arguments[r])&&(e=Hc(t))&&(n&&(n+=" "),n+=e);return n}const La=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Ua=Vc,Ig=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return Ua(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const u=r==null?void 0:r[c],h=i==null?void 0:i[c];if(u===null)return null;const d=La(u)||La(h);return s[c][d]}),a=r&&Object.entries(r).reduce((c,u)=>{let[h,d]=u;return d===void 0||(c[h]=d),c},{}),l=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((c,u)=>{let{class:h,className:d,...p}=u;return Object.entries(p).every(g=>{let[f,v]=g;return Array.isArray(v)?v.includes({...i,...a}[f]):{...i,...a}[f]===v})?[...c,h,d]:c},[]);return Ua(t,o,l,r==null?void 0:r.class,r==null?void 0:r.className)},Ki="-",Rg=t=>{const e=Tg(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{const a=o.split(Ki);return a[0]===""&&a.length!==1&&a.shift(),Gc(a,e)||Og(o)},getConflictingClassGroupIds:(o,a)=>{const l=r[o]||[];return a&&n[o]?[...l,...n[o]]:l}}},Gc=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),s=n?Gc(t.slice(1),n):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Ki);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},Da=/^\[(.+)\]$/,Og=t=>{if(Da.test(t)){const e=Da.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},Tg=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return Ag(Object.entries(t.classGroups),r).forEach(([i,o])=>{Si(o,n,i,e)}),n},Si=(t,e,r,n)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:za(e,s);i.classGroupId=r;return}if(typeof s=="function"){if(Mg(s)){Si(s(n),e,r,n);return}e.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,o])=>{Si(o,za(e,i),r,n)})})},za=(t,e)=>{let r=t;return e.split(Ki).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Mg=t=>t.isThemeGetter,Ag=(t,e)=>e?t.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[r,s]}):t,jg=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const s=(i,o)=>{r.set(i,o),e++,e>t&&(e=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return s(i,o),o},set(i,o){r.has(i)?r.set(i,o):s(i,o)}}},Kc="!",Fg=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let c=0,u=0,h;for(let v=0;v<a.length;v++){let m=a[v];if(c===0){if(m===s&&(n||a.slice(v,v+i)===e)){l.push(a.slice(u,v)),u=v+i;continue}if(m==="/"){h=v;continue}}m==="["?c++:m==="]"&&c--}const d=l.length===0?a:a.substring(u),p=d.startsWith(Kc),g=p?d.substring(1):d,f=h&&h>u?h-u:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:f}};return r?a=>r({className:a,parseClassName:o}):o},Ng=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},$g=t=>({cache:jg(t.cacheSize),parseClassName:Fg(t),...Rg(t)}),Lg=/\s+/,Ug=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(Lg);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:u,hasImportantModifier:h,baseClassName:d,maybePostfixModifierPosition:p}=r(c);let g=!!p,f=n(g?d.substring(0,p):d);if(!f){if(!g){a=c+(a.length>0?" "+a:a);continue}if(f=n(d),!f){a=c+(a.length>0?" "+a:a);continue}g=!1}const v=Ng(u).join(":"),m=h?v+Kc:v,y=m+f;if(i.includes(y))continue;i.push(y);const k=s(f,g);for(let x=0;x<k.length;++x){const E=k[x];i.push(m+E)}a=c+(a.length>0?" "+a:a)}return a};function Dg(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=Jc(e))&&(n&&(n+=" "),n+=r);return n}const Jc=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=Jc(t[n]))&&(r&&(r+=" "),r+=e);return r};function zg(t,...e){let r,n,s,i=o;function o(l){const c=e.reduce((u,h)=>h(u),t());return r=$g(c),n=r.cache.get,s=r.cache.set,i=a,a(l)}function a(l){const c=n(l);if(c)return c;const u=Ug(l,r);return s(l,u),u}return function(){return i(Dg.apply(null,arguments))}}const Z=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},Yc=/^\[(?:([a-z-]+):)?(.+)\]$/i,Wg=/^\d+\/\d+$/,Bg=new Set(["px","full","screen"]),qg=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Hg=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Vg=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Gg=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Kg=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,st=t=>Yt(t)||Bg.has(t)||Wg.test(t),gt=t=>sr(t,"length",rv),Yt=t=>!!t&&!Number.isNaN(Number(t)),Rs=t=>sr(t,"number",Yt),dr=t=>!!t&&Number.isInteger(Number(t)),Jg=t=>t.endsWith("%")&&Yt(t.slice(0,-1)),U=t=>Yc.test(t),vt=t=>qg.test(t),Yg=new Set(["length","size","percentage"]),Xg=t=>sr(t,Yg,Xc),Zg=t=>sr(t,"position",Xc),Qg=new Set(["image","url"]),ev=t=>sr(t,Qg,sv),tv=t=>sr(t,"",nv),hr=()=>!0,sr=(t,e,r)=>{const n=Yc.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},rv=t=>Hg.test(t)&&!Vg.test(t),Xc=()=>!1,nv=t=>Gg.test(t),sv=t=>Kg.test(t),iv=()=>{const t=Z("colors"),e=Z("spacing"),r=Z("blur"),n=Z("brightness"),s=Z("borderColor"),i=Z("borderRadius"),o=Z("borderSpacing"),a=Z("borderWidth"),l=Z("contrast"),c=Z("grayscale"),u=Z("hueRotate"),h=Z("invert"),d=Z("gap"),p=Z("gradientColorStops"),g=Z("gradientColorStopPositions"),f=Z("inset"),v=Z("margin"),m=Z("opacity"),y=Z("padding"),k=Z("saturate"),x=Z("scale"),E=Z("sepia"),T=Z("skew"),M=Z("space"),S=Z("translate"),F=()=>["auto","contain","none"],j=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto",U,e],A=()=>[U,e],q=()=>["",st,gt],L=()=>["auto",Yt,U],V=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],G=()=>["solid","dashed","dotted","double","none"],z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],te=()=>["start","end","center","between","around","evenly","stretch"],se=()=>["","0",U],Se=()=>["auto","avoid","all","avoid-page","page","left","right","column"],X=()=>[Yt,U];return{cacheSize:500,separator:":",theme:{colors:[hr],spacing:[st,gt],blur:["none","",vt,U],brightness:X(),borderColor:[t],borderRadius:["none","","full",vt,U],borderSpacing:A(),borderWidth:q(),contrast:X(),grayscale:se(),hueRotate:X(),invert:se(),gap:A(),gradientColorStops:[t],gradientColorStopPositions:[Jg,gt],inset:N(),margin:N(),opacity:X(),padding:A(),saturate:X(),scale:X(),sepia:se(),skew:X(),space:A(),translate:A()},classGroups:{aspect:[{aspect:["auto","square","video",U]}],container:["container"],columns:[{columns:[vt]}],"break-after":[{"break-after":Se()}],"break-before":[{"break-before":Se()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...V(),U]}],overflow:[{overflow:j()}],"overflow-x":[{"overflow-x":j()}],"overflow-y":[{"overflow-y":j()}],overscroll:[{overscroll:F()}],"overscroll-x":[{"overscroll-x":F()}],"overscroll-y":[{"overscroll-y":F()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[f]}],"inset-x":[{"inset-x":[f]}],"inset-y":[{"inset-y":[f]}],start:[{start:[f]}],end:[{end:[f]}],top:[{top:[f]}],right:[{right:[f]}],bottom:[{bottom:[f]}],left:[{left:[f]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",dr,U]}],basis:[{basis:N()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",U]}],grow:[{grow:se()}],shrink:[{shrink:se()}],order:[{order:["first","last","none",dr,U]}],"grid-cols":[{"grid-cols":[hr]}],"col-start-end":[{col:["auto",{span:["full",dr,U]},U]}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":[hr]}],"row-start-end":[{row:["auto",{span:[dr,U]},U]}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",U]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",U]}],gap:[{gap:[d]}],"gap-x":[{"gap-x":[d]}],"gap-y":[{"gap-y":[d]}],"justify-content":[{justify:["normal",...te()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...te(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...te(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[M]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[M]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",U,e]}],"min-w":[{"min-w":[U,e,"min","max","fit"]}],"max-w":[{"max-w":[U,e,"none","full","min","max","fit","prose",{screen:[vt]},vt]}],h:[{h:[U,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[U,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[U,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[U,e,"auto","min","max","fit"]}],"font-size":[{text:["base",vt,gt]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Rs]}],"font-family":[{font:[hr]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",U]}],"line-clamp":[{"line-clamp":["none",Yt,Rs]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",st,U]}],"list-image":[{"list-image":["none",U]}],"list-style-type":[{list:["none","disc","decimal",U]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[m]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[m]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...G(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",st,gt]}],"underline-offset":[{"underline-offset":["auto",st,U]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",U]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",U]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[m]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...V(),Zg]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Xg]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},ev]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[m]}],"border-style":[{border:[...G(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[m]}],"divide-style":[{divide:G()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...G()]}],"outline-offset":[{"outline-offset":[st,U]}],"outline-w":[{outline:[st,gt]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[m]}],"ring-offset-w":[{"ring-offset":[st,gt]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",vt,tv]}],"shadow-color":[{shadow:[hr]}],opacity:[{opacity:[m]}],"mix-blend":[{"mix-blend":[...z(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":z()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",vt,U]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[k]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[m]}],"backdrop-saturate":[{"backdrop-saturate":[k]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",U]}],duration:[{duration:X()}],ease:[{ease:["linear","in","out","in-out",U]}],delay:[{delay:X()}],animate:[{animate:["none","spin","ping","pulse","bounce",U]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[x]}],"scale-x":[{"scale-x":[x]}],"scale-y":[{"scale-y":[x]}],rotate:[{rotate:[dr,U]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[T]}],"skew-y":[{"skew-y":[T]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",U]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",U]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",U]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[st,gt,Rs]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},ov=zg(iv);function Lr(...t){return ov(Vc(t))}const av=Ig("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 shadow-subtle hover:shadow-elevated",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent/50 hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent/50 hover:text-accent-foreground shadow-none hover:shadow-none",link:"text-primary underline-offset-4 hover:underline shadow-none hover:shadow-none"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3 text-xs",lg:"h-11 rounded-md px-8 text-base",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),dn=w.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...s},i)=>{const o=n?Eu:"button";return C.jsx(o,{className:Lr(av({variant:e,size:r,className:t})),ref:i,...s})});dn.displayName="Button";const xi=w.forwardRef(({className:t,type:e,...r},n)=>C.jsx("input",{type:e,className:Lr("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background transition-all duration-200 file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:border-primary focus-visible:ring-1 focus-visible:ring-primary disabled:cursor-not-allowed disabled:opacity-50 md:text-sm shadow-sm",t),ref:n,...r}));xi.displayName="Input";function dt(t,e,{checkForDefaultPrevented:r=!0}={}){return function(s){if(t==null||t(s),r===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function Ji(t,e=[]){let r=[];function n(i,o){const a=w.createContext(o),l=r.length;r=[...r,o];const c=h=>{var m;const{scope:d,children:p,...g}=h,f=((m=d==null?void 0:d[t])==null?void 0:m[l])||a,v=w.useMemo(()=>g,Object.values(g));return C.jsx(f.Provider,{value:v,children:p})};c.displayName=i+"Provider";function u(h,d){var f;const p=((f=d==null?void 0:d[t])==null?void 0:f[l])||a,g=w.useContext(p);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[c,u]}const s=()=>{const i=r.map(o=>w.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return w.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[n,lv(s,...e)]}function lv(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((a,{useScope:l,scopeName:c})=>{const h=l(i)[`__scope${c}`];return{...a,...h}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}function cv(t){const e=t+"CollectionProvider",[r,n]=Ji(e),[s,i]=r(e,{collectionRef:{current:null},itemMap:new Map}),o=f=>{const{scope:v,children:m}=f,y=_.useRef(null),k=_.useRef(new Map).current;return C.jsx(s,{scope:v,itemMap:k,collectionRef:y,children:m})};o.displayName=e;const a=t+"CollectionSlot",l=Ts(a),c=_.forwardRef((f,v)=>{const{scope:m,children:y}=f,k=i(a,m),x=hn(v,k.collectionRef);return C.jsx(l,{ref:x,children:y})});c.displayName=a;const u=t+"CollectionItemSlot",h="data-radix-collection-item",d=Ts(u),p=_.forwardRef((f,v)=>{const{scope:m,children:y,...k}=f,x=_.useRef(null),E=hn(v,x),T=i(u,m);return _.useEffect(()=>(T.itemMap.set(x,{ref:x,...k}),()=>void T.itemMap.delete(x))),C.jsx(d,{[h]:"",ref:E,children:y})});p.displayName=u;function g(f){const v=i(t+"CollectionConsumer",f);return _.useCallback(()=>{const y=v.collectionRef.current;if(!y)return[];const k=Array.from(y.querySelectorAll(`[${h}]`));return Array.from(v.itemMap.values()).sort((T,M)=>k.indexOf(T.ref.current)-k.indexOf(M.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:c,ItemSlot:p},g,n]}var Rn=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{},uv=Ba[" useId ".trim().toString()]||(()=>{}),dv=0;function Zc(t){const[e,r]=w.useState(uv());return Rn(()=>{r(n=>n??String(dv++))},[t]),e?`radix-${e}`:""}var hv=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ir=hv.reduce((t,e)=>{const r=Ts(`Primitive.${e}`),n=w.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),C.jsx(l,{...a,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function pv(t){const e=w.useRef(t);return w.useEffect(()=>{e.current=t}),w.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}var fv=Ba[" useInsertionEffect ".trim().toString()]||Rn;function Qc({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[s,i,o]=gv({defaultProp:e,onChange:r}),a=t!==void 0,l=a?t:s;{const u=w.useRef(t!==void 0);w.useEffect(()=>{const h=u.current;h!==a&&console.warn(`${n} is changing from ${h?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=a},[a,n])}const c=w.useCallback(u=>{var h;if(a){const d=vv(u)?u(t):u;d!==t&&((h=o.current)==null||h.call(o,d))}else i(u)},[a,t,i,o]);return[l,c]}function gv({defaultProp:t,onChange:e}){const[r,n]=w.useState(t),s=w.useRef(r),i=w.useRef(e);return fv(()=>{i.current=e},[e]),w.useEffect(()=>{var o;s.current!==r&&((o=i.current)==null||o.call(i,r),s.current=r)},[r,s]),[r,n,i]}function vv(t){return typeof t=="function"}var mv=w.createContext(void 0);function eu(t){const e=w.useContext(mv);return t||e||"ltr"}var Os="rovingFocusGroup.onEntryFocus",_v={bubbles:!1,cancelable:!0},Ur="RovingFocusGroup",[Ei,tu,bv]=cv(Ur),[yv,ru]=Ji(Ur,[bv]),[wv,kv]=yv(Ur),nu=w.forwardRef((t,e)=>C.jsx(Ei.Provider,{scope:t.__scopeRovingFocusGroup,children:C.jsx(Ei.Slot,{scope:t.__scopeRovingFocusGroup,children:C.jsx(Sv,{...t,ref:e})})}));nu.displayName=Ur;var Sv=w.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...h}=t,d=w.useRef(null),p=hn(e,d),g=eu(i),[f,v]=Qc({prop:o,defaultProp:a??null,onChange:l,caller:Ur}),[m,y]=w.useState(!1),k=pv(c),x=tu(r),E=w.useRef(!1),[T,M]=w.useState(0);return w.useEffect(()=>{const S=d.current;if(S)return S.addEventListener(Os,k),()=>S.removeEventListener(Os,k)},[k]),C.jsx(wv,{scope:r,orientation:n,dir:g,loop:s,currentTabStopId:f,onItemFocus:w.useCallback(S=>v(S),[v]),onItemShiftTab:w.useCallback(()=>y(!0),[]),onFocusableItemAdd:w.useCallback(()=>M(S=>S+1),[]),onFocusableItemRemove:w.useCallback(()=>M(S=>S-1),[]),children:C.jsx(ir.div,{tabIndex:m||T===0?-1:0,"data-orientation":n,...h,ref:p,style:{outline:"none",...t.style},onMouseDown:dt(t.onMouseDown,()=>{E.current=!0}),onFocus:dt(t.onFocus,S=>{const F=!E.current;if(S.target===S.currentTarget&&F&&!m){const j=new CustomEvent(Os,_v);if(S.currentTarget.dispatchEvent(j),!j.defaultPrevented){const N=x().filter(G=>G.focusable),A=N.find(G=>G.active),q=N.find(G=>G.id===f),V=[A,q,...N].filter(Boolean).map(G=>G.ref.current);ou(V,u)}}E.current=!1}),onBlur:dt(t.onBlur,()=>y(!1))})})}),su="RovingFocusGroupItem",iu=w.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:i,children:o,...a}=t,l=Zc(),c=i||l,u=kv(su,r),h=u.currentTabStopId===c,d=tu(r),{onFocusableItemAdd:p,onFocusableItemRemove:g,currentTabStopId:f}=u;return w.useEffect(()=>{if(n)return p(),()=>g()},[n,p,g]),C.jsx(Ei.ItemSlot,{scope:r,id:c,focusable:n,active:s,children:C.jsx(ir.span,{tabIndex:h?0:-1,"data-orientation":u.orientation,...a,ref:e,onMouseDown:dt(t.onMouseDown,v=>{n?u.onItemFocus(c):v.preventDefault()}),onFocus:dt(t.onFocus,()=>u.onItemFocus(c)),onKeyDown:dt(t.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){u.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const m=Cv(v,u.orientation,u.dir);if(m!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let k=d().filter(x=>x.focusable).map(x=>x.ref.current);if(m==="last")k.reverse();else if(m==="prev"||m==="next"){m==="prev"&&k.reverse();const x=k.indexOf(v.currentTarget);k=u.loop?Pv(k,x+1):k.slice(x+1)}setTimeout(()=>ou(k))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:f!=null}):o})})});iu.displayName=su;var xv={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Ev(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Cv(t,e,r){const n=Ev(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return xv[n]}function ou(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function Pv(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var Iv=nu,Rv=iu;function Ov(t,e){return w.useReducer((r,n)=>e[r][n]??r,t)}var au=t=>{const{present:e,children:r}=t,n=Tv(e),s=typeof r=="function"?r({present:n.isPresent}):w.Children.only(r),i=hn(n.ref,Mv(s));return typeof r=="function"||n.isPresent?w.cloneElement(s,{ref:i}):null};au.displayName="Presence";function Tv(t){const[e,r]=w.useState(),n=w.useRef(null),s=w.useRef(t),i=w.useRef("none"),o=t?"mounted":"unmounted",[a,l]=Ov(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const c=on(n.current);i.current=a==="mounted"?c:"none"},[a]),Rn(()=>{const c=n.current,u=s.current;if(u!==t){const d=i.current,p=on(c);t?l("MOUNT"):p==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&d!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Rn(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,h=p=>{const f=on(n.current).includes(CSS.escape(p.animationName));if(p.target===e&&f&&(l("ANIMATION_END"),!s.current)){const v=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=v)})}},d=p=>{p.target===e&&(i.current=on(n.current))};return e.addEventListener("animationstart",d),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",d),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:w.useCallback(c=>{n.current=c?getComputedStyle(c):null,r(c)},[])}}function on(t){return(t==null?void 0:t.animationName)||"none"}function Mv(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var qn="Tabs",[Av,Qv]=Ji(qn,[ru]),lu=ru(),[jv,Yi]=Av(qn),cu=w.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:l="automatic",...c}=t,u=eu(a),[h,d]=Qc({prop:n,onChange:s,defaultProp:i??"",caller:qn});return C.jsx(jv,{scope:r,baseId:Zc(),value:h,onValueChange:d,orientation:o,dir:u,activationMode:l,children:C.jsx(ir.div,{dir:u,"data-orientation":o,...c,ref:e})})});cu.displayName=qn;var uu="TabsList",du=w.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...s}=t,i=Yi(uu,r),o=lu(r);return C.jsx(Iv,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:C.jsx(ir.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});du.displayName=uu;var hu="TabsTrigger",pu=w.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...i}=t,o=Yi(hu,r),a=lu(r),l=vu(o.baseId,n),c=mu(o.baseId,n),u=n===o.value;return C.jsx(Rv,{asChild:!0,...a,focusable:!s,active:u,children:C.jsx(ir.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:e,onMouseDown:dt(t.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?o.onValueChange(n):h.preventDefault()}),onKeyDown:dt(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(n)}),onFocus:dt(t.onFocus,()=>{const h=o.activationMode!=="manual";!u&&!s&&h&&o.onValueChange(n)})})})});pu.displayName=hu;var fu="TabsContent",gu=w.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:s,children:i,...o}=t,a=Yi(fu,r),l=vu(a.baseId,n),c=mu(a.baseId,n),u=n===a.value,h=w.useRef(u);return w.useEffect(()=>{const d=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(d)},[]),C.jsx(au,{present:s||u,children:({present:d})=>C.jsx(ir.div,{"data-state":u?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!d,id:c,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:d&&i})})});gu.displayName=fu;function vu(t,e){return`${t}-trigger-${e}`}function mu(t,e){return`${t}-content-${e}`}var Fv=cu,_u=du,bu=pu,yu=gu;const Nv=Fv,wu=w.forwardRef(({className:t,...e},r)=>C.jsx(_u,{ref:r,className:Lr("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));wu.displayName=_u.displayName;const Ci=w.forwardRef(({className:t,...e},r)=>C.jsx(bu,{ref:r,className:Lr("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Ci.displayName=bu.displayName;const Pi=w.forwardRef(({className:t,...e},r)=>C.jsx(yu,{ref:r,className:Lr("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Pi.displayName=yu.displayName;const $v=({words:t,className:e="",interval:r=2e3,emphasizedWord:n,emphasisFactor:s=1})=>{const[i,o]=w.useState(0),[a,l]=w.useState(!1),c=w.useRef(null);w.useEffect(()=>{const d=setInterval(()=>{a||o(p=>(p+1)%t.length)},r);return()=>{clearInterval(d),c.current&&clearTimeout(c.current)}},[t.length,r,a]),w.useEffect(()=>{const h=t[i].toLowerCase();if(n&&h===n.toLowerCase()){l(!0);const d=r*(s||2);c.current=setTimeout(()=>{l(!1)},d)}return()=>{c.current&&clearTimeout(c.current)}},[i,t,n,s,r]);const u=t.reduce((h,d)=>h.length>d.length?h:d);return C.jsx("span",{className:`inline-block relative ${e}`,style:{minWidth:`${u.length}ch`},children:t.map((h,d)=>C.jsx("span",{className:`inline-block transition-opacity duration-500 ${d===i?"opacity-100":"opacity-0 absolute top-0 left-0"}`,children:h},d))})};class Lv{constructor(){eo(this,"token",null)}async login(e,r){try{const s=await(await fetch("https://wavepitch-v1.lorcanclarke.workers.dev/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:e})})).json();return s.success&&s.token?(this.token=s.token,localStorage.setItem("auth-token",s.token),r==null||r("user_logged_in",{method:"password"}),{success:!0}):(r==null||r("login_failed",{method:"password",error:s.error}),{success:!1,error:s.error||"Login failed"})}catch(n){return console.error("Login failed:",n),r==null||r("login_error",{method:"password",error:"Server error"}),{success:!1,error:"Server error"}}}async isAuthenticated(){const e=this.getToken();if(!e)return!1;try{return(await(await fetch("https://wavepitch-v1.lorcanclarke.workers.dev/api/validate-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e})})).json()).valid===!0}catch(r){return console.error("Session validation failed:",r),!1}}async getProtectedData(){const e=this.getToken();if(!e)throw new Error("Not authenticated");const r=await fetch("https://wavepitch-v1.lorcanclarke.workers.dev/api/protected-data",{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!r.ok)throw new Error("Failed to fetch protected data");return r.json()}logout(){this.token=null,localStorage.removeItem("auth-token")}getToken(){if(this.token)return this.token;const e=localStorage.getItem("auth-token");return e?(this.token=e,e):null}}const Uv=new Lv;function Dv({onAuthenticated:t}={}){const[e,r]=w.useState(""),[n,s]=w.useState(!1),[i,o]=w.useState(!1),[a,l]=w.useState(""),[c,u]=w.useState(!1),[h,d]=w.useState(""),[p,g]=w.useState("waitlist"),f=zd(),v=xg(),m=["explore?","work through?","discover?","chat about?","discuss?","problem solve?","brainstorm?"],y=async x=>{var T,M;if(x.preventDefault(),!/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(e)){alert("Please enter a valid email address");return}s(!0);try{const S=await f.client.signUp.create({emailAddress:e});S.createdUserId&&(console.log("User created:",S.createdUserId),v.capture("waitlist_signup",{email:e,user_id:S.createdUserId})),o(!0),r("")}catch(S){console.error("Waitlist signup error:",S),((M=(T=S.errors)==null?void 0:T[0])==null?void 0:M.code)==="form_identifier_exists"?(o(!0),r("")):alert("Failed to join waitlist. Please try again.")}finally{s(!1)}},k=async x=>{x.preventDefault(),u(!0),d("");try{const E=await Uv.login(a,v.capture);E.success?(localStorage.setItem("app_password_authenticated","true"),t&&t()):d(E.error||"Incorrect password")}catch(E){console.error("Error validating password:",E),d("Error validating password. Please try again.")}finally{u(!1)}};return C.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-background overflow-auto relative",children:[C.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"url(/images/background.png)",backgroundSize:"cover",backgroundPosition:"center",opacity:.5}}),C.jsx("div",{className:"absolute top-8 left-1/2 transform -translate-x-1/2 z-20",children:C.jsx("img",{src:"/images/onboardinglogo_4.png",alt:"Logo",className:"h-24 w-auto",loading:"eager",fetchPriority:"high"})}),C.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center w-full h-full px-4",children:[C.jsx("div",{className:"max-w-md w-full mx-auto mb-6",children:C.jsxs("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-lato font-bold tracking-tight leading-tight",children:[C.jsx("span",{className:"gradient-text",children:"What can we "}),C.jsx("span",{className:"text-primary",children:C.jsx($v,{words:m,className:"leading-none",emphasizedWord:"brainstorm",emphasisFactor:2})})]})}),C.jsx("div",{className:"max-w-md w-full mx-auto",children:C.jsx("div",{className:"w-full p-8 space-y-4 bg-white rounded-lg shadow-lg border border-gray-100",children:C.jsxs(Nv,{value:p,onValueChange:g,className:"w-full",children:[C.jsxs(wu,{className:"grid w-full grid-cols-2 mb-6",children:[C.jsx(Ci,{value:"waitlist",children:"Join Waitlist"}),C.jsx(Ci,{value:"password",children:"Enter Password"})]}),C.jsx(Pi,{value:"waitlist",className:"space-y-4",children:i?C.jsxs("div",{className:"text-center space-y-4",children:[C.jsx("p",{className:"text-muted-foreground",children:"Successfully joined the waitlist!"}),C.jsx(dn,{onClick:()=>o(!1),variant:"outline",className:"w-full",children:"Add another email to waitlist"})]}):C.jsxs(C.Fragment,{children:[C.jsxs("div",{children:[C.jsx("h2",{className:"text-2xl font-bold text-center",children:"Join the Waitlist"}),C.jsx("p",{className:"text-center text-muted-foreground",children:"Sign up to get notified when we launch."})]}),C.jsxs("form",{onSubmit:y,className:"space-y-4",children:[C.jsx("div",{className:"space-y-2",children:C.jsx(xi,{type:"email",placeholder:"Email address *",value:e,onChange:x=>r(x.target.value),required:!0,autoFocus:p==="waitlist",disabled:n})}),C.jsx(dn,{type:"submit",className:"w-full",disabled:n,children:n?C.jsxs(C.Fragment,{children:[C.jsx(to,{className:"mr-2 h-4 w-4 animate-spin"}),"Submitting..."]}):"Join Waitlist"})]})]})}),C.jsxs(Pi,{value:"password",className:"space-y-4",children:[C.jsxs("div",{children:[C.jsx("h2",{className:"text-2xl font-bold text-center",children:"Enter Password"}),C.jsx("p",{className:"text-center text-muted-foreground",children:"This app is currently in testing mode and requires a password to access."})]}),C.jsxs("form",{onSubmit:k,className:"space-y-4",children:[C.jsxs("div",{className:"space-y-2",children:[C.jsx(xi,{type:"password",placeholder:"Enter password",value:a,onChange:x=>l(x.target.value),autoFocus:p==="password",disabled:c}),h&&C.jsx("p",{className:"text-sm text-red-500",children:h})]}),C.jsx(dn,{type:"submit",className:"w-full",disabled:c,children:c?C.jsxs(C.Fragment,{children:[C.jsx(to,{className:"mr-2 h-4 w-4 animate-spin"}),"Validating..."]}):"Enter App"})]})]})]})})})]})]})}function zv(){return C.jsx(Dv,{})}const Wv="pk_test_placeholder",Bv={api_host:"https://eu.i.posthog.com"};qa(document.getElementById("root")).render(C.jsx(w.StrictMode,{children:C.jsx(Sg,{apiKey:"phc_x3XeUrn75NsNjblmdS9RlqzR6uTH2EuiutCytFGAt4H",options:Bv,children:C.jsx(Al,{publishableKey:Wv,children:C.jsx(zv,{})})})}));
